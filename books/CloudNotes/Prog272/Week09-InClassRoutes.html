<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Week09-InClassRoutes</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css"><link href="/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css"><script src="/libs/scripts/jquery.min.js"></script><script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script><script src="/libs/scripts/elvenware.js" type="text/javascript"></script><script src="/libs/scripts/Control.js"></script></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/index.html" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/contents.html">About</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/images/elvenwarelogo.png"/></figure><h1>Week09-InClassRoutes</h1><p>Welcome to Week09-InClassRoutes</p><h1 id="click-route">Click Route</h1>
<p>I have created a project and made it available for download as <a href="http://elvenware.com/charlie/downloads/ClickRoute.zip">ClickRoute.zip</a>. Download that project. Copy it into your repo and unzip it:</p>
<pre><code>unzip ClickReader.zip
</code></pre><ul>
<li>Put your routes in /routes/index.js</li>
<li>Be sure you include documentready or DomReady in require</li>
</ul>
<h2 id="step01">Step01 - Rename the Eclipse Project File</h2>
<p>Rename the project from <strong>ClickRoute</strong> to <strong>ClickRoute-LastName</strong>, where LastName is your last name.</p>
<h2 id="step02">Step02 - Server Side</h2>
<p>Define three routes in app.js (or server.js). The routes are as follows:</p>
<ul>
<li>/Item01</li>
<li>/Item02</li>
<li>/Item03</li>
</ul>
<p>Here for instance, is a route for Item01:</p>
<pre><code>app.get(&#39;/Item01&#39;, function(request, response) {
    var result = { &quot;result&quot;: &quot;Success&quot; };
    response.send(result);
});
</code></pre><p>Create similar routes for Item02 and Item03. Change the <strong>result</strong> object literal so that it has three properties:</p>
<ul>
<li>result</li>
<li>route</li>
<li>message</li>
</ul>
<p>Set the <strong>result</strong> property to <strong>Success</strong> as shown above. Set <strong>route</strong> to the name of the route, such as <strong>/Item01</strong>. Set the <strong>message</strong> to the string <strong>The server sent me.</strong></p>
<h2 id="step03">Step03 - Client Side</h2>
<p>Open up ClickEvent.js and look for the listClick method:</p>
<pre><code>var listClick = function(event) {
    var clickText = event.target.innerHTML; // was innerText
};
</code></pre><p>This method is called whenever the user clicks on one of the list items in the unordered list found on the site&#39;s web page. </p>
<p>From inside this one method, I want you to call <a href="http://www.elvenware.com/charlie/development/web/JavaScript/JQueryBasic.html#getJSON">getJSON</a>. As you remember, getJSON looks a bit like this:</p>
<pre><code>$.getJSON(&#39;/SOME_ROUTE, function(DATA_FROM_SERVER) {
    // Do something such as: $(SOME_SELECTOR).html(DATA_FROM_SERVER);
});
</code></pre><p>I want you to dynamically change <strong>/SOME_ROUTE</strong> depending on what list item the user clicked. If they clicked on <strong>Item01</strong>, then set the route to <strong>/Item01</strong>. This should call the appropriate route that you set up on the server in the previous step. There are multiple ways to solve this problem, but it would be nice if you only had to call getJSON once. In other words, set the string to pass as the route, then pass that string in the first parameter to getJSON:</p>
<pre><code>var someString = // Define the route based on the information you already have
$.getJSON(someString, function ... 
</code></pre><h2 id="step04">Step04 - Parse the data</h2>
<p>When you called <strong>response.send</strong> back on the server, you sent an object from the client to the server. On the client side, this object is passed to the <strong>getJSON</strong> callback:</p>
<pre><code>$.getJSON(&#39;/SOME_ROUTE, function(DATA_FROM_SERVER) {
</code></pre><p>Parse the data sent from the server and display it to the user in three paragraph tags that appear on your HTML page. In Jade, that will look like this:</p>
<pre><code>p#result
p#route
p#message
</code></pre><p>Inside the call to <strong>getJSON</strong>, use jQuery to set each of these paragraphs to one of the properties from the object sent by your server. </p>
<p><strong>Hint</strong>: <em>Compare the ID&#39;s shown above to the properties of the object you set up in <a href="#step02">Step02</a></em>. </p>
<p>When you are done, the app should respond to clicks on the list items as follows:</p>
<ul>
<li>Call getJSON to invoke a route on the server</li>
<li>On the server, respond by sending back a custom object with three properties</li>
<li>On the client receive the data, and display each of the three properties to the user. Each property should appear in a separate paragraph tag that was configured with Jade.</li>
</ul>
<h2 id="sample-interface">Sample Interface</h2>
<p>It can look as you please, but here is an example interface.</p>
<p><img src="http://www.elvenware.com/charlie/books/CloudNotes/Images/ClickEvents05.png" alt="Click Route"></p>
<h2 id="step05">Step05: Turn it In</h2>
<p>Check it into your repository in a folder called <strong>Week09-ClickReader</strong>. </p>
</div></body></html<li><a href="#click-route">Click Route</a></li>
<li><a href="#step01">Step01 - Rename the Eclipse Project File</a></li>
<li><a href="#step02">Step02 - Server Side</a></li>
<li><a href="#step03">Step03 - Client Side</a></li>
<li><a href="#step04">Step04 - Parse the data</a></li>
<li><a href="#sample-interface">Sample Interface</a></li>
<li><a href="#step05">Step05: Turn it In</a></li>>