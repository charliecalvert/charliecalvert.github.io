<!DOCTYPE html>
<html dir="ltr">

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

<title>Week07</title>

<meta content="width=device-width,minimum-scale=1.0,maximum-scale=1.0" name="viewport" />
<link href="/charlie/libs/css/style2.css" rel="stylesheet" title="style2" type="text/css" />
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/sunny/jquery-ui.css" />
<!-- link href="/charlie/libs/jquery-ui/jquery-ui.css" rel="stylesheet" type="text/css" / -->
<!-- script src="/charlie/libs/scripts/jquery.min.js"></script -->
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js" type="text/javascript"></script>
<script src="/charlie/libs/scripts/elvenware.js" type="text/javascript"></script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2806409-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body>



<div id="container">
	<header>
		<div class="navButton" onclick="elvenware.toggleMenu()">
			Toggle Menu</div>
		<h1>Charlie Calvert on Elvenware</h1>
		<h2>Writing Code and Prose on Computers</h2>
	</header>
	<nav>
		<h2>Menu</h2>
		<div id="accordion00">
			<h2 class="navSection01">Core Code</h2>
				<ul>
					<li><a href="/charlie/development/index.html">Strongly Typed</a></li>
					<li><a href="/charlie/development/web/index.html">Web &amp; Scripts</a></li>
					<li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li>
				</ul>
			
			<h2 class="navSection02">OS and Tools</h2>
				<ul>
					<li><a href="/charlie/os/index.html">OS</a></li>
					<li><a href="/charlie/development/database/index.html">Database</a></li>
					<li><a href="/charlie/books/index.html">My Writing</a></li>
				</ul>
			
			<h2 class="navSection03">Art</h2>
				<ul>
					<li><a href="/charlie/Art/index.html">Poems &amp; Photos</a></li>
					<li><a href="/charlie/books/reading/index.html">Book Reviews</a></li>
					<li><a href="/charlie/spirit/index.html">Spiritual</a></li>
				</ul>
			
			<h2 class="navSection04">Links</h2>
				<ul>
					<li><a href="/charlie/links.html">My Links</a></li>
					<li><a href="http://www.falafel.com/">Falafel</a></li>
					<li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li>
				</ul>
		</div>
	</nav>

	<article>
		<figure>
			<img alt="Elvenware" src="/charlie/images/elvenwarelogo.png" /></figure>
<h2>Table of Contents</h2>
<ul>
	<li><a href='#week-07'>Week 07</a></li>
	<li><a href='#in-class'>In Class</a></li>
	<li><a href='#grunt'>Grunt</a></li>
	<li><a href='#unit-test-examples'>Unit Test Examples</a></li>
	<li><a href='#json-from-server'>JSON from Server</a></li>
	<li><a href='#characters'>Characters</a></li>
	<li><a href='#online'>Online</a></li>
	<li><a href='#assignment-03'>Assignment 03</a></li>
	<li><a href='#assignment-midterm'>Assignment Midterm</a></li>
</ul>
<h1 id="week-07">Week 07</h1>
<h2 id="in-class">In Class</h2>
<ul>
<li><a href="http://bit.ly/172VnGB">The Deck</a></li>
</ul>
<h3 id="grunt">Grunt</h3>
<ul>
<li><a href="http://elvenware.com/charlie/development/web/UnitTests/Grunt.html">Grunt on Elvenware</a></li>
</ul>
<h3 id="unit-test-examples">Unit Test Examples</h3>
<p>You might also be interested in the tests for Crafty03.</p>
<ul>
<li><a href="/charlie/development/web/JavaScript/Angular.html#basicMock">Mock Example</a></li>
</ul>
<h3 id="json-from-server">JSON from Server</h3>
<p>Retrieve JSON from a server:</p>
<ul>
<li><p><a href="/charlie/development/web/JavaScript/Angular.html#jsonFromServer">JSON Example</a></p></li>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Design/JsonFromServer">Example</a></li>
<li><p><a href="https://github.com/charliecalvert/JsObjects/blob/master/JavaScript/Design/JsonFromServer/index.js">Key File</a></p></li>
</ul>
<h3 id="characters">Characters</h3>
<ul>
<li>Hitpoints: How much damage can a character take before losing consciousness</li>
<li>Damage: How much damage does a character wield</li>
</ul>
<h2 id="online">Online</h2>
<h3 id="assignment-03">Assignment 03</h3>
<p>Use this function to extend the range of the string class:</p>
<pre><code>if (typeof String.prototype.endsWith !== &#39;function&#39;) {
    String.prototype.endsWith = function(suffix) {
        return this.indexOf(suffix, this.length - suffix.length) !== -1;
    };
}</code></pre>
<h3 id="assignment-midterm">Assignment Midterm</h3>
<p>This is an extension of the Crafty Game that includes support for encounters that have a real competition between the main character and the village where either one or the other can win.</p>
<p>Your assignment must:</p>
<ul>
<li>Get some data from MongoDb</li>
<li>Some data from JSON file</li>
<li>You should have at least some of your own graphics in the Crafty game</li>
<li>And the encounter should allow:
<ul>
<li>The hero character to be defeated</li>
<li>The village to be defeated</li>
<li>Grunt support for jshint</li>
</ul></li>
</ul>
<p>For instance get the Tower information now found in Characters.js from Mongo, and the Hero information from a JSON file.</p>
<p>As a reference, Go to:</p>
<ul>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/Data/MongoLab01">Mongo Example 01</a></li>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/Data/MongoLab02">Mongo Example 02</a></li>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Design/JsonFromServer">JSON Example</a></li>
</ul>
<p>I've ran some Mongo Database code against the most recent angular code and started getting an error like this:</p>
<pre><code>Error: Referencing private fields in Angular expressions is disallowed! Expression: _id.$oid</code></pre>
<p>Incredibly, this was a code change that they decided to role back. I think too many people complained. So this is no longer an issue if you have the most recent builds of Angular. But if you want to fix you code so it handles this restriction, then do this: This is a reference to this line from index.js (MongoLab01) and MongoData.js (MongoLab02):</p>
<pre><code>id:&#39;@_id.$oid&#39;</code></pre>
<p>For now, to fix the problem, just comment out or delete the line:</p>
<pre><code>var Presidents = $resource(&#39;https://api.mongolab.com/api/1/databases/elvenlab01/collections/Presidents/:id&#39;, {
    apiKey:&#39;qfSxFoUGHBA1EuUlqhux_op2fy6oF_wy&#39;,     
});</code></pre>
<p>And here it is commented out:</p>
<pre><code>var Presidents = $resource(&#39;https://api.mongolab.com/api/1/databases/elvenlab01/collections/Foo/:id&#39;, {      
    apiKey:&#39;qfSxFoUGHBA1EuUlqhux_op2fy6oF_wy&#39;,
    // id:&#39;@_id.$oid&#39;
});</code></pre>
<p>I've updated both samples to fix the problem, and now include the latest Angular code with them.</p>
<ul>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/Data/MongoLab01">MongoLab01</a></li>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/Data/MongoLab02">MongoLab02</a></li>
</ul>
<p>I've updated <a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Games/CharacterCreate01">JsObjects/JavaScript/Games/CharacterCreate01</a>. It now contains a button, and when you click it, there is a mock encounter between a Hero and a Tower. The point of the demo is to show how you can create similar simulations outside the context of the game.</p>
</article>
	<footer>

		<p>Copyright &copy; <a href="/charlie/index.html">Charlie Calvert</a> |
		<a href="/charlie/contents.html">Site Overview</a> |
		<a href="/charlie/development/index.html">Writing Code</a> |
		<a href="/charlie/development/web/index.html">Web</a> |
		<a href="/charlie/development/web/JavaScript/index.html">JavaScript</a> |
		<a href="/charlie/books/index.html">My Books</a> </p>
	</footer>
</div>

</body>
</html>



