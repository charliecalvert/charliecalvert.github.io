<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>Isit320-Week07-2015</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><link href="/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><script src="/libs/scripts/elvenware.js" type="text/javascript"></script><script src="/libs/scripts/Control.js"></script></head><body ng-app="elfApp"><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>Isit320-Week07-2015</h1><p>Table of Content:</p><ul><!--TOC_Start--><li><a href="#week-07">Week 07</a></li>
<li><a href="#in-class">In Class</a></li>
<li><a href="#online">Online</a></li><!--TOC_End--></ul><h1 id="week-07">Week 07</h1>
<h2 id="in-class">In Class</h2>
<ul>
<li><a href="Isit320-Resources.html">Resources</a></li>
<li><a href="http://bit.ly/172VnGB">The Deck</a></li>
</ul>
<p>###Grunt</p>
<ul>
<li><a href="http://elvenware.com/charlie/development/web/UnitTests/Grunt.html">Grunt on Elvenware</a></li>
</ul>
<p>###Unit Test Examples</p>
<p>You might also be interested in the tests for Crafty03. </p>
<ul>
<li><a href="/charlie/development/web/JavaScript/Angular.html#basicMock">Mock Example</a></li>
</ul>
<p>###JSON from Server</p>
<p>Retrieve JSON from a server:</p>
<ul>
<li><p><a href="/charlie/development/web/JavaScript/Angular.html#jsonFromServer">JSON Example</a></p>
</li>
<li><p><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Design/JsonFromServer">Example</a></p>
</li>
<li><a href="https://github.com/charliecalvert/JsObjects/blob/master/JavaScript/Design/JsonFromServer/index.js">Key File</a></li>
</ul>
<p>###Characters</p>
<ul>
<li>Hitpoints: How much damage can a character take before losing consciousness</li>
<li>Damage: How much damage does a character wield</li>
</ul>
<h2 id="online">Online</h2>
<p>###Assignment 03</p>
<p>Use this function to extend the range of the string class:</p>
<pre><code><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">String</span>.prototype.endsWith !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-built_in">String</span>.prototype.endsWith = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">suffix</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.indexOf(suffix, <span class="hljs-keyword">this</span>.length - suffix.length) !== -<span class="hljs-number">1</span>;
    };
}
</code></pre><p>###Assignment Midterm</p>
<p>This is an extension of the Crafty Game that includes support for 
encounters that have a real competition between the main character
and the village where either one or the other can win.</p>
<p>Your assignment must:</p>
<ul>
<li>Get some data from MongoDb</li>
<li>Some data from JSON file</li>
<li>You should have at least some of your own graphics in the Crafty game</li>
<li>And the encounter should allow:<ul>
<li>The hero character to be defeated </li>
<li>The village to be defeated </li>
<li>Grunt support for jshint</li>
</ul>
</li>
</ul>
<p>For instance get the Tower information now found in Characters.js 
from Mongo, and the Hero information from a JSON file.</p>
<p>As a reference, Go to:</p>
<ul>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/Data/MongoLab01">Mongo Example 01</a></li>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/Data/MongoLab02">Mongo Example 02</a></li>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Design/JsonFromServer">JSON Example</a></li>
</ul>
<p>I&#39;ve ran some Mongo Database code against the most recent angular
code and started getting an error like this:</p>
<pre><code>Error: Referencing private fields <span class="hljs-keyword">in</span> Angular expressions is disallowed! Expression: _id.<span class="hljs-variable">$oid</span>
</code></pre><p>Incredibly, this was a code change that they decided to role back. I 
think too many people complained. So this is no longer an issue if 
you have the most recent builds of Angular. But if you want to fix 
you code so it handles this restriction, then do this: This is a 
reference to this line from index.js (MongoLab01) and MongoData.js 
(MongoLab02):</p>
<pre><code><span class="hljs-tag">id</span><span class="hljs-pseudo">:'</span><span class="hljs-at_rule">@<span class="hljs-keyword">_id.$oid'</span></span>
</code></pre><p>For now, to fix the problem, just comment out or delete the line:</p>
<pre><code>var Presidents = <span class="hljs-variable">$resource</span>(<span class="hljs-string">'https://api.mongolab.com/api/1/databases/elvenlab01/collections/Presidents/:id'</span>, {
    apiKey:<span class="hljs-string">'qfSxFoUGHBA1EuUlqhux_op2fy6oF_wy'</span>,     
});
</code></pre><p>And here it is commented out:</p>
<pre><code>var Presidents = <span class="hljs-variable">$resource</span>(<span class="hljs-string">'https://api.mongolab.com/api/1/databases/elvenlab01/collections/Foo/:id'</span>, {      
    apiKey:<span class="hljs-string">'qfSxFoUGHBA1EuUlqhux_op2fy6oF_wy'</span>,
    // id:<span class="hljs-string">'@_id.$oid'</span>
});
</code></pre><p>I&#39;ve updated both samples to fix the problem, and now include the
latest Angular code with them.</p>
<ul>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/Data/MongoLab01">MongoLab01</a></li>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/Data/MongoLab02">MongoLab02</a></li>
</ul>
<p>I&#39;ve updated <a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Games/CharacterCreate01">JsObjects/JavaScript/Games/CharacterCreate01</a>. It now contains
a button, and when you click it, there is a mock encounter between 
a Hero and a Tower. The point of the demo is to show how you can 
create similar simulations outside the context of the game. </p>
</div></body></html>