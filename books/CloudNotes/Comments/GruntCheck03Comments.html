<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>GruntCheck03Comments</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><link href="/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><script src="/libs/scripts/elvenware.js" type="text/javascript"></script><script src="/libs/scripts/Control.js"></script></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>GruntCheck03Comments</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#grunt-check-03-comments-">Grunt Check 03 Comments.</a></li>
<li><a href="#setup-grunt-and-karma">Setup Grunt and Karma</a></li>
<li><a href="#chrome-might-help">Chrome Might Help</a></li>
<li><a href="#property-count">Keyword Link Property Count</a></li>
<li><a href="#filter-skip">Filter Skipped Tests</a></li>
<li><a href="#all-tests">Copy All Tests</a></li>
<li><a href="#include-jade-for-the-radio-buttons">Include Jade for the Radio Buttons</a></li><!--TOC_End--></ul><h2 id="grunt-check-03-comments-">Grunt Check 03 Comments.</h2>
<h2 id="setup-grunt-and-karma">Setup Grunt and Karma</h2>
<p>I&#39;ve noticed that some people are still not getting <strong>check-karma-grunt-config</strong> to return smoothly. For instance, look at the results shown here:</p>
<pre><code class="lang-bash">$<span class="hljs-built_in"> check-karma-grunt-config </span>

*** setup ***

js-beautify exists
beautified karma.conf.js
beautified Gruntfile.js

*** These tests are meant to help you find problems in
*** karma.conf<span class="hljs-built_in"> and </span>Gruntfile. They are<span class="hljs-built_in"> not </span>definitive

preprocessor<span class="hljs-built_in"> not </span>found 
jasmine-jquery<span class="hljs-built_in"> not </span>found 
load html files in karma config files section<span class="hljs-built_in"> not </span>found 
exec task config<span class="hljs-built_in"> not </span>found 
jade task config<span class="hljs-built_in"> not </span>found 
grunt-contrib-clean loadNpmTask mentioned
grunt-contrib-jshint loadNpmTask mentioned
grunt-jscs loadNpmTask mentioned
grunt-jsbeautifier loadNpmTask mentioned
grunt-karma loadNpmTask mentioned
grunt-contrib-jade loadNpmTask<span class="hljs-built_in"> not </span>found 
grunt-exec loadNpmTask<span class="hljs-built_in"> not </span>found 
fixture registered task<span class="hljs-built_in"> not </span>found 
beautify registered task mentioned<span class="hljs-built_in">
check </span>registered task mentioned
test registered task mentioned
[charlie@rohan-gate ~/Git/isit320-2015/isit320-enochs-2015]
</code></pre>
<p>As you can see, some of the sections come back with the words <strong>not found</strong> instead of <strong>mentioned</strong>. You need to get them to all say <strong>mentioned</strong> and to all be in green.</p>
<p>If you have completed the Single Page Express program then I have sent you a working program that includes <strong>karma.conf.js</strong> and <strong>Gruntfile.js</strong> source that passes the tests in <strong>check-karma-grunt-config.</strong></p>
<p>Don&#39;t forget that I keep <strong>check-karma-grunt-config</strong> in <strong>ELF_TEMPLATES</strong>. You should copy it from there into your bin directory so you can easily access it:</p>
<pre><code class="lang-bash">cp%20%24JSOBJECTS/Utilities/NodeInstall/check-karma-grunt-config%20%7E/bin/.
</code></pre>
<h2 id="chrome-might-help">Chrome Might Help</h2>
<p>In Chrome, you can debug your code with the Chrome developer tools as we do with a normal program. See this section here for a reminder about how to proceed:</p>
<ul>
<li><a href="http://www.ccalvert.net/books/CloudNotes/Assignments/JasmineExpressMock.html#hint">Jasmine Mock Discussion Of Chrome and PhantomJS</a></li>
</ul>
<h2 id="property-count">Keyword Link Property Count</h2>
<p>A few people had trouble with this test:</p>
<pre><code class="lang-javascripts">it('shows we can get all the attributes of the text input keywordLink', function() {
    var element = document.getElementById('keywordLink')<span class="hljs-comment">;</span>
    var arr = elfTestUtils.getAttributesFromElement(<span class="hljs-name">element</span>)<span class="hljs-comment">;</span>
    elfTestUtils.showAttributes(<span class="hljs-name">element</span>, arr)<span class="hljs-comment">;</span>
    expect(<span class="hljs-name">arr</span>.length).toBe(<span class="hljs-number">6</span>)<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p>It&#39;s not a great test, but to get it to pass, you can declare your input controls like this:</p>
<pre><code class="lang-javascript">+elfInputVB(<span class="hljs-string">"Keyword Link"</span>, <span class="hljs-string">"keywordLink"</span>, <span class="hljs-string">"keywordLink"</span>)<span class="hljs-selector-id">#keywordLink</span><span class="hljs-selector-class">.form-control</span><span class="hljs-selector-class">.input-sm</span>
</code></pre>
<p>If someone reminds me to do so, we could modify this test at some point to make it less stringent. For instance:</p>
<pre><code class="lang-javascript">it('shows we can get all the attributes of the text input keywordLink', function() {
    var element = document.getElementById('keywordLink')<span class="hljs-comment">;</span>
    var arr = elfTestUtils.getAttributesFromElement(<span class="hljs-name">element</span>)<span class="hljs-comment">;</span>
    // elfTestUtils.showAttributes(<span class="hljs-name">element</span>, arr)<span class="hljs-comment">;</span>
    expect(<span class="hljs-name">arr</span>.length).toBeGreaterThan(<span class="hljs-number">3</span>)<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p>It is the last line that differs.</p>
<h2 id="filter-skip">Filter Skipped Tests</h2>
<p>If you are using the <strong>spec</strong> reporter, and most of us are, then filter out tests that are being skipped:</p>
<pre><code class="lang-javascript"><span class="hljs-attribute">reporters</span>: ['spec'],

<span class="coffeescript">specReporter: {
    suppressSkipped: <span class="hljs-literal">true</span> <span class="hljs-regexp">//</span> <span class="hljs-keyword">do</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">print</span> information about skipped tests
},</span>
</code></pre>
<h2 id="all-tests">Copy All Tests</h2>
<p>Be sure that you have copied in all the tests from JsObjects. First run this command to see if there are any differences between your <strong>specs</strong> directory and the ELF_TEMPLATES BitlyRefine specs:</p>
<pre><code class="lang-bash">diff%20spec/%20%24ELF_TEMPLATES/UnitTest/BitlyRefine/
</code></pre>
<p>If something is wrong, you might get results like this:</p>
<pre><code class="lang-bash">diff spec/<span class="hljs-built_in">test</span>-basic.js /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/BitlyRefine/<span class="hljs-built_in">test</span>-basic.js
98a99,110
&gt;     it(<span class="hljs-string">'shows we can call getLinkHistoryArray'</span>, <span class="hljs-function"><span class="hljs-title">function</span></span>() {
&gt;         elfBitly.getBitlyLinks();
&gt;         var <span class="hljs-built_in">history</span>Array = elfBitly.getLinkHistoryArray();
&gt;         expect(<span class="hljs-built_in">history</span>Array.length).toBe(50);
&gt;     });
&gt; 
&gt;     it(<span class="hljs-string">'shows getLinkHistoryItem sets elfBitly.linkIndex'</span>, <span class="hljs-function"><span class="hljs-title">function</span></span>() {
&gt;         elfBitly.getBitlyLinks();
&gt;         var <span class="hljs-built_in">history</span>Array = elfBitly.getLinkHistoryItem(12, <span class="hljs-literal">true</span>);
&gt;         expect(elfBitly.linkIndex).toBe(12);
&gt;     });
&gt; 
118a131
&gt; 
diff spec/<span class="hljs-built_in">test</span>-files.js /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/BitlyRefine/<span class="hljs-built_in">test</span>-files.js
0a1,4
&gt; /**
&gt;  * Created by charlie on 11/9/15.
&gt;  */
&gt; 
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/BitlyRefine/: <span class="hljs-built_in">test</span>-fixture-util.js
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/BitlyRefine/: <span class="hljs-built_in">test</span>-interface.js
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/BitlyRefine/: <span class="hljs-built_in">test</span>-jade.js
Only <span class="hljs-keyword">in</span> spec/: <span class="hljs-built_in">test</span>-jasmine-jquery.js
diff spec/<span class="hljs-built_in">test</span>-local-cloud.js /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/BitlyRefine/<span class="hljs-built_in">test</span>-local-cloud.js
0a1,4

ETC ...
</code></pre>
<p>To fix this problem, consider running this command:</p>
<pre><code class="lang-bash">cp%20%24ELF_TEMPLATES/UnitTest/BitlyRefine/*%20spec/
</code></pre>
<p>Now the <strong>diff</strong> command should come back clean.</p>
<h2 id="include-jade-for-the-radio-buttons">Include Jade for the Radio Buttons</h2>
<p>Something like this:</p>
<pre><code class="lang-javascript">+elfPanelType(<span class="hljs-string">"Options"</span>, <span class="hljs-string">"panel-primary"</span>)<span class="hljs-selector-class">.elfDiv</span>
    <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.row</span>
        <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.col-sm-6</span>
            +elfPanel(<span class="hljs-string">"Iterate"</span>, <span class="hljs-string">"panel-default"</span>)
                +downloadButton(<span class="hljs-string">"Get Bitly Data"</span>, <span class="hljs-string">"elfDownloads.getBitlyData()"</span>)
        <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.col-sm-6</span>
            +elfRadioPanel(<span class="hljs-string">"Radio Buttons"</span>, <span class="hljs-string">"dataSource"</span>)
                +elfRadio(<span class="hljs-string">"Local Data"</span>, <span class="hljs-string">"localData"</span>)
                +elfRadio(<span class="hljs-string">"Cloud Data"</span>, <span class="hljs-string">"cloudData"</span>)
</code></pre>
</div></body></html>