<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>Isit320MidtermComments2015</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><link href="/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><script src="/libs/scripts/elvenware.js" type="text/javascript"></script><script src="/libs/scripts/Control.js"></script></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>Isit320MidtermComments2015</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#one-layout-jade">One layout.jade</a></li>
<li><a href="#set-up-event-handlers">Set up Event Handlers</a></li>
<li><a href="#update-unit-tests">Update Unit Tests</a></li>
<li><a href="#copy-tests">Copy Over Unit Tests</a></li>
<li><a href="#update-mixins">Update Mixins</a></li>
<li><a href="#proper-naming">Proper Naming</a></li>
<li><a href="#properly-qualify-names">Properly Qualify Names</a></li>
<li><a href="#naming-getlinks">Naming GetLinks</a></li>
<li><a href="#update-data-types">Update Data Types</a></li>
<li><a href="#form-panels-and-keyword-links">Form panels and keyword Links</a></li>
<li><a href="#jshint">JSHint</a></li>
<li><a href="#error-messages">Error Messages</a></li>
<li><a href="#mixins">Mixins</a></li>
<li><a href="#all-tests">Copy All Tests</a></li>
<li><a href="#when-to-load-dynamic">When to Load Scripts Dynamically</a></li>
<li><a href="#debug-work-around">Script Debug Workaround</a></li><!--TOC_End--></ul><h2 id="overview">Overview</h2>
<p>Week08-Midterm comments</p>
<p>by Charlie Calvert</p>
<h2 id="one-layout-jade">One layout.jade</h2>
<p>A rather subtle, and quite pernicious, bug can be introduced in our programs if we try to <strong>extend</strong> the file called <strong>layout.jade</strong> in the wrong places. This bug took me awhile to track down, and appeared in more than one student&#39;s midterm. It can cause a strange, repetitive loading of our jade files that quickly brings a program to its knees.</p>
<p>Our single page application has one main page defined in <strong>index.jade</strong>. That page <strong>extends layout.jade</strong>:</p>
<pre><code><span class="hljs-keyword">extends</span> layout
<span class="hljs-preprocessor"><span class="hljs-keyword">include</span> mixin-buttons
<span class="hljs-keyword">include</span> mixin-inputs
<span class="hljs-keyword">include</span>  mixin-radios
block content
   h1= title
   etc...</span>
</code></pre><p>We also have secondary pages that are swapped in and out as the user makes selections. Make sure you do not try to extend <strong>layout.jade</strong> in any of those files. For instance, this would cause an error if included at the top of <strong>bitly.jade</strong>:</p>
<pre><code><span class="hljs-keyword">extends</span> layout
<span class="hljs-preprocessor"><span class="hljs-keyword">include</span> mixin-buttons
<span class="hljs-keyword">include</span> mixin-inputs
<span class="hljs-keyword">include</span>  mixin-radios
block content
   h1= title
   etc...</span>
</code></pre><p>Instead, the code should probably look a bit like this:</p>
<pre><code>include mixin-inputs
include mixin-radios
include mixin-buttons

+<span class="hljs-function"><span class="hljs-title">elfPanel</span><span class="hljs-params">(<span class="hljs-string">"Bitly Links Table"</span>)</span></span><span class="hljs-class">.elfDiv</span>
    <span class="hljs-tag">div</span><span class="hljs-class">.scroller</span>
        <span class="hljs-tag">table</span>.table<span class="hljs-id">#tableLinks</span>

etc...
</code></pre><h2 id="set-up-event-handlers">Set up Event Handlers</h2>
<p>The following code is not sufficient to properly launch the project because it does not set up any event handlers:</p>
<pre><code class="lang-javascript">$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-string">'use strict'</span>;
    elfBitly.getBitlyLinks(-<span class="hljs-number">1</span>); <span class="hljs-comment">// loads data on page load</span>
});
</code></pre>
<p>Here is the one way to proceed. In <strong>loader.js</strong>:</p>
<pre><code class="lang-javascript">$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    elfMidterm.initialize();
});
</code></pre>
<p>In control.js:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> elfMidterm = {

    initialize: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-pi">        'use strict'</span>;
        $(<span class="hljs-string">'#localData'</span>).prop(<span class="hljs-string">'checked'</span>, <span class="hljs-literal">true</span>);
        elfCallServer.loadBitly();
        elfBitly.getLinks(elfDownloads.dataTypes.dtLocal);
        $(<span class="hljs-string">'#dataSource'</span>).click(elfDownloads.dataTypeSelection);
    },
};
</code></pre>
<p>Note the presence of the following lines, which set up our event handlers:</p>
<pre><code class="lang-javascript"><span class="hljs-variable">$(</span><span class="hljs-string">'#localData'</span>).prop(<span class="hljs-string">'checked'</span>, <span class="hljs-keyword">true</span>);
<span class="hljs-variable">$(</span><span class="hljs-string">'#dataSource'</span>).click(elfDownloads.dataTypeSelection);
</code></pre>
<p>You have to have code like that or nothing in your application will work. The program is inert unless it starts responding to button, radio button, and checkbox events.</p>
<h2 id="update-unit-tests">Update Unit Tests</h2>
<p>Unit testing is an important part of this course. In most cases, I don&#39;t want anyone to radically change the way they implement the midterm simply to make it conform with my tests. Your approach should, however, conform closely enough to my model so that most tests pass with no changes to the tests, or only minor changes to the tests. In some cases, we may need to sit down together so that we can bring your code more closely in line with my tests without losing your unique approach to the problems posed by the midterm.</p>
<p>In any case, be sure you have the most recent copy of the unit tests.</p>
<p>To confirm that the directories are the same, issue this command in pristine lubuntu or similar GUI OS:</p>
<pre><code class="lang-javascript">meld spec/ <span class="hljs-variable">$ELF</span>_TEMPLATES/UnitTest/Isit320Midterm2015/
</code></pre>
<p>Issue this command in either cloud 9, pristine lubuntu, or virtually any Linux based environment:</p>
<pre><code class="lang-javascript">diff spec/ <span class="hljs-variable">$ELF</span>_TEMPLATES/UnitTest/Isit320Midterm2015/
</code></pre>
<p>On my system this currently yields:</p>
<pre><code class="lang-bash">$ diff spec<span class="hljs-regexp">/ $ELF_TEMPLATES/</span>UnitTest<span class="hljs-regexp">/Isit320Midterm2015/</span>
Only <span class="hljs-keyword">in</span> spec/: deleteme.txt
Common <span class="hljs-string">subdirectories:</span> spec<span class="hljs-regexp">/fixtures and /</span>home<span class="hljs-regexp">/charlie/</span>Git<span class="hljs-regexp">/JsObjects/</span>Utilities<span class="hljs-regexp">/Templates/</span>UnitTest<span class="hljs-regexp">/Isit320Midterm2015/</span>fixtures
</code></pre>
<p>This comparison tells me that the only difference between the two directories is a file called <strong>deletme.txt</strong>. That&#39;s the kind of name I give to temporary files that I eventually want to delete. Within reason, I don&#39;t mind if you have additional files in your directory. This is not an error.</p>
<p>I also see that both directories have a directory fixtures. Here is a comparison of those two directories:</p>
<pre><code class="lang-bash">$ diff spec/fixtures <span class="hljs-variable">$ELF</span>_TEMPLATES/UnitTest/Isit320Midterm2015/fixtures
Only <span class="hljs-keyword">in</span> spec/fixtures: bitly.html
Only <span class="hljs-keyword">in</span> spec/fixtures: fixture.html
</code></pre>
<p>This is what I&#39;d expect since both <strong>bitly.html</strong> and <strong>fixtures.html</strong> are files that will differ from student to student, so you need to create them.</p>
<p>Suppose I opened up <strong>test-basic.js</strong> and added a comment to line 18:</p>
<pre><code class="lang-javascript">elfBitly.getLinks(elfDownloads.dataTypes.dtBitly); <span class="hljs-comment">// random comment</span>
</code></pre>
<p>Now my local copy of <strong>test-basic.js</strong> differs from the one in JsObjects. When I run <strong>diff</strong> I get the following results:</p>
<pre><code class="lang-bash">$ diff spec<span class="hljs-regexp">/ $ELF_TEMPLATES/</span>UnitTest<span class="hljs-regexp">/Isit320Midterm2015/</span>
Only <span class="hljs-keyword">in</span> spec/: deleteme.txt
Common <span class="hljs-string">subdirectories:</span> spec<span class="hljs-regexp">/fixtures and /</span>home<span class="hljs-regexp">/charlie/</span>Git<span class="hljs-regexp">/JsObjects/</span>Utilities<span class="hljs-regexp">/Templates/</span>UnitTest<span class="hljs-regexp">/Isit320Midterm2015/</span>fixtures
diff spec<span class="hljs-regexp">/test-basic.js /</span>home<span class="hljs-regexp">/charlie/</span>Git<span class="hljs-regexp">/JsObjects/</span>Utilities<span class="hljs-regexp">/Templates/</span>UnitTest<span class="hljs-regexp">/Isit320Midterm2015/</span>test-basic.js
<span class="hljs-number">18</span>c18
&lt;         elfBitly.getLinks(elfDownloads.dataTypes.dtBitly); <span class="hljs-comment">// random comment</span>
---
&gt;         elfBitly.getLinks(elfDownloads.dataTypes.dtBitly);
</code></pre>
<p>In addition to the lines already explained, this output tells me that on line of test-basic.js there is a difference between the two files. That is not good. The files should be identical. </p>
<p>If I see a few minor changes to your files, such as a change to the <strong>accessToken</strong>, that is fine. But lots of changes are not good. If I see several hundred lines of differences such as the one shown above, then we have some work to do to get your code up to speed.</p>
<h2 id="copy-tests">Copy Over Unit Tests</h2>
<p>In most cases, students will simple want to copy over the unit tests from <strong>$ELF_TEMPLATES/UnitTest/Isit320Midterm2015</strong>:</p>
<pre><code class="lang-bash">cp <span class="hljs-variable">$ELF</span>_TEMPLATES/UnitTest/Isit320Midterm2015/*.js spec/.
</code></pre>
<p>If you don&#39;t, then the diff command described in the previous section might produce output like this:</p>
<pre><code class="lang-bash">Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/: test-downloads<span class="hljs-class">.js</span>
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/: test-elf-bitly<span class="hljs-class">.js</span>
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/: test-elf-midterm<span class="hljs-class">.js</span>
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/: test-files<span class="hljs-class">.js</span>
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/: test-fixture-util<span class="hljs-class">.js</span>
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/: test-interface<span class="hljs-class">.js</span>
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/: test-jade-index<span class="hljs-class">.js</span>
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/: test-jade<span class="hljs-class">.js</span>
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/: test-local-cloud<span class="hljs-class">.js</span>
Only <span class="hljs-keyword">in</span> /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/: test-sanity.js
</code></pre>
<p>This is a red flag that something is wrong. It&#39;s okay if a few tests are missing, or if a few fail, but this is too much.</p>
<h2 id="update-mixins">Update Mixins</h2>
<p>You should be working my most recent mixins. To test that, run the following and be sure they come back clean:</p>
<pre><code class="lang-bash">diff views<span class="hljs-regexp">/mixin-buttons.jade /</span>home<span class="hljs-regexp">/charlie/</span>Git<span class="hljs-regexp">/JsObjects/</span>Utilities<span class="hljs-regexp">/Templates/</span>JadeMixins/mixin-buttons.jade
diff views<span class="hljs-regexp">/mixin-inputs.jade /</span>home<span class="hljs-regexp">/charlie/</span>Git<span class="hljs-regexp">/JsObjects/</span>Utilities<span class="hljs-regexp">/Templates/</span>JadeMixins/mixin-inputs.jade
diff views<span class="hljs-regexp">/mixin-radios.jade /</span>home<span class="hljs-regexp">/charlie/</span>Git<span class="hljs-regexp">/JsObjects/</span>Utilities<span class="hljs-regexp">/Templates/</span>JadeMixins/mixin-radios.jade
diff views<span class="hljs-regexp">/mixins.jade /</span>home<span class="hljs-regexp">/charlie/</span>Git<span class="hljs-regexp">/JsObjects/</span>Utilities<span class="hljs-regexp">/Templates/</span>JadeMixins/mixins.jade
</code></pre>
<h2 id="proper-naming">Proper Naming</h2>
<p>Be sure to name your objects properly. Don&#39;t call an object <strong>delicious</strong>, call it <strong>elfDelicious</strong>.</p>
<p>There is no reason for this kind of problem to appear in your code. It breaks a lot of unit tests, which we designed explicitly to be sure that you did follow set naming conventions. Your ability to conform the specification outlined in the unit tests is an important part of this class.</p>
<p>When you change the name of a class, this frequently breaks your code in several places. I want to see that you know how to fix these kinds of problems. </p>
<p>Summary:</p>
<ul>
<li>I want to be sure you can follow a specification laid out in a unit test.</li>
<li>I want to be sure that you can fix certain problems, such as name mismatches, that frequently occur in code.</li>
</ul>
<h2 id="properly-qualify-names">Properly Qualify Names</h2>
<p>We place the Delicious code in an object called <strong>elfDelicious</strong>. When calling methods and referencing properties that belong to <strong>elfDelicious</strong> we have to properly qualify the method or property name. To reference the property of <strong>elfDelicious</strong> called <strong>deliciousLinks</strong> we don&#39;t write <strong>deliciousLinks</strong>, we write either:</p>
<ul>
<li>elfDelicious.deliciousLinks</li>
<li>this.deliciousLinks</li>
</ul>
<p>Look below at the success block inside <strong>callDelicious</strong>. Notice the places where we write:</p>
<ul>
<li>elfDelicious.deliciousLinks</li>
<li>elfDelicious.appendUrl</li>
</ul>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> elfDelicious = {

    deliciousLinks: <span class="hljs-literal">null</span>,

    appendUrl: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index, deliciousLink</span>) </span>{
<span class="hljs-pi">        'use strict'</span>;
        <span class="hljs-keyword">var</span> url = deliciousLink.u;
        <span class="hljs-keyword">var</span> description = deliciousLink.d;
        <span class="hljs-keyword">var</span> anchor = <span class="hljs-string">'&lt;a href="'</span> + url + <span class="hljs-string">'" target="_blank"&gt;'</span> + description + <span class="hljs-string">'&lt;/a&gt;'</span>;
        <span class="hljs-keyword">var</span> details = <span class="hljs-string">'&lt;a onclick="elfDelicious.detailDelicious('</span> + index + <span class="hljs-string">')"&gt;Details&lt;/a&gt;'</span>;
        $(<span class="hljs-string">'#urlDelicious'</span>).append(<span class="hljs-string">'&lt;li&gt;'</span> + anchor + <span class="hljs-string">' - '</span> + details + <span class="hljs-string">'&lt;/li&gt;'</span>);
    },

    callDelicious: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">subject</span>) </span>{
<span class="hljs-pi">        'use strict'</span>;
        <span class="hljs-keyword">var</span> feedUrl = <span class="hljs-string">'http://feeds.delicious.com/v2/json/charliecalvert/'</span> + subject;
        $.ajax({
            url: feedUrl,

            dataType: <span class="hljs-string">'jsonp'</span>,

            success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{
                elfDelicious.deliciousLinks = data;
                $(<span class="hljs-string">'#urlDelicious'</span>).empty();
                $.each(elfDelicious.deliciousLinks, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index, deliciousLink</span>) </span>{
                    elfDelicious.appendUrl(index, deliciousLink);
                });
                $(<span class="hljs-string">'#deliciousDetails'</span>).html(<span class="hljs-built_in">JSON</span>.stringify(elfDelicious.deliciousLinks, <span class="hljs-literal">null</span>, <span class="hljs-number">4</span>));
            }
        });
    },

    <span class="hljs-comment">// CODE OMITTED</span>
};
</code></pre>
<h2 id="naming-getlinks">Naming GetLinks</h2>
<p>A number of students wrote, or have written, something like this:</p>
<pre><code class="lang-javascript">elfDownloads.dataTypeSelection = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">'#localData'</span>).is(<span class="hljs-string">':checked'</span>)) {

        <span class="hljs-comment">// CODE OMITTED HERE</span>

    }
    elfDownloads.getLinkData();
};

elfDownloads.getBitlyData = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'getBitlyData called: '</span>, <span class="hljs-built_in">Object</span>.keys[elfDownloads.dataType]);
    <span class="hljs-keyword">if</span> (elfDownloads.dataType === elfDownloads.dataTypes.dtLocal) {
        elfBitly.getBitlyLinks(elfDownloads.dataType);
    } <span class="hljs-keyword">else</span> {
        elfBitly.getBitlyLinks(elfDownloads.accessToken);
    }
};
</code></pre>
<p>I wanted you to rename:</p>
<ul>
<li>elfDownloads.getBitlyData -&gt; elfDownloads.getLinkData</li>
<li>elfBitly.getBitlyLinks -&gt; elfBitly.getLinks</li>
</ul>
<p>The result might be something like this:</p>
<pre><code class="lang-javascript">elfDownloads.dataTypeSelection = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">'#localData'</span>).is(<span class="hljs-string">':checked'</span>)) {

        <span class="hljs-comment">// CODE OMITTED HERE</span>

    }
    elfDownloads.getLinkData();
};

elfDownloads.getLinkData = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    elfDownloads.clearControls();
    elfBitly.getLinks(elfDownloads.dataType);
};
</code></pre>
<p>The following tests in <strong>test-downloads</strong> tried to establish the specification for these naming conventions. That is, they tried to help you update your code so that it supported the expected naming conventions:</p>
<pre><code class="lang-javascript">    it<span class="hljs-list">(<span class="hljs-quoted">'Expects</span> elfDownloads to contain getLinkData <span class="hljs-list">(<span class="hljs-keyword">but</span> not getBitlyData)</span>', function<span class="hljs-list">()</span> {
        expect<span class="hljs-list">(<span class="hljs-keyword">downloadKeys</span>.indexOf<span class="hljs-list">(<span class="hljs-quoted">'getLinkData</span>')</span>)</span>.toBeGreaterThan<span class="hljs-list">(<span class="hljs-keyword">-1</span>)</span><span class="hljs-comment">;</span>
        expect<span class="hljs-list">(<span class="hljs-keyword">downloadKeys</span>.indexOf<span class="hljs-list">(<span class="hljs-quoted">'getBitlyData</span>')</span>)</span>.toBe<span class="hljs-list">(<span class="hljs-keyword">-1</span>)</span><span class="hljs-comment">;</span>
    })</span><span class="hljs-comment">;</span>

    it<span class="hljs-list">(<span class="hljs-quoted">'Shows</span> that elfDownloads.getLinkData is a function', function<span class="hljs-list">()</span> {
        expect<span class="hljs-list">(<span class="hljs-keyword">typeof</span> elfDownloads.getLinkData)</span>.toBe<span class="hljs-list">(<span class="hljs-quoted">'function</span>')</span><span class="hljs-comment">;</span>
    })</span><span class="hljs-comment">;</span>

    it<span class="hljs-list">(<span class="hljs-quoted">'shows</span> that we call to get more links on last line of radio button select', function<span class="hljs-list">()</span> {
        spyOn<span class="hljs-list">(<span class="hljs-keyword">elfDownloads</span>, <span class="hljs-quoted">'getLinkData</span>')</span><span class="hljs-comment">;</span>
        elfDownloads.dataTypeSelection<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        expect<span class="hljs-list">(<span class="hljs-keyword">elfDownloads</span>.getLinkData)</span>.toHaveBeenCalled<span class="hljs-list">()</span><span class="hljs-comment">;</span>
    })</span><span class="hljs-comment">;</span>
</code></pre>
<p>The point here is that the tests, the specs, specify what is expected of you, the developer.</p>
<h2 id="update-data-types">Update Data Types</h2>
<p>Our <strong>elfDownloads.dataTypes</strong> originally looked like this:</p>
<pre><code class="lang-javascript">elfDownloads.dataTypes = {
    <span class="hljs-string">'dtLocal'</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">'dtCloud'</span>: <span class="hljs-number">1</span>
};
</code></pre>
<p>But now we have not just two choices, but four choices. As a result, we need to create an object that looks like this:</p>
<pre><code class="lang-javascript">elfDownloads.dataTypes = {
    <span class="hljs-string">'dtLocal'</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">'dtDelicious'</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">'dtBitly'</span>: <span class="hljs-number">2</span>,
    <span class="hljs-string">'dtTwitter'</span>: <span class="hljs-number">3</span>
};
</code></pre>
<p>The following test, when added to <strong>test-downloads.js</strong>, provides reasonable checks to confirm that we are defining this type correctly:</p>
<pre><code class="lang-javascript">it<span class="hljs-list">(<span class="hljs-quoted">'shows</span> that our datatypes have four options', function<span class="hljs-list">()</span> {
    var linkTypes = Object.getOwnPropertyNames<span class="hljs-list">(<span class="hljs-keyword">elfDownloads</span>.dataTypes)</span>.sort<span class="hljs-list">()</span><span class="hljs-comment">;</span>
    console.log<span class="hljs-list">(<span class="hljs-keyword">linkTypes</span>)</span><span class="hljs-comment">;</span>
    expect<span class="hljs-list">(<span class="hljs-keyword">linkTypes</span>.length)</span>.toBeGreaterThan<span class="hljs-list">(<span class="hljs-number">3</span>)</span><span class="hljs-comment">;</span>
    expect<span class="hljs-list">(<span class="hljs-keyword">linkTypes</span>.indexOf<span class="hljs-list">(<span class="hljs-quoted">'dtBitly</span>')</span> !== <span class="hljs-number">-1</span>)</span>.toBeTruthy<span class="hljs-list">()</span><span class="hljs-comment">;</span>
    expect<span class="hljs-list">(<span class="hljs-keyword">linkTypes</span>.indexOf<span class="hljs-list">(<span class="hljs-quoted">'dtDelicious</span>')</span> !== <span class="hljs-number">-1</span>)</span>.toBeTruthy<span class="hljs-list">()</span><span class="hljs-comment">;</span>
    expect<span class="hljs-list">(<span class="hljs-keyword">linkTypes</span>.indexOf<span class="hljs-list">(<span class="hljs-quoted">'dtLocal</span>')</span> !== <span class="hljs-number">-1</span>)</span>.toBeTruthy<span class="hljs-list">()</span><span class="hljs-comment">;</span>
    expect<span class="hljs-list">(<span class="hljs-keyword">linkTypes</span>.indexOf<span class="hljs-list">(<span class="hljs-quoted">'dtTwitter</span>')</span> !== <span class="hljs-number">-1</span>)</span>.toBeTruthy<span class="hljs-list">()</span><span class="hljs-comment">;</span>
})</span><span class="hljs-comment">;</span>
</code></pre>
<p>Tests like this are very useful in class setting. They might also be useful in a corporate setting, since they help to clearly define the specification for our object.</p>
<p>If we don&#39;t declare these types correctly, then code like the following, found in <strong>elfDownloads.dataTypeSelection</strong>, will not work correctly:</p>
<pre><code class="lang-javascript"><span class="hljs-component">if (elfDownloads.dataType !== elfDownloads.dataTypes.dtLocal) {
    elfDownloads<span class="hljs-string">.dataType</span> = elfDownloads<span class="hljs-string">.dataTypes.dtLocal</span>;
if (elfDownloads<span class="hljs-string">.dataType</span> !== elfDownloads<span class="hljs-string">.dataTypes.dtBitly)</span> {
    elfDownloads<span class="hljs-string">.dataType</span> = elfDownloads<span class="hljs-string">.dataTypes.dtBitly</span>;
if (elfDownloads<span class="hljs-string">.dataType</span> !== elfDownloads<span class="hljs-string">.dataTypes.dtDelicious)</span> {
    elfDownloads<span class="hljs-string">.dataType</span> = elfDownloads<span class="hljs-string">.dataTypes.dtDelicious</span>;
if (elfDownloads<span class="hljs-string">.dataType</span> !== elfDownloads<span class="hljs-string">.dataTypes.dtTwitter)</span> {
    elfDownloads<span class="hljs-string">.dataType</span> = elfDownloads<span class="hljs-string">.dataTypes.dtTwitter</span>;
}</span>;
</code></pre>
<h2 id="form-panels-and-keyword-links">Form panels and keyword Links</h2>
<p>Here is the code for my input controls in <strong>bitly.jade</strong>:</p>
<pre><code class="lang-javascript">+<span class="hljs-function"><span class="hljs-title">elfFormPanel</span><span class="hljs-params">(<span class="hljs-string">"Bitly Link Record"</span>)</span></span><span class="hljs-class">.elfDiv</span>

    +<span class="hljs-function"><span class="hljs-title">elfInputVB</span><span class="hljs-params">(<span class="hljs-string">"Keyword Link"</span>, <span class="hljs-string">"keywordLink"</span>, <span class="hljs-string">"keywordLink"</span>)</span></span><span class="hljs-id">#keywordLink</span><span class="hljs-class">.form-control</span><span class="hljs-class">.input-sm</span>
    +<span class="hljs-function"><span class="hljs-title">elfInputVB</span><span class="hljs-params">(<span class="hljs-string">"Link Title"</span>, <span class="hljs-string">"linkTitle"</span>, <span class="hljs-string">"linkTitle"</span>)</span></span><span class="hljs-id">#linkTitle</span><span class="hljs-class">.form-control</span><span class="hljs-class">.input-sm</span>
    +<span class="hljs-function"><span class="hljs-title">elfInputVB</span><span class="hljs-params">(<span class="hljs-string">"Aggregate Link"</span>, <span class="hljs-string">"aggregateLink"</span>, <span class="hljs-string">"aggregateLink"</span>)</span></span><span class="hljs-id">#aggregateLink</span><span class="hljs-class">.form-control</span><span class="hljs-class">.input-sm</span>
    +<span class="hljs-function"><span class="hljs-title">elfInputVB</span><span class="hljs-params">(<span class="hljs-string">"Long URL"</span>, <span class="hljs-string">"longUrl"</span>, <span class="hljs-string">"longUrl"</span>)</span></span><span class="hljs-id">#longUrl</span><span class="hljs-class">.form-control</span><span class="hljs-class">.input-sm</span>
    +<span class="hljs-function"><span class="hljs-title">elfInputVB</span><span class="hljs-params">(<span class="hljs-string">"Client ID"</span>, <span class="hljs-string">"clientId"</span>, <span class="hljs-string">"clientId"</span>)</span></span><span class="hljs-id">#clientId</span><span class="hljs-class">.form-control</span><span class="hljs-class">.input-sm</span>
    +<span class="hljs-function"><span class="hljs-title">elfInputVB</span><span class="hljs-params">(<span class="hljs-string">"Link"</span>, <span class="hljs-string">"link"</span>, <span class="hljs-string">"link"</span>)</span></span><span class="hljs-id">#link</span><span class="hljs-class">.form-control</span><span class="hljs-class">.input-sm</span>
    +<span class="hljs-function"><span class="hljs-title">elfInputVB</span><span class="hljs-params">(<span class="hljs-string">"User Time Stamp"</span>, <span class="hljs-string">"userTs"</span>, <span class="hljs-string">"userTs"</span>)</span></span><span class="hljs-id">#userTs</span><span class="hljs-class">.form-control</span><span class="hljs-class">.input-sm</span>
    +<span class="hljs-function"><span class="hljs-title">elfInputVB</span><span class="hljs-params">(<span class="hljs-string">"Created At"</span>, <span class="hljs-string">"createdAt"</span>, <span class="hljs-string">"createAt"</span>)</span></span><span class="hljs-id">#createdAt</span><span class="hljs-class">.form-control</span><span class="hljs-class">.input-sm</span>
    +<span class="hljs-function"><span class="hljs-title">elfInputVB</span><span class="hljs-params">(<span class="hljs-string">"Modified At"</span>, <span class="hljs-string">"modifiedAt"</span>, <span class="hljs-string">"modifiedAt"</span>)</span></span><span class="hljs-id">#modifiedAt</span><span class="hljs-class">.form-control</span><span class="hljs-class">.input-sm</span>

    hr

    <span class="hljs-tag">div</span><span class="hljs-class">.row</span>
        <span class="hljs-tag">div</span><span class="hljs-class">.col-sm-6</span>
            +<span class="hljs-function"><span class="hljs-title">forwardBack</span><span class="hljs-params">(<span class="hljs-string">"elfMovement.left()"</span>, <span class="hljs-string">"elfMovement.right()"</span>)</span></span>
        <span class="hljs-tag">div</span><span class="hljs-class">.col-sm-6</span>
            +<span class="hljs-function"><span class="hljs-title">elfCheckBox</span><span class="hljs-params">(<span class="hljs-string">"Private"</span>, <span class="hljs-string">"checkBoxPrivate"</span>, <span class="hljs-string">"checkBoxPrivate"</span>)</span></span><span class="hljs-id">#checkBoxPrivate</span>
            +<span class="hljs-function"><span class="hljs-title">elfCheckBox</span><span class="hljs-params">(<span class="hljs-string">"Archived"</span>, <span class="hljs-string">"checkBoxArchived"</span>, <span class="hljs-string">"checkBoxArchived"</span>)</span></span>#checkBoxArchived
</code></pre>
<p>The <strong>elfFormPanel</strong> is flush left in the editor. I separate the checkboxes and forward backward buttons from the input controls with an HR element, which was, called a <em>horizontal rule</em>, but which is now represents a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/hr">thematic break</a>.</p>
<p>I believe that formatting your code this way ensures that it will pass the following test:</p>
<pre><code class="lang-javascript">it<span class="hljs-list">(<span class="hljs-quoted">'shows</span> we can get some of the attributes of the text input keywordLink', function<span class="hljs-list">()</span> {
    var element = document.getElementById<span class="hljs-list">(<span class="hljs-quoted">'keywordLink</span>')</span><span class="hljs-comment">;</span>
    var arr = elfTestUtils.getAttributesFromElement<span class="hljs-list">(<span class="hljs-keyword">element</span>)</span><span class="hljs-comment">;</span>
    // elfTestUtils.showAttributes<span class="hljs-list">(<span class="hljs-keyword">element</span>, arr)</span><span class="hljs-comment">;</span>
    expect<span class="hljs-list">(<span class="hljs-keyword">arr</span>.length)</span>.toBeGreaterThan<span class="hljs-list">(<span class="hljs-number">4</span>)</span><span class="hljs-comment">;</span>
})</span><span class="hljs-comment">;</span>
</code></pre>
<h2 id="jshint">JSHint</h2>
<p>I want to get see clean JSHint results when I type <strong>grunt test</strong>. One student&#39;s midterm produced these results:</p>
<pre><code class="lang-javascript">$ grunt test
Running <span class="hljs-string">"jshint:files"</span> (jshint) task

<span class="hljs-keyword">public</span>/javascripts/link/delicious.js
  line <span class="hljs-number">6</span>   col <span class="hljs-number">9</span>   Missing <span class="hljs-string">"use strict"</span> statement.
  line <span class="hljs-number">10</span>  col <span class="hljs-number">9</span>   Missing <span class="hljs-string">"use strict"</span> statement.
  line <span class="hljs-number">18</span>  col <span class="hljs-number">9</span>   Missing <span class="hljs-string">"use strict"</span> statement.
  line <span class="hljs-number">45</span>  col <span class="hljs-number">9</span>   Missing <span class="hljs-string">"use strict"</span> statement.
  line <span class="hljs-number">73</span>  col <span class="hljs-number">42</span>  Missing semicolon.
  line <span class="hljs-number">77</span>  col <span class="hljs-number">9</span>   Missing <span class="hljs-string">"use strict"</span> statement.

  ✖  <span class="hljs-number">5</span> errors
  ⚠  <span class="hljs-number">1</span> warnings

Warning: Task <span class="hljs-string">"jshint:files"</span> failed. Use --force to <span class="hljs-keyword">continue</span>.

Aborted due to warnings.
</code></pre>
<p>The good side of the above results is that they are limited to problems in one file: everything else came back clean. On the other hand, these are simple problems to fix, and turning on <strong>strict</strong> can help us find problems in our code.</p>
<h2 id="error-messages">Error Messages</h2>
<p>Don&#39;t forget to add support for better error messages, as explained in <a href="http://www.ccalvert.net/books/CloudNotes/Assignments/GruntCheck02.html#the-error-handler">GruntCheck02</a>. Before I put in this error handler, this is what I saw at the command line when I hit an error:</p>
<pre><code class="lang-bash">GET /delicious <span class="hljs-number">500</span> <span class="hljs-number">48.191</span> ms - <span class="hljs-number">2369</span>
</code></pre>
<p>After I installed the error handler, this is what I saw:</p>
<pre><code class="lang-bash"><span class="xml">GET /bitly 304 552.907 ms - -
Development error handler called
About to render error </span><span class="hljs-expression">{ [<span class="hljs-variable">TypeError</span>: <span class="hljs-variable">...</span><span class="hljs-end-block">/Week</span>08<span class="hljs-variable">-Midterm-Gan</span><span class="hljs-end-block">/views</span><span class="hljs-end-block">/delicious.jade</span>:6
    4| <span class="hljs-variable">block</span> <span class="hljs-variable">content</span>
    5| 
  &gt; 6|    +<span class="hljs-variable">elfPanel</span>(<span class="hljs-string">"Image Display"</span>)<span class="hljs-variable">.elfDiv</span><span class="hljs-begin-block">#imagePanel</span>
    7|       <span class="hljs-variable">img</span><span class="hljs-begin-block">#image</span>
    8| 
    9|    <span class="hljs-variable">div.panel.panel-<span class="hljs-keyword">default</span></span>

<span class="hljs-variable">Cannot</span> <span class="hljs-variable">read</span> <span class="hljs-variable">property</span> '<span class="hljs-variable">call</span>' <span class="hljs-variable">of</span> <span class="hljs-variable">undefined</span>]
  <span class="hljs-variable">path</span>: '<span class="hljs-end-block">/home</span><span class="hljs-end-block">/charlie</span><span class="hljs-end-block">/Git</span><span class="hljs-end-block">/isit</span>320<span class="hljs-variable">-</span>2015<span class="hljs-end-block">/etc...</span><span class="hljs-end-block">/views</span><span class="hljs-end-block">/delicious.jade</span>' }</span><span class="xml">
GET /delicious 500 93.348 ms - 2369</span>
</code></pre>
<p>As you can see, without the good error handler, it is almost impossible to know what is wrong, with it, the problem becomes obvious right away. In particular, this error usually results from a missing <strong>include mixins...</strong> statement in our jade.</p>
<h2 id="mixins">Mixins</h2>
<p>We created files such as <strong>bitly.jade</strong>, <strong>delicious.jade</strong>, and <strong>twitter.jade</strong>. If you use mixins in these files, then you must <strong>include</strong> them at the top of the <strong>jade</strong> file. One student made an interesting mistake. It happens that our <strong>delicous.jade</strong> file did not use mixins. But this student added one mixin to the file:</p>
<pre><code class="lang-javascript">block <span class="hljs-attribute">content</span>

+<span class="hljs-function"><span class="hljs-title">elfPanel</span><span class="hljs-params">(<span class="hljs-string">"Image Display"</span>)</span></span>.elfDiv<span class="hljs-id">#imagePanel</span>
  img<span class="hljs-id">#image</span>

<span class="hljs-tag">div</span><span class="hljs-class">.panel</span><span class="hljs-class">.panel-default</span>
  <span class="hljs-tag">div</span><span class="hljs-class">.panel-heading</span> Text Input
  <span class="hljs-tag">div</span><span class="hljs-class">.panel-body</span>
     <span class="hljs-tag">div</span><span class="hljs-class">.form-group</span>
        <span class="hljs-function"><span class="hljs-title">label</span><span class="hljs-params">(for=<span class="hljs-string">'subject'</span>)</span></span> Subject
        input<span class="hljs-id">#subject</span>.<span class="hljs-function"><span class="hljs-title">form-control</span><span class="hljs-params">(type=<span class="hljs-string">'text'</span>, placeholder=<span class="hljs-string">"subject"</span>)</span></span>
        br
        <span class="hljs-tag">button</span><span class="hljs-class">.btn</span><span class="hljs-class">.btn-primary</span>(onclick=<span class="hljs-string">"elfDelicious.delicious()"</span>) Delicous
  div
</code></pre>
<p>Once the mixin was added, even if most of the file did not use mixins, then we have to have add an <strong>include</strong> statement:</p>
<pre><code class="lang-javascript"><span class="hljs-preprocessor"><span class="hljs-keyword">include</span> mixin-radios</span>
</code></pre>
<h2 id="all-tests">Copy All Tests</h2>
<p>Be sure that you have copied in all the tests from JsObjects. First run one of these commands to see if there are any differences between your <strong>specs</strong> directory and the ELF_TEMPLATES BitlyRefine specs:</p>
<pre><code class="lang-bash">diff spec/ <span class="hljs-variable">$ELF</span>_TEMPLATES/UnitTest/Isit320Midterm2015/
meld spec/ <span class="hljs-variable">$ELF</span>_TEMPLATES/UnitTest/Isit320Midterm2015/
</code></pre>
<p>If something is wrong, you might get results like this if you used <strong>diff</strong>:</p>
<pre><code class="lang-bash">diff spec/test-urls.js /home/charlie/Git/JsObjects/Utilities/Templates/UnitTest/Isit320Midterm2015/test-urls.js
8c8
<span class="hljs-header">&lt;     var accessToken = '2ac4b4ccf91019cff6a6b3f23bcbe05ec2bf7a8c';
---</span>
&gt;     var accessToken = elfDownloads.accessToken;
12d11
&lt; 
14c13
<span class="hljs-header">&lt;         expect(url).toContain(elfBitly.localUrl);
---</span>
&gt;         expect(url).toContain(<span class="hljs-emphasis">'data/bitly-links.json'</span>);
17,18c16,17
&lt;     it(<span class="hljs-emphasis">'gets a cloud url'</span>, function() {
&lt;         var url = elfBitly.getUrl(elfDownloads.dataTypes.dtCloud);
</code></pre>
<p>This kind of output occurs if there are significant differences between the tests you have in your in your folder and the tests I wanted you to run. To fix this problem, consider running this command:</p>
<pre><code class="lang-bash">cp <span class="hljs-variable">$ELF</span>_TEMPLATES/UnitTest/Isit320Midterm2015/* spec/
</code></pre>
<p>Now the <strong>diff</strong> command should come back relatively clean.</p>
<h2 id="when-to-load-dynamic">When to Load Scripts Dynamically</h2>
<p>At least one student decided to load JavaScript not in <strong>layout.jade</strong> but dynamically as needed:</p>
<pre><code class="lang-javascript">$(<span class="hljs-string">'input[id="delicious"]'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    elfMidterm.clear();
    $(<span class="hljs-string">'#displayContainer'</span>).load(<span class="hljs-string">'/delicious'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response, status, xhr</span>) </span>{
        <span class="hljs-keyword">if</span> (status == <span class="hljs-string">'error'</span>) {
            <span class="hljs-keyword">var</span> msg = <span class="hljs-string">'Sorry but there was an error: '</span>;
            $(<span class="hljs-string">'#error'</span>).html(msg + xhr.status + <span class="hljs-string">' '</span> + xhr.statusText);
            <span class="hljs-built_in">console</span>.log(msg + xhr.status + <span class="hljs-string">' '</span> + xhr.statusText);
        }
    });
    $.getScript(<span class="hljs-string">'javascripts/link/delicious.js'</span>);
});
</code></pre>
<p><strong>NOTE</strong>: <em>The Chrome and Firefox debuggers have a hard time with code like this, but there is a simple work around covered near the end of this document in a section called <strong>Script Debug Work Around</strong>.</em></p>
<p>The problem with the above code is that that the script will frequently be loaded before the HTML has loaded. As a result, the buttons and other controls do not get hooked up properly. The solution is to do this:</p>
<pre><code class="lang-javascript">$(<span class="hljs-string">'input[id="delicious"]'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    elfMidterm.clear();
    $(<span class="hljs-string">'#displayContainer'</span>).load(<span class="hljs-string">'/delicious'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response, status, xhr</span>) </span>{
        <span class="hljs-keyword">if</span> (status == <span class="hljs-string">'error'</span>) {
            <span class="hljs-keyword">var</span> msg = <span class="hljs-string">'Sorry but there was an error: '</span>;
            $(<span class="hljs-string">'#error'</span>).html(msg + xhr.status + <span class="hljs-string">' '</span> + xhr.statusText);
            <span class="hljs-built_in">console</span>.log(msg + xhr.status + <span class="hljs-string">' '</span> + xhr.statusText);
        }
        $.getScript(<span class="hljs-string">'javascripts/link/delicious.js'</span>);
    });
});
</code></pre>
<p>By putting the <strong>getScript</strong> call in the callback, we can be certain script gets loaded after the HTML is ready. As a results, checkboxes, radiobuttons and other controls get hooked up properly.</p>
<h2 id="debug-work-around">Script Debug Workaround</h2>
<p>If you choose to load scripts dynamically, which is not wrong, but also not something I&#39;d recommend for most students, you should add the following code to your project so that you can properly debug it. You&#39;d want this at least during the coding and debugging phase of your development cycle. It overrides the original jQuery version of <strong>getScript</strong>. I put this code in the main <strong>document.ready</strong>:</p>
<pre><code class="lang-javascript">jQuery.extend({
    getScript: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">url, callback</span>) </span>{
        <span class="hljs-keyword">var</span> head = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">"head"</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> script = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"script"</span>);
        script.src = url;

        <span class="hljs-comment">// Handle Script loading</span>
        {
            <span class="hljs-keyword">var</span> done = <span class="hljs-literal">false</span>;

            <span class="hljs-comment">// Attach handlers for all browsers</span>
            script.onload = script.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
                <span class="hljs-keyword">if</span> ( !done &amp;&amp; (!<span class="hljs-keyword">this</span>.readyState ||
                    <span class="hljs-keyword">this</span>.readyState == <span class="hljs-string">"loaded"</span> || <span class="hljs-keyword">this</span>.readyState == <span class="hljs-string">"complete"</span>) ) {
                    done = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">if</span> (callback)
                        callback();

                    <span class="hljs-comment">// Handle memory leak in IE</span>
                    script.onload = script.onreadystatechange = <span class="hljs-literal">null</span>;
                }
            };
        }

        head.appendChild(script);

        <span class="hljs-comment">// We handle everything using the script element injection</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
    }
});
</code></pre>
<ul>
<li><a href="http://stackoverflow.com/a/691661/253576">Reference</a></li>
</ul>
</div></body></html>