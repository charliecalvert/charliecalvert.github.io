<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>BootstrapDeliciousComments</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><link href="/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><script src="/libs/scripts/elvenware.js" type="text/javascript"></script><script src="/libs/scripts/Control.js"></script></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>BootstrapDeliciousComments</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#handle-check-box-and-radio-button-selections">Handle Check Box and Radio Button Selections</a></li>
<li><a href="#call-delicious">Use Ajax to Call Delicious</a></li>
<li><a href="#suppress-form-submit">Suppress Form Submit</a></li>
<li><a href="#pass-parameters">Pass Parameters</a></li>
<li><a href="#empty-list">Pass Parameters: Empty List</a></li>
<li><a href="#parameter-arguments">Pass Parameters: The Arguments</a></li><!--TOC_End--></ul><h2 id="overview">Overview</h2>
<p>Comments on <strong>Boostrap Delicous</strong>.</p>
<h2 id="handle-check-box-and-radio-button-selections">Handle Check Box and Radio Button Selections</h2>
<p>Here is the code that should appear inside our <strong>document ready</strong> function.</p>
<pre><code class="lang-javascript">$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Handle button clicks</span>
    $(<span class="hljs-string">"input[name=check]:checkbox"</span>).click(displayCheckboxSelection);
    $(<span class="hljs-string">'.btn-group .btn'</span>).click(displayRadioButtonSelection);

    <span class="hljs-comment">// Initialize controls</span>
    displayCheckboxSelection();
    $(<span class="hljs-string">"#radioButtonDisplay01"</span>).html(<span class="hljs-string">'No radiobutton selected'</span>);
});
</code></pre>
<p>Here is the code from Boostrap Basics for handling radio button and check box clicks:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">displayCheckboxSelection</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">var</span> tag, query = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> options = [<span class="hljs-string">'bootstrap'</span>, <span class="hljs-string">'javascript'</span>, <span class="hljs-string">'nodejs'</span>];

    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">"#chBootstrap"</span>).is(<span class="hljs-string">':checked'</span>)) {
        $(<span class="hljs-string">"#checkBoxDisplay01"</span>).html(<span class="hljs-string">"You clicked Bootstrap"</span>);
        query += options[<span class="hljs-number">0</span>];
    } <span class="hljs-keyword">else</span> {
        $(<span class="hljs-string">"#checkBoxDisplay01"</span>).html(<span class="hljs-string">"Bootstrap is not selected"</span>);
    }

    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">"#chJavaScript"</span>).is(<span class="hljs-string">':checked'</span>)) {
        $(<span class="hljs-string">"#checkBoxDisplay02"</span>).html(<span class="hljs-string">"You clicked JavaScript"</span>);
        tag = query === <span class="hljs-string">''</span> ?  <span class="hljs-string">''</span> : <span class="hljs-string">'+'</span>;
        query +=  tag + options[<span class="hljs-number">1</span>];
    } <span class="hljs-keyword">else</span> {
        $(<span class="hljs-string">"#checkBoxDisplay02"</span>).html(<span class="hljs-string">"JavaScript is not checked"</span>);
    }

    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">"#chNodeJs"</span>).is(<span class="hljs-string">':checked'</span>)) {
        $(<span class="hljs-string">"#checkBoxDisplay03"</span>).html(<span class="hljs-string">"You clicked NodeJs"</span>);
        tag = query === <span class="hljs-string">''</span> ?  <span class="hljs-string">''</span> : <span class="hljs-string">'+'</span>;
        query +=  tag + options[<span class="hljs-number">2</span>];
    } <span class="hljs-keyword">else</span> {
        $(<span class="hljs-string">"#checkBoxDisplay03"</span>).html(<span class="hljs-string">"NodeJs is not checked"</span>);
    }

    callDelicious(query)
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">displayRadioButtonSelection</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> id = $(<span class="hljs-keyword">this</span>).text();
    $(<span class="hljs-string">"#radioButtonDisplay01"</span>).html(<span class="hljs-string">"You clicked "</span> + id);
    callDelicious(id);
}
</code></pre>
<p>Without this code, clicks on checkboxes and on radiobuttons will not work.</p>
<p>The <strong>displayCheckBoxSelection</strong> must build up a query reflecting the options selected by the user. We use the variables <strong>tag</strong>, <strong>query</strong> and <strong>options</strong> to help us with this task.</p>
<p>Recall that if you want to see the links that have two or more different tags associated with them, then compose a URL like one of these:</p>
<pre><code class="lang-javascript"><span class="hljs-string">url:</span> <span class="hljs-string">'http://feeds.delicious.com/v2/json/charliecalvert/javascript+nodejs'</span>
<span class="hljs-string">url:</span> <span class="hljs-string">'http://feeds.delicious.com/v2/json/charliecalvert/nodejs+bootstrap'</span>
<span class="hljs-string">url:</span> <span class="hljs-string">'http://feeds.delicious.com/v2/json/charliecalvert/bootstrap+javascript+nodejs'</span>
</code></pre>
<p>Notice how each of the three <strong>if statements</strong> in <strong>displayCheckboxSelection</strong> creates or adds to the <strong>query</strong> string. For instance, if the user selections only bootstrap, then this is our <strong>subject</strong> parameter for the query string:</p>
<ul>
<li>boostrap</li>
</ul>
<p>If they selection bootstrap and javascript, then we end up with this:</p>
<ul>
<li>boostrap+javascript</li>
</ul>
<p>And so on.</p>
<h2 id="call-delicious">Use Ajax to Call Delicious</h2>
<p>Here is my code for making the remote call to the Delicious web service:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> deliciousLinks;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">detailDelicious</span>(<span class="hljs-params">index</span>) </span>{
    $(<span class="hljs-string">'#deliciousDetails'</span>).html(<span class="hljs-built_in">JSON</span>.stringify(deliciousLinks[index], <span class="hljs-literal">null</span>, <span class="hljs-number">4</span>));
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">appendUrl</span>(<span class="hljs-params">index, deliciousLink</span>) </span>{
    <span class="hljs-keyword">var</span> url = deliciousLink.u;
    <span class="hljs-keyword">var</span> description = deliciousLink.d;
    <span class="hljs-keyword">var</span> anchor = <span class="hljs-string">'&lt;a href="'</span> + url + <span class="hljs-string">'" target="_blank"&gt;'</span> + description + <span class="hljs-string">'&lt;/a&gt;'</span>;
    <span class="hljs-keyword">var</span> details = <span class="hljs-string">'&lt;a onclick="detailDelicious('</span> + index + <span class="hljs-string">')"&gt;Details&lt;/a&gt;'</span>;
    $(<span class="hljs-string">'#urlDelicious'</span>).append(<span class="hljs-string">'&lt;li&gt;'</span> + anchor + <span class="hljs-string">' - '</span> + details + <span class="hljs-string">'&lt;/li&gt;'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callDelicious</span>(<span class="hljs-params">subject</span>) </span>{
    <span class="hljs-keyword">var</span> feedUrl = <span class="hljs-string">'http://feeds.delicious.com/v2/json/charliecalvert/'</span> + subject;
    $.ajax(
        {
            url: feedUrl,

            dataType: <span class="hljs-string">'jsonp'</span>,

            success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{
                deliciousLinks = data;
                $(<span class="hljs-string">'#urlDelicious'</span>).empty();
                $.each(deliciousLinks, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index, deliciousLink</span>) </span>{
                    appendUrl(index, deliciousLink);
                });
                $(<span class="hljs-string">'#deliciousDetails'</span>).html(<span class="hljs-built_in">JSON</span>.stringify(deliciousLinks, <span class="hljs-literal">null</span>, <span class="hljs-number">4</span>));
            }
        });
}
</code></pre>
<p>The code first create a url called <strong>feedUrl</strong> that might look like this:</p>
<pre><code class="lang-xml"><span class="hljs-string">http:</span><span class="hljs-comment">//feeds.delicious.com/v2/json/charliecalvert/bootstrap+javascript</span>
</code></pre>
<p>If the <strong>$.ajax</strong> call that uses this URL succeeds, then we iterate over the <strong>data</strong> array returned from Delicious. For each item in the array, we call <strong>appendUrl</strong>, which is designed to create a list item (LI) that contains two hyperlinks.</p>
<ul>
<li>The first hyperlink opens a tab showing the Delicious link.</li>
<li>The second hyperlink shows the details of the object we got from delicious that details the link related information. For instance, the details might look like this:</li>
</ul>
<pre><code class="lang-json">{
    "<span class="hljs-attribute">a</span>": <span class="hljs-value"><span class="hljs-string">"charliecalvert"</span></span>,
    "<span class="hljs-attribute">d</span>": <span class="hljs-value"><span class="hljs-string">"Twitter Bootstrap Github twbs/bootstrap"</span></span>,
    "<span class="hljs-attribute">n</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
    "<span class="hljs-attribute">u</span>": <span class="hljs-value"><span class="hljs-string">"https://github.com/twbs/bootstrap"</span></span>,
    "<span class="hljs-attribute">t</span>": <span class="hljs-value">[
        <span class="hljs-string">"bootstrap"</span>,
        <span class="hljs-string">"html"</span>,
        <span class="hljs-string">"css"</span>,
        <span class="hljs-string">"javascript"</span>
    ]</span>,
    "<span class="hljs-attribute">dt</span>": <span class="hljs-value"><span class="hljs-string">"2015-10-04T03:12:48Z"</span>
</span>}
</code></pre>
<h2 id="suppress-form-submit">Suppress Form Submit</h2>
<p>It is unlikely you will need this in our code since we do not have a form. Nevertheless, it is perhaps worth mentioning that if you have a form, and want to suppress or customize the default handling of the said form, then do something like this in <strong>document ready</strong>:</p>
<pre><code class="lang-javascript">$(<span class="hljs-string">"#target"</span>).submit(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
    event.preventDefault();
    <span class="hljs-keyword">var</span> userFormData = $(<span class="hljs-keyword">this</span>).serialize();
    $(<span class="hljs-string">'#formResults'</span>).html(userFormData);
});
</code></pre>
<p>For now, however, we are ensuring that even if we had a form, our button does not trigger form submit by setting the button <strong>type</strong> to <strong>button</strong>:</p>
<pre><code class="lang-jade"><span class="hljs-tag">button</span><span class="hljs-class">.btn</span><span class="hljs-class">.btn-primary</span>(type=<span class="hljs-string">"button"</span>, onclick=<span class="hljs-string">"deliciousEventHandler()"</span>) Search Delicious
</code></pre>
<h2 id="pass-parameters">Pass Parameters</h2>
<p>Consider the following functions:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deliciousEventHandler</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-keyword">var</span> subject = $(<span class="hljs-string">"#subject"</span>).val();
    <span class="hljs-built_in">console</span>.log(subject);
    callDelicious(subject);
    resultList(subject);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">displayCheckboxSelection</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">"#chJavaScript"</span>).is(<span class="hljs-string">':checked'</span>)) {
        $(<span class="hljs-string">"#myList"</span>).empty();
        deliciousEventHandler(<span class="hljs-string">'javascript'</span>);
    } <span class="hljs-keyword">else</span> {
        $(<span class="hljs-string">"#checkBoxDisplay01"</span>).html(<span class="hljs-string">"CheckBox01 not Checked"</span>);
    }

    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">"#chBootstrap"</span>).is(<span class="hljs-string">':checked'</span>)) {
        $(<span class="hljs-string">"#myList"</span>).empty();
        deliciousEventHandler(<span class="hljs-string">'bootstrap'</span>);
        etc...
</code></pre>
<p>There are two problems with this code:</p>
<ul>
<li>To many calls to <strong>$(&quot;#myList&quot;).empty()</strong></li>
<li>Missing parameter in the declaration of <strong>delicious</strong></li>
</ul>
<h3 id="empty-list">Pass Parameters: Empty List</h3>
<p>Let&#39;s deal with empty list issue first.</p>
<p>In general, this is not the right place to clear the controls. Do that just before you populate them. For instance, in the callDelicious method. The problem is that these are checkboxes, and so more than one of them can be selected. If we clear the list when responding to our check for each check box, then the following happens:</p>
<ul>
<li>Suppose the first checkbox is checked</li>
<li>Our code responds to this by<ul>
<li>emptying the list</li>
<li>and Attempting to fill the list</li>
</ul>
</li>
<li>Suppose the second check box is checked</li>
<li>Our code responds to this<ul>
<li>emptying the list</li>
</ul>
</li>
</ul>
<p>And lets just stop right there. We filled the list, in the first case, and emptied it in the second case. This means our work showing the results of the first checkbox was obliterated. This will never do. Instead, we should call <strong>empty</strong> in <strong>callDelicious</strong>, just before we display data, as shown above.</p>
<h3 id="parameter-arguments">Pass Parameters: The Arguments</h3>
<p>Notice also that the student&#39;s call to the <strong>delicious</strong> method passes in the string <strong>javascript</strong> as its single argument:</p>
<pre><code class="lang-javascript">deliciousEventHandler<span class="hljs-list">(<span class="hljs-quoted">'javascript</span>')</span><span class="hljs-comment">;</span>
</code></pre>
<p>But the <strong>deliciousEventHandler</strong> method does not take a parameter:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deliciousEventHandler</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-keyword">var</span> subject = $(<span class="hljs-string">"#subject"</span>).val();
    <span class="hljs-built_in">console</span>.log(subject);
    callDelicious(subject);
}
</code></pre>
<p>One possible, but ultimately incorrect, solution would be to give the <strong>delicious</strong> method a parameter, and not to try to retrieve the user&#39;s input at this point in our code:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deliciousEventHandler</span>(<span class="hljs-params">subject</span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-built_in">console</span>.log(subject);
    callDelicious(subject);
}
</code></pre>
<p>Notice that the call to <strong>$(&quot;#subject&quot;).val();</strong> has been removed.</p>
<p>That would solve our immediate problem, but it would introduce other problems in our code. A better solution would be to restore our original <strong>deliciousEventHandler</strong> method:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deliciousEventHandler</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-keyword">var</span> subject = $(<span class="hljs-string">"#subject"</span>).val();
    <span class="hljs-built_in">console</span>.log(subject);
    callDelicious(subject);
}
</code></pre>
<p>Instead of calling this method directly, instead invoke <strong>callDelicious</strong> as shown in the <strong>displayCheckboxSelection</strong> method quoted in full above. Notice the invocation of <strong>callDelicious</strong> near the end of the <strong>displayCheckboxSelection</strong> method:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-title">callDelicious</span><span class="hljs-params">(query)</span></span>
</code></pre>
<p>Notice also that <strong>deliciousEventHandler</strong> is not called at all in <strong>displayCheckboxSelection</strong>. The <strong>deliciousEventHandler</strong> method should only be called from our <strong>HTML</strong> based button click method.</p>
</div></body></html>