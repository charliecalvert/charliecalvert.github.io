<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>MarkdownExpressInClass</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><!-- link(href='/libs/css/BootstrapIndex.css', rel='stylesheet', type='text/css')--><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><!-- script(src='/libs/scripts/elvenware.js', type='text/javascript')--><script src="/libs/scripts/Control.js"></script><!-- script(src='http://localhost:35729/livereload.js')--></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/charlie/development/index.html">Strongly Typed</a></li><li><a href="/charlie/development/web/index.html">Web & Scripts</a></li><li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/charlie/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>MarkdownExpressInClass</h1><p>Welcomes to MarkdownExpressInClass</p><ul><!--TOC_Start--><li><a href="#markdown-express-in-class">Markdown Express in Class</a></li>
<li><a href="#fix-npm">Fix NPM</a></li>
<li><a href="#remove-bad-npm-">Remove bad npm:</a></li>
<li><a href="#is-everything-up-to-date">Is Everything up to date</a></li>
<li><a href="#mixin">Mixin</a></li><!--TOC_End--></ul><h1 id="markdown-express-in-class">Markdown Express in Class</h1>
<p>Retext in the software center in Lubuntu. Isit322. A.</p>
<p>Week09-InClassMarkdownExpress</p>
<p>Make sure you have the generator-express installed:</p>
<pre><code>npm <span class="hljs-keyword">install</span> -<span class="hljs-keyword">g</span> generator-express
npm <span class="hljs-keyword">install</span> -<span class="hljs-keyword">g</span> generator-mocha
</code></pre><p>Then do this:    </p>
<pre><code><span class="hljs-attribute">yo</span> express
</code></pre><p>And chose these options:</p>
<pre><code><span class="hljs-keyword">BASIC
</span><span class="hljs-keyword">JADE
</span>NONE 
GRUNT
</code></pre><p>And then install mocha:</p>
<pre><code><span class="hljs-attribute">yo</span> mocha 
</code></pre><p>And also:</p>
<pre><code>npm <span class="hljs-keyword">install</span> marked <span class="hljs-comment">--save</span>
</code></pre><h2 id="fix-npm">Fix NPM</h2>
<p>npm install -g npm</p>
<p>Make sure that <strong>~/npm/bin/npm --version</strong> gives what you want. </p>
<h2 id="remove-bad-npm-">Remove bad npm:</h2>
<p>sudo rm /usr/bin/npm</p>
<p>Replace with the good npm:</p>
<p>sudo ln -s /home/bcuser/npm/bin/npm /usr/bin/npm</p>
<h2 id="is-everything-up-to-date">Is Everything up to date</h2>
<pre><code>npm outdated -g <span class="hljs-comment">--depth=0</span>
npm <span class="hljs-keyword">update</span> -<span class="hljs-keyword">g</span>
npm <span class="hljs-keyword">list</span> -<span class="hljs-keyword">g</span> 
</code></pre><h2 id="mixin">Mixin</h2>
<p>Create mixin.jade</p>
<p>Paste in this:</p>
<pre><code><span class="hljs-keyword">extends</span> layout

<span class="hljs-keyword">include</span> mixins

block content
  h1= title
  p Welcome to #{title}

  +attribution

  <span class="hljs-keyword">include</span>:md <span class="hljs-built_in">index</span>.md
</code></pre><p>And about:</p>
<pre><code><span class="hljs-comment">/**
 * Created by charlie on 3/4/15.
 */</span>

<span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">var</span> router = express.Router();

<span class="hljs-comment">/* GET home page. */</span>

router.get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>{
    res.render(<span class="hljs-string">'about'</span>, { title: <span class="hljs-string">'About In Class Markdown Express'</span> });
});

<span class="hljs-built_in">module</span>.exports = router;
</code></pre><p>Like this in app.js:</p>
<pre><code><span class="hljs-keyword">var</span> routes = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./routes/index'</span>);
<span class="hljs-keyword">var</span> users = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./routes/user'</span>);
<span class="hljs-keyword">var</span> about = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./routes/about'</span>);
</code></pre><p>And like this:</p>
<pre><code><span class="hljs-keyword">app</span>.<span class="hljs-keyword">use</span>('/', routes);
<span class="hljs-keyword">app</span>.<span class="hljs-keyword">use</span>('/users', users);
<span class="hljs-keyword">app</span>.<span class="hljs-keyword">use</span>('/<span class="hljs-keyword">about</span>', <span class="hljs-keyword">about</span>);
</code></pre><p>Create a link to the about page:</p>
<pre><code><span class="hljs-function"><span class="hljs-title">a</span><span class="hljs-params">(href=<span class="hljs-string">"about"</span>)</span></span> About
</code></pre><p>Create a new JavaScript file called <strong>Control.js</strong> and put it in <strong>public/js</strong>. And install jquery:</p>
<pre><code><span class="hljs-keyword">bower </span><span class="hljs-keyword">install </span><span class="hljs-keyword">jquery </span>--save
</code></pre><p>And then your layout.jade:</p>
<pre><code>doctype html
html(<span class="hljs-name">lang=</span>'en')
  head
    meta(<span class="hljs-name">charset=</span>'UTF-8')
    meta(<span class="hljs-name">name=</span>'viewport', content='width=device-width')
    title= title
    block css
      link(<span class="hljs-name">rel=</span>'stylesheet', href='/css/style.css')
    block js
      script(<span class="hljs-name">src=</span><span class="hljs-string">"components/jquery/dist/jquery.js"</span>)  
      script(<span class="hljs-name">src=</span><span class="hljs-string">"js/Control.js"</span>)
      script(<span class="hljs-name">src=</span>'http<span class="hljs-symbol">://localhost</span>:<span class="hljs-number">35729</span>/livereload.js')
  body
    block content
</code></pre><p>The load statement:</p>
<pre><code><span class="hljs-variable">$(</span><span class="hljs-string">"#displayArea"</span>).load(<span class="hljs-string">"/about/garply"</span>);
</code></pre><p>Then respond in a route found in <strong>routes/about.js</strong>:</p>
<pre><code>router.<span class="hljs-keyword">get</span>(<span class="hljs-string">'/garply'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(request, response)</span> </span>{
   response.render(<span class="hljs-string">'garply'</span>, {title: <span class="hljs-string">'Garply'</span>});
}
</code></pre></div></body></html>