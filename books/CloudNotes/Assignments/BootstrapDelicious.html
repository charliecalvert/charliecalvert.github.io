<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>BootstrapDelicious</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><link href="/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><script src="/libs/scripts/elvenware.js" type="text/javascript"></script><script src="/libs/scripts/Control.js"></script></head><body ng-app="elfApp"><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>BootstrapDelicious</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#bootstrap-delicious-file">Bootstrap Delicious File</a></li>
<li><a href="#install">Step One: Install</a></li>
<li><a href="#link">Step Two: Link to Bootstrap</a></li>
<li><a href="#simple-controls">Step Three: Simple Controls</a></li>
<li><a href="#query-delicious">Step Four: Query Delicious</a></li>
<li><a href="#more-controls">Step Five: Create Additional Controls and Response Methods</a></li>
<li><a href="#delicious-account">Step Six: Create Your own Delicious Links</a></li>
<li><a href="#turn-it-in">Turn It In</a></li>
<li><a href="#hint">Hint</a></li>
<li><a href="#deugger-hints">Deugger Hints</a></li><!--TOC_End--></ul><h1 id="bootstrap-delicious-file">Bootstrap Delicious File</h1>
<p>We&#39;ll work on this assignment in class on Tuesday, Oct 6, 2015.</p>
<p>The main goal of the assignment is to retrieve information from the Delicious web site based on the user&#39;s input.</p>
<p>There are various controls on the main page of the app we are creating in this assignments. We form queries to send to the Delicious site based on the information the user enters as she clicks on, or enters text into, these controls. Here are two sample queries that we might create based on the user&#39;s input:</p>
<ul>
<li><a href="http://feeds.delicious.com/v2/json/charliecalvert/javascript">http://feeds.delicious.com/v2/json/charliecalvert/javascript</a></li>
<li><a href="http://feeds.delicious.com/v2/json/charliecalvert/nodejs">http://feeds.delicious.com/v2/json/charliecalvert/nodejs</a></li>
</ul>
<p>In addition, we will learn about Bootstrap. Bootstrap allows you to create projects with CSS that looks good on a PC, a tablet or a phone.</p>
<h2 id="install">Step One: Install</h2>
<p>To get started using bootstrap, navigate to your repository and create a new express project called <strong>Week03-BootstrapDelicious</strong>.</p>
<pre><code class="lang-bash">express Week03_BootstrapBasics
cd Week03_BootstrapBasics
npm install
</code></pre>
<p>First copy our default <strong>bower.json</strong> and <strong>.bowerrc</strong> files from <a href="https://github.com/charliecalvert/JsObjects/tree/master/Utilities/Templates">JsObjects</a>.</p>
<pre><code class="lang-bash">cp $ELF_TEMPLATES/bower.json .
cp $ELF_TEMPLATES/.bowerrc .
bower install bootstrap --save
</code></pre>
<p>Remember that we define <strong>$ELF_TEMPLATES</strong> in our <strong>.bash_alias</strong> file. That file is maintained on <a href="https://github.com/charliecalvert/JsObjects/blob/master/Utilities/SetupLinuxBox/.bash_aliases">JsObjects</a>.</p>
<p>Now set the port to <strong>bin/www</strong> to 30025. You can do it manually in WebStorm, or use this command to do it from the command line:</p>
<pre><code>sed -i -- &#39;s/3000/30025/g&#39; bin/www
</code></pre><p>Replace <strong>node</strong> with <strong>nodemon</strong> in <strong>package.json</strong>:</p>
<pre><code>sed -i -- &#39;s/node\s/nodemon /g&#39; package.json
</code></pre><p>Get the <strong>favicon</strong>:</p>
<pre><code>cp ~/Git/JsObjects/Data/MongoLab03/favicon.png public/.
</code></pre><p>Change the title:</p>
<pre><code>sed -i -- &#39;s/Express/BootstrapDelicious/g&#39; routes/index.js
</code></pre><p>Create control.js and use add strict:</p>
<pre><code>echo -e &quot;\$(document).ready(function() { &#39;use strict&#39;; \n});&quot; &gt;&gt; public/javascripts/control.js
sed -i &quot;s/{$/{ &#39;use strict&#39;;/&quot; routes/index.js
sed -i &quot;s/{$/{ &#39;use strict&#39;;/&quot; routes/users.js
sed -i &quot;s/next) {/next) { &#39;use strict&#39;;/&quot; app.js
</code></pre><p>This part of your work is done now, but as an fyi, this is how it looks if you put it all together:</p>
<pre><code>express Week03-BootstrapDelicious
cd Week03-BootstrapDelicious
npm install
cp $ELF_TEMPLATES/bower.json .
cp $ELF_TEMPLATES/.bowerrc .
bower install bootstrap --save
sed -i -- &#39;s/3000/30025/g&#39; bin/www
sed -i -- &#39;s/node\s/nodemon /g&#39; package.json
cp ~/Git/JsObjects/Data/MongoLab03/favicon.png public/.
sed -i -- &#39;s/Express/BootstrapDelicious/g&#39; routes/index.js
echo -e &quot;\$(document).ready(function() {\n});&quot; &gt;&gt; public/javascripts/control.js
sed -i &quot;s/{$/{ &#39;use strict&#39;;/&quot; routes/index.js
sed -i &quot;s/{$/{ &#39;use strict&#39;;/&quot; routes/users.js
sed -i &quot;s/next) {/next) { &#39;use strict&#39;;/&quot; app.js
</code></pre><p>Remember that you can save code like that shown above into <strong>bash</strong> script, and then run it as needed:</p>
<ul>
<li>First create the file with an editor such as geany or nano</li>
<li>Save the file as <strong>CreateBootstrapDelicous</strong></li>
<li>Make it executable: chmod +x CreateBootstrapDelicious</li>
<li>Run it like this: ./CreateBootstrapDelicious</li>
</ul>
<p>If you want to pass in a parameter, you can pick it off with $1, $2, etc. For instance if you pass in BootstrapDelicious as a parameter when you run your script:</p>
<pre><code>#! /bin/bash

express $1
cd $1
npm install
cp $ELF_TEMPLATES/bower.json .
cp $ELF_TEMPLATES/.bowerrc .
bower install bootstrap --save
sed -i -- &#39;s/3000/30025/g&#39; bin/www
sed -i -- &#39;s/node\s/nodemon /g&#39; package.json
cp ~/Git/JsObjects/Data/MongoLab03/favicon.png public/.
sed -i -- &#39;s/Express/&#39;$1&#39;/g&#39; routes/index.js
echo -e &quot;\$(document).ready(function() { &#39;use strict&#39;; \n});&quot; &gt;&gt; public/javascripts/control.js
sed -i &quot;s/{$/{ &#39;use strict&#39;;/&quot; routes/index.js
sed -i &quot;s/{$/{ &#39;use strict&#39;;/&quot; routes/users.js
sed -i &quot;s/next) {/next) { &#39;use strict&#39;;/&quot; app.js
</code></pre><p>Now you can use this script to create a project with an random name. For instance, you could:</p>
<ul>
<li>Save the new script as CreateExpressProject and put it in your ~/bin directory</li>
<li>chmod +x ~/bin/CreateExpressProject</li>
<li>Invoke it like this: CreateExpressProject Week03-Test-LastName</li>
</ul>
<h2 id="link">Step Two: Link to Bootstrap</h2>
<p>We need to link in three files:</p>
<ul>
<li>boostrap.css</li>
<li>jquery.js</li>
<li>bootstrap.js</li>
</ul>
<p>Here is what <strong>layout.jade</strong> looks like when you are done:</p>
<pre><code>doctype html
html
  head
      meta(charset=&#39;UTF-8&#39;)
    meta(name=&#39;viewport&#39;, content=&#39;width=device-width&#39;)
    title= title
    link(rel=&#39;stylesheet&#39;, href=&#39;/stylesheets/style.css&#39;)
    link(rel=&#39;stylesheet&#39;, href=&#39;/components/bootstrap/dist/css/bootstrap.css&#39;)
    script(src=&quot;components/jquery/dist/jquery.js&quot;)
    script(src=&quot;components/bootstrap/dist/js/bootstrap.js&quot;)
  body
    block content
</code></pre><h2 id="simple-controls">Step Three: Simple Controls</h2>
<p>Get started defining the HTML for your app by creating a single button and input control. This code belongs in <strong>index.jade</strong>:</p>
<pre><code>button(onclick=&quot;delicious()&quot;) Delicous

div.panel.panel-default
    div.panel-heading Text Input
    div.panel-body
        div.form-group
            label(for=&#39;subject&#39;) Subject
            input#subject.form-control(type=&#39;text&#39;, placeholder=&quot;subject&quot;)
    div
        pre#viewer
`
</code></pre><h2 id="query-delicious">Step Four: Query Delicious</h2>
<p>Make sure a file called <strong>control.js</strong> is in the <strong>public/javascripts</strong> directory. It should have been created by our <strong>CreateExpressProject</strong> script back in Step One.</p>
<p>We will, however, have to use the <strong>script</strong> tag to link <strong>control.js</strong> into our app from <strong>layout.jade</strong>.</p>
<p>Place the following code inside <strong>control.js</strong>:</p>
<pre><code>function callDelicious(subject) { &#39;use strict&#39;;
    var delicious = &#39;http://feeds.delicious.com/v2/json/charliecalvert/&#39; + subject;
    $.ajax(
        {
            url: delicious,
            dataType: &#39;jsonp&#39;,
            success: function(data) {
                $(&#39;#viewer&#39;).html(JSON.stringify(data, null, 4));
            }
    });
}

function delicious() { &#39;use strict&#39;;
    var subject = $(&quot;#subject&quot;).val();
    callDelicious(subject);
}
</code></pre><p>You can query for either JSON or RSS:</p>
<ul>
<li><a href="http://feeds.delicious.com/v2/json/charliecalvert/">http://feeds.delicious.com/v2/json/charliecalvert/</a></li>
<li><a href="http://feeds.delicious.com/v2/rss/charliecalvert/">http://feeds.delicious.com/v2/rss/charliecalvert/</a></li>
</ul>
<p>We, however, will prefer JSON. We like JSON because it is subset of JavaScript, and is therefore easily made compatible with our existing JavaScript codebase.</p>
<p>Read more about the URL for RSS and JSON feeds here: </p>
<ul>
<li><a href="https://delicious.com/rss">Delicious RSS and JSON</a></li>
<li><a href="https://github.com/SciDevs/delicious-api/blob/master/api/oauth.md">Delicious oauth</a></li>
</ul>
<p>The code in the delicious and callDelicious methods do the following:</p>
<ul>
<li>Retrieve the query the user wants to run. For instance, the user might enter <strong>javascript</strong></li>
<li>Pass the user&#39;s request to a method that can query the Delicious web site.</li>
<li>Append the user&#39;s request to our default query URL.</li>
<li>Use ajax to run the assembled query</li>
<li>Display the results</li>
</ul>
<h2 id="more-controls">Step Five: Create Additional Controls and Response Methods</h2>
<p>For what follows, refer to your <strong>Week03-BootstrapBasics</strong> for help setting up radio buttons and check boxes.</p>
<p>Provide three radio buttons:</p>
<ul>
<li>javascript</li>
<li>node</li>
<li>bootstrap</li>
</ul>
<p>When the user selects one of them, write code in <strong>control.js</strong> to ensure they see the delicious options for links to those items.</p>
<p>In particular, change the URL in the <strong>delicious</strong> call to one of these:</p>
<pre><code>url: &#39;http://feeds.delicious.com/v2/json/charliecalvert/javascript&#39;
url: &#39;http://feeds.delicious.com/v2/json/charliecalvert/nodejs&#39;
url: &#39;http://feeds.delicious.com/v2/json/charliecalvert/bootstrap&#39;
</code></pre><p>Provide three checkboxes with the same labels.</p>
<p>If the user selects one or more of them, they see delicious links for multiple items for instance, both <strong>javascript</strong> and <strong>nodejs</strong>. For instance, if they select <strong>javascript</strong> and <strong>node</strong>, ensure they see all the links that use both javascript and node from the Delicious site. This is the interesction, not the combined scripts.</p>
<p>Below is an example interface. The three buttons labelled JavaScript, Bootstrap and Node can be replaced with ordinary radio buttons. The large gray area near the bottom is a a PRE tag inside a DIV:</p>
<pre><code>div
    pre#viewer
</code></pre><p>The id for my text input control is <strong>#subject</strong> and for the radiobuttons its <strong>chJavaScript</strong>, <strong>chBootstrap</strong> and <strong>chNodeJs</strong>:</p>
<pre><code>input#chJavaScript(type=&#39;checkbox&#39;, name=&#39;check&#39;, value=&#39;JavaScript&#39;)
</code></pre><p>Here is an approximation of something you can create:</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/BootstrapDelicious.png" alt="Delicious"></p>
<h2 id="delicious-account">Step Six: Create Your own Delicious Links</h2>
<p>Ceate our own delicious account and query them. Provide radiobuttons for switching between your account and my account.</p>
<h2 id="turn-it-in">Turn It In</h2>
<p>Be sure your work is in your repository in a folder called <strong>Week03-BootstrapDelicious</strong>. Include the URL of your repository when you submit the assignment. You might also make a note of the folder in which your project resides. This might help you remember to put it in exactly the right folder.</p>
<h2 id="hint">Hint</h2>
<p>To get you started, I&#39;ll show you a halfway step that displays just a single url in the viewer. But remember, I want you to show not in the viewer, but in an unordered list. We&#39;ve done that before.</p>
<pre><code class="lang-javascript">success: function(data) {
    $.each(data, function(index, obj) {
        var url = obj.u + &#39;&lt;br /&gt;&#39;;
        $(&#39;#viewer&#39;).append(url);
    })
    // $(&#39;#viewer&#39;).html(JSON.stringify(data, null, 4));
            }
</code></pre>
<h3 id="deugger-hints">Deugger Hints</h3>
<p><strong>NOTE</strong>: <em>Inspired by Brian</em></p>
<ul>
<li>Open the Developer Tools with F12. Go to the source tab</li>
<li>On the left, expand the doo-hickey and click on <strong>javascripts/control.js</strong></li>
<li>Click in the gutter on the left to set a breakpoint in the body of the <strong>success</strong> method found in the call to <strong>$.ajax</strong>. It might look like this:</li>
</ul>
<pre><code class="lang-javascript">$(&#39;#viewer&#39;).html(JSON.stringify(data, null, 4));
</code></pre>
<p>On the right side, select the <strong>watch </strong>section and add the following watch expression</p>
<ul>
<li>data[0].u</li>
<li>This selects the u (url) property of the first element in the data array.</li>
</ul>
<p>Now let&#39;s trigger the breakpoint. Use the program&#39;s interface:</p>
<ul>
<li>To enter <strong>javascript</strong> in the input box</li>
<li>Select the <strong>Delicious</strong> button</li>
<li>Your watch express <strong>data[0].u</strong> should now be set to the URL of the first object in the array returned from the server.</li>
</ul>
<p>Take the time to explore the other features of the debugger such as the <strong>locals</strong> where you can open up the <strong>data</strong> array and explore its contents.</p>
</div></body></html>