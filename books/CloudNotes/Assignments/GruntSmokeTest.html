<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>GruntSmokeTest</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><!-- link(href='/libs/css/BootstrapIndex.css', rel='stylesheet', type='text/css')--><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><!-- script(src='/libs/scripts/elvenware.js', type='text/javascript')--><script src="/libs/scripts/Control.js"></script><!-- script(src='http://localhost:35729/livereload.js')--></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/charlie/development/index.html">Strongly Typed</a></li><li><a href="/charlie/development/web/index.html">Web & Scripts</a></li><li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/charlie/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>GruntSmokeTest</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#grunt-clean">Grunt Clean Script</a></li>
<li><a href="#turn-it-in">Turn it in</a></li>
<li><a href="#rename">Rename a folder</a></li><!--TOC_End--></ul><h2 id="overview">Overview</h2>
<p>See if you are ready to push your code for me to review. In particular:</p>
<ul>
<li>Make sure you have created and properly name a folder for each of our major projects</li>
<li>Make sure each project passes <strong>grunt check</strong></li>
</ul>
<p>&quot;Where there&#39;s smoke there&#39;s fire.&quot; A smoke test is designed to check not that a program runs perfectly, but that it at least meets a set of minimum requirements. For instance, in our case, our smoke test ensures that each project has a valid directory name and passes <strong>grunt check</strong>. Just because it passes these minimal tests does not mean the program works correctly. But it shows that our projects are at least worthy of being looked at.</p>
<h2 id="grunt-clean">Grunt Clean Script</h2>
<p>Here is a bash script that will check for the existence of folders that I expect to find. If they do exist, then <strong>grunt check</strong> is run inside it:</p>
<pre><code class="lang-bash"><span class="hljs-comment">#! /bin/bash</span>

<span class="hljs-comment"># Use set -e to exit on error</span>
set -e

function check() {
 <span class="hljs-built_in"> if </span>[ -d $1 ]; then
    cd $1
  else
    echo <span class="hljs-string">"Directory $1 does not exist."</span>
    echo <span class="hljs-string">"Please fix the problem and try again."</span>
    exit
  fi

  pwd

 <span class="hljs-built_in"> if </span>[ ! -d node_modules ]; then
     npm install
     <span class="hljs-comment"># ln -s node_modules ~/tmp/node_modules</span>
  fi   

  grunt<span class="hljs-built_in"> check
</span>
  cd ..
}
<span class="hljs-built_in">
check </span>Week01-ExpressBasics/<span class="hljs-built_in">
check </span>Week02-BasicTypes/<span class="hljs-built_in">
check </span>Week02-BasicTypesExpress/<span class="hljs-built_in">
check </span>Week02-GetNumbers/<span class="hljs-built_in">
check </span>Week02-JavaScriptObjects/<span class="hljs-built_in">
check </span>Week02-ObjectBasicsJasmine/<span class="hljs-built_in">
check </span>Week03-CouchDbDemo/<span class="hljs-built_in">
check </span>Week03-CouchDbViews/<span class="hljs-built_in">
check </span>Week03-ExpressJQuery/<span class="hljs-built_in">
check </span>Week03-ExpressRoutes/<span class="hljs-built_in">
check </span>Week04-PointerLock/<span class="hljs-built_in">
check </span>Week04-ThreeFloor/<span class="hljs-built_in">
check </span>Week04-ThreeJsBasics/
</code></pre>
<p>Save this file as <strong>SmokeTest</strong> in the root of your repository. Make sure it has executable permissions:</p>
<pre>
chmod +x SmokeTest
</pre>

<p>You only have set the permissions one time.</p>
<p>Run the script:</p>
<pre>
./SmokeTest
</pre>

<p>The first few lines of output should look something like this:</p>
<pre>
$ ./SmokeTest
/home/charlie/Git/isit320-calvert-2016/Week01-ExpressBasics
Running "jsbeautifier:files" (jsbeautifier) task
Beautified 6 files, changed 0 files...OK

Running "jscs:src" (jscs) task
>> 6 files without code style errors.

Running "jshint:files" (jshint) task

✔ No problems


Done.
/home/charlie/Git/isit320-calvert-2016/Week02-BasicTypes
Running "jsbeautifier:files" (jsbeautifier) task
Beautified 5 files, changed 0 files...OK

Running "jscs:src" (jscs) task
>> 5 files without code style errors.

Running "jshint:files" (jshint) task

✔ No problems


Done.
/home/charlie/Git/isit320-calvert-2016/Week02-BasicTypesExpress
Running "jsbeautifier:files" (jsbeautifier) task
Beautified 7 files, changed 0 files...OK

Running "jscs:src" (jscs) task
>> 7 files without code style errors.

Running "jshint:files" (jshint) task

✔ No problems


Done.
/home/charlie/Git/isit320-calvert-2016/Week02-GetNumbers
Running "jsbeautifier:files" (jsbeautifier) task
Beautified 4 files, changed 0 files...OK

Running "jscs:src" (jscs) task
>> 4 files without code style errors.

Running "jshint:files" (jshint) task
>> Report "result.xml" created.

Done.
/home/charlie/Git/isit320-calvert-2016/Week02-JavaScriptObjects
Running "jsbeautifier:files" (jsbeautifier) task
Beautified 5 files, changed 0 files...OK

AND SO ON
</pre>

<h2 id="turn-it-in">Turn it in</h2>
<p>When you are done, simply submit your assignment and leave a brief message reporting on your status. For instance: &quot;All done. Everything passes.&quot;</p>
<p>After I pull your latest code, I&#39;ll run the script in your repository to check that all is good.</p>
<p><strong>NOTE</strong>: <em>The script uses the bash command <strong>set -e</strong> to ensure that the script exits if an error occurs. If you turn this assignment in on time and the script runs all the way through to the end without error the first time I run it, then you get a 100, else you get a 5 and have to fix the error and resubmit the assignment.</em></p>
<p>This assignment is really easy to complete if you have been doing your work correctly all along. As a result, you should make sure it passes even if you have not yet completed a particular assignment. This means at minimum you need properly named project directory that contains a valid <strong>package.json</strong>, <strong>Gruntfile.js</strong> and anything else necessary to get the smoke test to pass. If the project itself does not work correctly, or does not even exist in any more than nascent form, then you can still get a 100 on this assignment. The key is to be sure all the folders exist and <strong>grunt check</strong> passes in each one.</p>
<h2 id="rename">Rename a folder</h2>
<p>If a folder is named incorrectly, you can change the name with the <strong>git mv</strong> command:</p>
<pre>
git mv check Week01-BasicTypeExpress/ Week02-BasicTypesExpress
</pre>

<p>Then push your work and I will be able to see the new name for your folder.</p>
<p><strong>NOTE</strong>: <em>I care that your folders are named correctly because I use scripts to help me grade your homework. These scripts won&#39;t work correctly if your folders are not named correctly.</em></p>
</div></body></html>