<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>GitHubApi</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div id="navbar" class="navbar-collapse collapse">       <ul class="nav navbar-nav"><li ng-class="{ active: isActive('/')}" class="trigger-collapse"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img alt="Elvenware" src="/images/elvenwarelogo.png" class="elf-normal"/></figure><h1>GitHubApi</h1><p>Welcome to GitHubApi</p><ul><!--TOC_Start--><li><a href="#git-hub-api">Git Hub API</a></li>
<li><a href="#node-green">Node Support for ES6</a></li>
<li><a href="#github-api">GitHub API</a></li>
<li><a href="#sign-in">Sign in</a></li>
<li><a href="#display-gist-data">Display Gist Data</a></li>
<li><a href="#one-test">Running One Test File or Suite</a></li>
<li><a href="#getgist-component">GetGist Component</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#time-till-renew">Time till Renew</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="git-hub-api"></a>
<h1>Git Hub API</h1>
<p>Learn how to call the <a href="https://github.com/github-tools/github">GitHub API</a>.</p>
<a class="anchor" id="node-green"></a>
<h2>Node Support for ES6</h2>
<p>Note that let and const are fully supported.</p>
<ul>
<li><a href="http://node.green/">Node Green</a></li>
</ul>
<p>Get your version of node:</p>
<pre><code>$ <span class="hljs-keyword">node</span> <span class="hljs-title">--version</span>
v7.<span class="hljs-number">9.0</span>
</code></pre><ul>
<li><a href="https://gist.github.com/charliecalvert/51daef341699943b07c9570c3ad2cbab">ElfDebugEnzyme</a></li>
</ul>
<a class="anchor" id="github-api"></a>
<h2>GitHub API</h2>
<ul>
<li><a href="http://github-tools.github.io/github/">JavaScript GitHub API Docs</a></li>
<li><a href="https://github.com/github-tools/github">JavaScript GitHub API Repo</a></li>
<li><a href="https://github.com/settings/tokens">Get a GitHub API oauth token</a></li>
<li><a href="https://github.com/pksunkara/octonode">OctoNode alternative API</a></li>
<li><a href="https://developer.github.com/v3/">Generic (not JavaScript Specific, GitHub API Intro</a></li>
<li><a href="https://developer.github.com/guides/">Generic GitHub API Guides</a></li>
</ul>
<p>Install the JavaScript GitHub API:</p>
<pre><code>npm <span class="hljs-keyword">install</span> <span class="hljs-comment">--save github-api</span>
</code></pre><p>Link in the JavaScript GitHub API:</p>
<pre><code class="lang-javascript"><span class="hljs-attribute">var GitHub</span> = require(<span class="hljs-string">'github-api'</span>);
</code></pre>
<a class="anchor" id="sign-in"></a>
<h2>Sign in</h2>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> getGitHub = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">let</span> gh;
    <span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-attr">https</span>:<span class="hljs-comment">//gist.github.com/charliecalvert/51daef341699943b07c9570c3ad2cbab    gh = new GitHub({</span>
            token: token
        });
    } <span class="hljs-keyword">else</span> {
        gh = <span class="hljs-keyword">new</span> GitHub({
            <span class="hljs-attr">username</span>: <span class="hljs-string">'charliecalvert'</span>,
            <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>
        });
    }
    <span class="hljs-keyword">return</span> gh;
};
</code></pre>
<a class="anchor" id="display-gist-data"></a>
<h2>Display Gist Data</h2>
<p>Create a new components based on GetUserInfo and  call it <strong>DataMaven</strong>.</p>
<p>In DataMaven block copy fetchUser and paste it, renaming it to fetchGist. Now you have both fetchUser and fetchGist. In fetchGist, the URL should be &#39;/api/gist-test&#39;.</p>
<p>Your render method for DataMaven should have the routes that were in ElfHeader:</p>
<pre><code class="lang-javascript">render() {
    return (

        <span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">ElfHeader</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">exact</span> <span class="hljs-attr">path</span>=<span class="hljs-string">'/'</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{GetUserInfo}/</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">'/get-foo'</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{GetFoo}/</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">'/get-numbers'</span>
                       <span class="hljs-attr">render</span>=<span class="hljs-string">{(props)</span> =&gt;</span> (
                           <span class="hljs-tag">&lt;<span class="hljs-name">SmallNumbers</span> {<span class="hljs-attr">...props</span>}
                                         <span class="hljs-attr">numbers</span>=<span class="hljs-string">{numbersInit}/</span>&gt;</span>
                       )}
                /&gt;
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span>
    );
}
</code></pre>
<p>In <strong>index.js</strong> just load <strong>DataMaven</strong>:</p>
<pre><code class="lang-javascript">ReactDOM.render(
    &lt;div&gt;
        &lt;DataMaven/&gt;
    &lt;/div&gt;,
    document.getElementById(<span class="hljs-string">'root'</span>)
);
```https:<span class="hljs-comment">//gist.github.com/charliecalvert/51daef341699943b07c9570c3ad2cbab</span>

## Testing Notes

The tests <span class="hljs-keyword">in</span> **Header.test.js** break after the refactoring explained above. After the refactoring, I was getting this error:

- _Failed context type: The context `router` is marked <span class="hljs-keyword">as</span> required <span class="hljs-keyword">in</span> `Link`, but its value is `undefined`._

This is because the **ElfHeader** could not find the **Router** tag is was expected. The fix is <span class="hljs-keyword">as</span> follows:

```javascript
<span class="hljs-keyword">import</span> { BrowserRouter <span class="hljs-keyword">as</span> Router } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

it(<span class="hljs-string">'renders without crashing'</span>, () =&gt; {
    const div = document.createElement(<span class="hljs-string">'div'</span>);
    ReactDOM.render(&lt;Router&gt;&lt;ElfHeader /&gt;&lt;/Router&gt;, div);
});
</code></pre>
<p><a href="https://gist.github.com/charliecalvert/51daef341699943b07c9570c3ad2cbab">https://gist.github.com/charliecalvert/51daef341699943b07c9570c3ad2cbab</a>
<strong>Question</strong>: After making this change, we might want to test to see if <strong>ElfHeader</strong> properly renders an <strong>H2</strong> element. For that test to work, should we now use <strong>shallow</strong> or <strong>mount</strong>?</p>
<a class="anchor" id="one-test"></a>
<h2>Running One Test File or Suite</h2>
<p>We have learned how to use <strong>fit</strong> and <strong>.only</strong>. Also, note the menu:</p>
<pre><code>Watch Usage
 › Press o <span class="hljs-built_in">to</span> only run tests related <span class="hljs-built_in">to</span> changed <span class="hljs-built_in">files</span>.
 › Press p <span class="hljs-built_in">to</span> <span class="hljs-built_in">filter</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">a</span> filename regex pattern.
 › Press q <span class="hljs-built_in">to</span> quit watch mode.
 › Press Enter <span class="hljs-built_in">to</span> trigger <span class="hljs-keyword">a</span> test run.
</code></pre><p>Select <strong>p</strong> and enter part of the name of the test file you want to test. For instance, <strong>Header</strong>. Then only <strong>Header.test.js</strong> will run.</p>
<a class="anchor" id="getgist-component"></a>
<h2>GetGist Component</h2>
<p>You&#39;ll need to create a new component called <strong>ShowNewGist</strong> that extends <strong>React.Component</strong>. Its job will be to display the information you get back when you create a gist. This component will take a certain number of props including:</p>
<ul>
<li>The method to call to create the Gist: <strong>fetchGist</strong>.</li>
<li>The data retrieved from GitHub after you create the Gist: <strong>gitGist</strong>.</li>
</ul>
<p>You do not need to display all the fields, at least at first. Two or three would be enough while testing. For the midterm, up this to at least five or six. Be sure to include <strong>Description</strong> and <strong>URL</strong> among the fields you display. If possible, making <strong>URL</strong> clickable so we can see the Gist that you create.</p>
<p>Add a new item to the menu called <strong>Insert New Gist</strong> or something similar. In <strong>DataMaven</strong>, you will also need to a new <strong>Route</strong> in the <strong>render</strong> method. It should display a component called ShowNewGist At some point the new route will need to pass two pieces of information to the component it calls.</p>
<p>The new component will have one button that will call the <strong>fetchGist</strong> method from <strong>DataMaven</strong>.</p>
<p><strong>fetchGist</strong> should retrieve the entirity of the JSON data returned from GitHub. On the client side you should add the data to <strong>DataMaven</strong>&#39;s state. This should cause a call to the <strong>DataMaven</strong> and <strong>ShowNewGist</strong> render methods.</p>
<a class="anchor" id="examples"></a>
<h2>Examples</h2>
<p>curl <a href="https://api.github.com/zen">https://api.github.com/zen</a>
 2009  curl <a href="https://api.github.com/users/charliecalvert">https://api.github.com/users/charliecalvert</a></p>
<p> 2011  curl -i <a href="https://api.github.com/repos/twbs/bootstrap">https://api.github.com/repos/twbs/bootstrap</a>
 2012  curl -i <a href="https://api.github.com/repos/charliecalvert/JsObjects">https://api.github.com/repos/charliecalvert/JsObjects</a>
 2013  curl -i <a href="https://api.github.com/repos/charliecalvert/repos">https://api.github.com/repos/charliecalvert/repos</a>
 2014  curl -i <a href="https://api.github.com/repos/charliecalvert">https://api.github.com/repos/charliecalvert</a>
 2015  curl -i <a href="https://api.github.com/users/charliecalvert/repos">https://api.github.com/users/charliecalvert/repos</a></p>
<a class="anchor" id="time-till-renew"></a>
<h2>Time till Renew</h2>
<p> curl <a href="https://api.github.com/users/charliecalvert">https://api.github.com/users/charliecalvert</a></p>
<p>And see this line:</p>
<pre><code class="lang-javascript">X-RateLimit-<span class="hljs-string">Limit:</span> <span class="hljs-number">60</span>
X-RateLimit-<span class="hljs-string">Remaining:</span> <span class="hljs-number">58</span>
X-RateLimit-<span class="hljs-string">Reset:</span> <span class="hljs-number">1492098563</span>
</code></pre>
<p>Convert the reset time:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> f = <span class="hljs-function"><span class="hljs-keyword">new</span> <span class="hljs-title">Date</span>(<span class="hljs-number">1492098563</span> * <span class="hljs-number">1000</span>);
<span class="hljs-title">console</span>.<span class="hljs-title">log</span>(f); =&gt;</span> <span class="hljs-string">"Thu Apr 13 2017 08:49:23 GMT-0700 (PDT)"</span>
</code></pre>
</div></body></html>