<!DOCTYPE html>
<html dir="ltr">

<head>
	<meta charset="utf-8" />
	<title>BridgePattern</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="/charlie/images/favicon.png">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
	<!-- Optional theme -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css">
	<link href="/charlie/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css" />
	<!-- Latest compiled and minified JavaScript - Move to bottom of body element -->
	<script src="//code.jquery.com/jquery.js"></script>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
	<script src="/charlie/libs/scripts/elvenware.js" type="text/javascript"></script>
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-2806409-2']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
</head>

<body>



	<!-- removed  navbar-fixed-top -->
	<div class="navbar navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="icon-bar"> </span>
					<span class="icon-bar"> </span>
					<span class="icon-bar"> </span>
				</button>
				<a class="navbar-brand" href="/charlie/index.html">Elvenware</a>
			</div>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="/charlie/index.html">Home</a></li>
					<li><a href="/charlie/contents.html">About</a></li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
						<ul class="dropdown-menu">
							<li class="dropdown-header">Core Code</li>
							<li><a href="/charlie/development/index.html">Strongly Typed</a></li>
							<li><a href="/charlie/development/web/index.html">Web &amp; Scripts</a></li>
							<li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li>
							<li class="divider"></li>
							<li class="dropdown-header">OS and Tools</li>
							<li><a href="/charlie/os/index.html">OS</a></li>
							<li><a href="/charlie/development/database/index.html">Database</a></li>
							<li><a href="/charlie/books/index.html">My Writing</a></li>
							<li class="divider"></li>
							<li class="dropdown-header">Art</li>
							<li><a href="/charlie/Art/index.html">Poems &amp; Photos</a></li>
							<li><a href="/charlie/books/reading/index.html">Book Reviews</a></li>
							<li><a href="/charlie/spirit/index.html">Spiritual</a></li>
							<li class="divider"></li>
							<li class="dropdown-header">Links</li>
							<li><a href="/charlie/links.html">My Links</a></li>
							<li><a href="http://www.github.com/charliecalvert">GitHub</a></li>
							<li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li>
						</ul>
					</li>
				</ul>
			</div><!--/.nav-collapse -->
		</div>
	</div>

	<div class="container">

		<div class="starter-template">
			<figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png" /></figure>
<h2>Table of Contents</h2>
<ul class="elfTocHeading">
	<li><a href='#bridgepattern-part-01'>BridgePattern Part 01</a></li>
	<li><a href='#details'>Details</a></li>
	<li><a href='#mock-jsonreader-and-markdownreader'>Mock JsonReader and MarkdownReader</a></li>
	<li><a href='#hints'>Hints</a></li>
	<li><a href='#turn-it-in'>Turn it in</a></li>
	<li><a href='#links'>Links</a></li>
</ul>
<h1 id="bridgepattern-part-01">BridgePattern Part 01</h1>
<p>This assignment has been simplified. Your goal at this stage is just to mock up the creation of the <strong>DataReader</strong> application. We will wait until next week to implement it. In particular, you do not need to read data from the server, and you do not need to properly display either the JSON or the markdown.</p>
<p>Part II of this assignment will appear soon, and be due sometime next week. At that time you need to start reading data from the server, and you will need to at least begin properly displaying the data that you read.</p>
<h2 id="details">Details</h2>
<p>You will use three patterns in this assignment:</p>
<ul>
<li>Factory</li>
<li>Bridge</li>
<li>Decorator</li>
</ul>
<p>Base your code on on two or more of the following programs:</p>
<ul>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Design/BridgeSailor">JsObjects/JavaScript/Design/BridgeSailor</a></li>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Design/FactorySimple01">JsObjects/JavaScript/Design/FactorySimple01</a></li>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Design/FactoryInterface">JsObjects/JavaScript/Design/FactoryInterface</a></li>
</ul>
<p>Create a <strong>DataReader</strong> object that can:</p>
<ul>
<li>Mock reading Json Objects and mock displaying them properly</li>
<li>Mock reading Markdown files and mock displaying them properly in a markdown editor such as [pagedown][pagedown].</li>
<li>Both should be able to tell the type of document it handles: JSON or Markdown.</li>
</ul>
<p>Basing your work on BridgeSailor, create a <strong>Reader</strong> object using the module pattern. (This will be based on the <strong>Sailor</strong> object. The <strong>Reader</strong> should be able to create a <em>bridge</em> to your <strong>JsonReader</strong> and <strong>MarkdownReader</strong>. You should also:</p>
<p>Create a <strong>FancyReader</strong> that <em>decorates</em> Reader and can:</p>
<ul>
<li>Tell the length of the text it handles.</li>
</ul>
<p>Use the factory pattern to create a <strong>JsonReader</strong>. Pass the <strong>JsonReader</strong> object to your Bridge <strong>Reader</strong> pattern and show that it can read and display JSON files</p>
<p>Use the factory pattern to create a <strong>MarkdownReader</strong>. Pass the <strong>MarkdownReader</strong> object to your Bridge <strong>Reader</strong> or <strong>FancyReader</strong> pattern and show that it can mock reading and displaying markdown files in a markdown editor.</p>
<p><strong>NOTE</strong>: Do not use a factory to create <strong>Reader</strong> and <strong>FancyReader</strong>. (I don't really care if you flip this part of the assignment use the factory for <strong>Reader</strong> and <strong>FancyReader</strong> and create boats normally. I just want you to show that you can use a factory or not, depending on your wishes.)</p>
<h2 id="mock-jsonreader-and-markdownreader">Mock JsonReader and MarkdownReader</h2>
<p>By mocking these objects, I mean that they don't actually have to read anything from the file system. Instead, when you call <strong>Reader.readFile</strong> (which of course really calls <strong>JsonReader.readFile</strong> or <strong>MarkdownReader.readFile</strong>), then you just return one of the following:</p>
<p>Default JSON:</p>
<pre><code>[
    {
        &quot;firstName&quot;: &quot;George&quot;,
        &quot;lastName&quot;: &quot;Washington&quot;
    }, {
        &quot;firstName&quot;: &quot;John&quot;,
        &quot;lastName&quot;: &quot;Adams&quot;
    }, {
        &quot;firstName&quot;: &quot;Thomas&quot;,      
        &quot;lastName&quot;: &quot;Jefferson&quot;
    }
]</code></pre>
<p>Default Markdown:</p>
<pre><code># My Markdown

This is my markdown file. It has a list in it:

- Item01
- Item02
- Item03</code></pre>
<p>When you call <strong>Reader.display()</strong>, then you project should display the data returned by <strong>readFile</strong> in an HTML DIV element. You should use jQuery to transfer the data to a <strong>DIV</strong> or <strong>PRE</strong> tag.</p>
<p>The <strong>FrancyReader</strong> uses the <strong>readFile</strong> object to read data. It then reports the length of it. You may need to convert the JSON to string by running</p>
<pre><code>JSON.stringify(myJsonData);</code></pre>
<p>In the above, <strong>myJsonData</strong> is the data returned when you call <strong>readFile</strong>.</p>
<h1 id="hints">Hints</h1>
<p>Here is a sample output screen:</p>
<figure>
<img src="http://elvenware.com/charlie/books/CloudNotes/Images/BridgePattern05.png" alt="Sample Output" /><figcaption>Sample Output</figcaption>
</figure>
<p>In the above screenshot, I have Jade that looks like this:</p>
<pre><code>h2 JSON Display
pre#displayJson

h2 Markdown Display
pre#displayMarkdown

h2 FancyReader
p The length of the string from the reader is: 
  span#showLength</code></pre>
<p>I'm declaring long strings in JavaScript like this:</p>
<pre><code>    function hereDoc(func) {
        return func.toString().replace(/^[^\/]+\/\*!?/, &#39;&#39;).replace(
                /\*\/[^\/]+$/, &#39;&#39;).replace(/\t/g, &#39;&#39;);
    }

    MarkdownReader.prototype.readFile = function() {
        return hereDoc(function() {
            /*
            #Title
            
            This is a ginned up markdown document. I&#39;m using a slightly modified
            trick I learned on StackOverflow to handle this long string.
            I found the **hereDoc** method [here](http://stackoverflow.com/a/5571069). 
            
            ## SubSection.
            
            You can learn more about markdown
            [here](http://daringfireball.net/projects/markdown/)
            */
        })
    };</code></pre>
<h2 id="turn-it-in">Turn it in</h2>
<p>Place your work in a folder called <strong>Week04BridgeReader</strong> and check it in to your repository. Submit a link to your repository.</p>
<h2 id="links">Links</h2>
<ul>
<li><a href="http://www.dofactory.com/javascript-patterns.aspx">DoFactory</a></li>
<li><a href="http://en.wikipedia.org/wiki/Bridge_pattern">Wikipedia</a></li>
<li><a href="http://stackoverflow.com/questions/319728/when-do-you-use-the-bridge-pattern">SO: When to use Bridge</a></li>
<li><a href="http://sourcemaking.com/design_patterns/bridge">Source Making</a></li>
<li><a href="http://www.blackwasp.co.uk/Bridge.aspx">Black Wasp</a></li>
</ul>
<blockquote>
<p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p>
</blockquote>
<!-- FOOTER -->
      <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>        
		<p>Copyright &copy; <a href="/charlie/index.html">Charlie Calvert</a> |
		<a href="/charlie/contents.html">Site Overview</a> |
		<a href="/charlie/development/index.html">Writing Code</a> |
		<a href="/charlie/development/web/index.html">Web</a> |
		<a href="/charlie/development/web/JavaScript/index.html">JavaScript</a> |
		<a href="/charlie/books/index.html">My Books</a> </p>

      </footer>

    </div><!-- /.container -->
</body>
</html>



