<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>AngularBasicUnitTests</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css"><link href="/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet" type="text/css"><script src="/libs/scripts/jquery.min.js"></script><script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script><script src="/libs/scripts/elvenware.js" type="text/javascript"></script><script src="/libs/scripts/Control.js"></script></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/index.html" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/contents.html">About</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>AngularBasicUnitTests</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#description">Description</a></li>
<li><a href="#overview">Overview</a></li>
<li><a href="#step-one">Step One</a></li>
<li><a href="#step-two">Step Two</a></li>
<li><a href="#step-three">Step Three</a></li>
<li><a href="#step-four">Step Four</a></li><!--TOC_End--></ul><h2 id="description">Description</h2>
<p>This documents describes the Basic Unit Testing assignment.</p>
<h2 id="overview">Overview</h2>
<ul>
<li>Create an express project</li>
<li>Add in Angular</li>
<li>Use ControllerAs</li>
<li>Write Tests</li>
</ul>
<h2 id="step-one">Step One</h2>
<pre><code>express Week05-AngularTest
cd Week05-AngularTest
yo jasmine
</code></pre><h2 id="step-two">Step Two</h2>
<p>Open the project in WebStorm. Right click on <strong>test/ndex.html</strong>. Select <strong>Run</strong>.</p>
<p>Set up the project:</p>
<ul>
<li>In <strong>bin/www</strong> set the <strong>port</strong> to 30025. </li>
<li>In <strong>package.json</strong> use <strong>nodemon</strong> in the <strong>start</strong> property of the <strong>scripts</strong> object.</li>
</ul>
<p>Install angular:</p>
<p>First create <strong>.bowerrc</strong> and <strong>bower.json</strong>. To do so, make sure you have the most recent copy of JsObjects by running <strong>git pull</strong> at the root of the JsObjects folder.
Then do this:</p>
<pre><code>copy %ELF_TEMPLATES%\.bowerrc .
copy %ELF_TEMPLATES%\bower.json .
bower install angular --save
bower install jquery --save
bower install bootstrap --save
</code></pre><p>Run the project itself from the project root:</p>
<pre><code>npm install &amp; bower install &amp; npm start
</code></pre><h2 id="step-three">Step Three</h2>
<p>Upgrade to Jasmine 2.3.</p>
<p>In <strong>test/bower.json</strong>:</p>
<pre><code>&quot;dependencies&quot;: {
      &quot;jasmine&quot;: &quot;~2.3.0&quot;
  },
</code></pre><p>At command line, in <strong>test</strong>, run <strong>bower install</strong>:</p>
<pre><code>&gt;bower install
bower cached        git://github.com/pivotal/jasmine.git#2.3.0
bower validate      2.3.0 against git://github.com/pivotal/jasmine.git#~2.3.0
bower new           version for git://github.com/pivotal/jasmine.git#~2.3.0
bower resolve       git://github.com/pivotal/jasmine.git#~2.3.0
bower download      https://github.com/pivotal/jasmine/archive/v2.3.1.tar.gz
bower extract       jasmine#~2.3.0 archive.tar.gz
bower resolved      git://github.com/pivotal/jasmine.git#2.3.1
bower install       jasmine#2.3.1

jasmine#2.3.1 bower_components\jasmine
</code></pre><p>In <strong>test/index.html</strong> remove the module pattern designed to initialize Jasmine 3.0. Delete this:</p>
<pre><code>  &lt;script&gt;
            (function() {
                var jasmineEnv = jasmine.getEnv();
                jasmineEnv.updateInterval = 1000;
                var htmlReporter = new jasmine.HtmlReporter();
                jasmineEnv.addReporter(htmlReporter);
                jasmineEnv.specFilter = function(spec) {
                    return htmlReporter.specFilter(spec);
                };
                var currentWindowOnload = window.onload;
                window.onload = function() {
                    if (currentWindowOnload) {
                        currentWindowOnload();
                    }
                    execJasmine();
                };
                function execJasmine() {
                    jasmineEnv.execute();
                }
            })();
        &lt;/script&gt;
</code></pre><p>Replace the above code by loading <strong>boot.js</strong>:</p>
<pre><code>&lt;script src=&quot;bower_components/jasmine/lib/jasmine-core/jasmine.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;bower_components/jasmine/lib/jasmine-core/jasmine-html.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;bower_components/jasmine/lib/jasmine-core/boot.js&quot;&gt;&lt;/script&gt;
</code></pre><p>Refresh your browser to confirm its works:</p>
<p><img src="https://drive.google.com/uc?id=1_a10tc7BcVR1uNfH6I6-uJq8W9nNRGvcXg" alt="jasmine"></p>
<h2 id="step-four">Step Four</h2>
<p>Create a file to test.</p>
<ul>
<li>Create a file called <strong>public/javascripts/Control.js</strong></li>
<li>Create a simple angular controller using <strong>ControllerAs</strong></li>
<li>Add the <strong>ng-app</strong> and <strong>Control.js</strong> to <strong>views/layout.jade</strong></li>
<li>Add the controller to <strong>views/index.jade</strong> </li>
</ul>
<p>In Control.js:</p>
<pre><code>(function() {
    var app = angular.module(&#39;elvenApp&#39;, []);

    app.controller(&#39;ElvenController&#39;, function() {
        var elvenController = this;

        elvenController.hint = &quot;My hint.&quot;;
    });

})();
</code></pre><p>Or:</p>
<pre><code>    copy %ELF_TEMPLATES%\AngularControl.js public\javascripts\Control.js
</code></pre><p>In <strong>layout.jade</strong>:</p>
<pre><code>    doctype html
html
  head
    title= title
    // Latest compiled and minified CSS
    link(rel=&#39;stylesheet&#39;, href=&#39;components/bootstrap/dist/css/bootstrap.min.css&#39;)
    link(rel=&#39;stylesheet&#39;, href=&#39;/stylesheets/style.css&#39;)
    // Optional theme
    link(rel=&#39;stylesheet&#39;, href=&#39;components/bootstrap/dist/css/bootstrap-theme.min.css&#39;)
    // JavaScript
    script(src=&#39;components/jquery/dist/jquery.js&#39;)
    script(src=&#39;components/bootstrap/dist/js/bootstrap.min.js&#39;)
    script(src=&#39;components/angular/angular.js&#39;)
    script(src=&quot;javascripts/Control.js&quot;)

  body(ng-app=&quot;elvenApp&quot;)
    block content
</code></pre><p>Or:</p>
<pre><code>copy %ELF_TEMPLATES%\AngularLayout.jade views\layout.jade
</code></pre></div></body></html>