<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>ReactAddressMenu</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Elvenware</a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav"><li class="trigger-collapse" ng-class="{ active: isActive('/')}"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img class="elf-normal" alt="Elvenware" src="/images/elvenwarelogo.png"/></figure><h1>ReactAddressMenu</h1><p>Welcome to ReactAddressMenu</p><ul><!--TOC_Start--><li><a href="#react-address-menu">React Address Menu</a></li>
<li><a href="#tag">Tag</a></li>
<li><a href="#react-router-install">React Router Install</a></li>
<li><a href="#strategy">Strategy</a></li>
<li><a href="#define-a-menu">Define a Menu</a></li>
<li><a href="#create-the-menu">Create the Menu</a></li>
<li><a href="#browserrouter">BrowserRouter</a></li>
<li><a href="#style-the-menu">Style the Menu</a></li>
<li><a href="#tests">Tests</a></li>
<li><a href="#turn-it-in">Turn it in</a></li>
<li><a href="#the-main-index">The Main Index</a></li>
<li><a href="#hint">Hint</a></li>
<li><a href="#hints-and-suggestions">Hints and Suggestions</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="react-address-menu"></a>
<h1>React Address Menu</h1>
<p>The goals of this assignment are:</p>
<ul>
<li>Create a menu, no matter how limited</li>
<li>Switch views between <strong>AddressShow</strong>, <strong>AddressEdit</strong> and <strong>SmallNumbers</strong></li>
</ul>
<a class="anchor" id="tag"></a>
<h2>Tag</h2>
<p>Before working on the assignment, do this:</p>
<pre><code>$ git tag -a v6<span class="hljs-meta">.0</span><span class="hljs-meta">.0</span> -m <span class="hljs-string">"In class work in Week06-InClass that gets AddressShow working"</span>
git <span class="hljs-keyword">push</span> origin v6<span class="hljs-meta">.0</span><span class="hljs-meta">.0</span>
</code></pre><p>Once you are ready to turn in assignment, do this to mark the commit that contains your finished code. First add, commit and push your repo, then tag it:</p>
<pre><code>git tag -<span class="hljs-selector-tag">a</span> v6.<span class="hljs-number">0</span><span class="hljs-selector-class">.X</span> -m <span class="hljs-string">"Address Menu Assignment Complete"</span>
</code></pre><p>Here we are using version 6 to say we did this work in the sixth week of the quarter. The X starts at zero, and increments each time you create a new tag for week 6. For instance:</p>
<pre><code><span class="hljs-selector-tag">v6</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.0</span>
<span class="hljs-selector-tag">v6</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.1</span>
<span class="hljs-selector-tag">v6</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.2</span>
<span class="hljs-selector-tag">etc</span>
</code></pre><p>One you have created the tag, push it to your GitHub repo with this code:</p>
<pre><code><span class="hljs-symbol">git</span> <span class="hljs-keyword">push </span>origin <span class="hljs-built_in">v6</span>.<span class="hljs-number">0</span>.X
</code></pre><p>Again, substitute the exaction version number that you want to push for the letter X. For instance:</p>
<pre><code>git tag -a v6<span class="hljs-meta">.0</span><span class="hljs-meta">.1</span> -m <span class="hljs-string">"Address Menu Assignment Complete"</span>
git <span class="hljs-keyword">push</span> origin v6<span class="hljs-meta">.0</span><span class="hljs-meta">.1</span>
</code></pre><p>To view your tags, type this:</p>
<pre><code>git <span class="hljs-keyword">tag</span> <span class="hljs-title">-n</span>
</code></pre><a class="anchor" id="react-router-install"></a>
<h2>React Router Install</h2>
<p>We will use a tool called <a href="https://github.com/ReactTraining/react-router">react-router</a> to help us both route user selections through the application and also to switch between views. When we switch between views we frequently display a particular component and hide other components. This kind of technology is often talked about as a Single Page App, or SPA.</p>
<p>The first step is to install the library we will use to help us accomplish our goals:</p>
<pre><code class="lang-bash">yarn <span class="hljs-keyword">add</span><span class="bash"> react-router-dom
</span>
or:

npm install --save react-router-dom
</code></pre>
<p><strong>NOTE</strong>: <em>Just to be sure you understand what is happening here, check your <strong>package.json</strong> to see that <strong>react-router-dom</strong> has been added to your <strong>dependencies</strong>:</em></p>
<pre><code class="lang-javascript"><span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"react"</span>: <span class="hljs-string">"^16.3.2"</span>,
    <span class="hljs-string">"react-dom"</span>: <span class="hljs-string">"^16.3.2"</span>,
    <span class="hljs-string">"react-router-dom"</span>: <span class="hljs-string">"^4.2.2"</span>, &lt;==== HERE
    <span class="hljs-string">"react-scripts"</span>: <span class="hljs-string">"1.1.4"</span>
    <span class="hljs-comment">// YOU MAY IMPORT OTHER PACKAGES</span>
  },
</code></pre>
<p>As you know, this will both install the <strong>react router</strong> and also place an entry for it in <strong>package.json</strong>. If you do this at school, then later pull your changed <strong>package.json</strong> and other files down to your home machine, you will need to run <strong>npm install</strong> on your home machine&#39;s updated project folder.</p>
<p><strong>NOTE</strong> <em>Running <strong>npm install</strong> in this situation usually does not result in our completely reinstalling all packages on our home machine, but only that the new <strong>react router</strong> package is installed on our home machine.</em></p>
<a class="anchor" id="strategy"></a>
<h2>Strategy</h2>
<p>We want to be able to display either the <strong>Address</strong> component, or the <strong>GetFile</strong> component.</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/address-menu-no-style.png" alt="AddressShow"></p>
<p><strong>IMAGE</strong> <em>GetFile with the firefox Developer Tools debugger open.</em></p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/address-menu-debug.png" alt="Address Get File"></p>
<p><strong>IMAGE</strong>: <em>Address Edit with input elements</em></p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/address-menu-styled.png" alt="Address Menu Styled"></p>
<p><strong>IMAGE</strong>: <em>A styled menu.</em></p>
<p>All this is well and good, but we have a problem. Our current architecture has us showing both the <strong>Address</strong> and the <strong>GetFile</strong> component from the <strong>App</strong> component. In particular, review this bit of code found in our current implementation of <strong>Address</strong>:</p>
<pre><code class="lang-javascript">render() {
       <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.debug) { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"ADDRESS RENDER"</span>); }
       <span class="hljs-keyword">return</span> (
           <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">ElfHeader</span>/&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">GetFile</span>/&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">Address</span>/&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
       );
   }
</code></pre>
<p>Viewing serveral components on one &quot;page&quot;:</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/react-address-two-components.png" alt="Two Components at Once"></p>
<p><strong>IMAGE</strong>: <em>We see <strong>ElfHeader</strong>, <strong>GetFile</strong> and <strong>Address</strong> on a single page.</em></p>
<p>Here we have the <strong>App</strong> component displaying several other React components. So far, that has been fine, as we only wanted to prove to ourselves that we could display them. But now, we want to show them one at a time.</p>
<p>The common solution for this problem, and there are many possible solutions, is to use the tool we call <a href="https://github.com/ReactTraining/react-router/tree/master/packages/react-router-dom">react-router-dom</a>.</p>
<p><strong>NOTE</strong>: <em>A sister component by the same team, called <a href="https://github.com/ReactTraining/react-router/tree/master/packages/react-router-native">react-router-native</a> performs the same task on React Native.</em></p>
<a class="anchor" id="define-a-menu"></a>
<h2>Define a Menu</h2>
<p>At this stage, we have various components that can render the separate views that we want to display:</p>
<ul>
<li>Address renders the <strong>Address</strong> view</li>
<li><strong>GetFile</strong> renders the simple file-url view.</li>
<li><strong>ElfHeader</strong> displays the header seen at the top of the page. We will modify this file to display our menu.</li>
</ul>
<p>Our menu will allow us to switch between the <strong>Address</strong> and <strong>GetFile</strong> views. We will do this in the files called <strong>components/ElfHeader.js</strong> and <strong>components/App.js</strong>.</p>
<p><strong>NOTE</strong>: <em>I call it <strong>ElfHeader</strong> rather than <strong>Header</strong> in part because the word <strong>Header</strong> is such a common word that it is likely to collide with some other name in our program or in the global name space. In particular, <strong>header</strong> is an element in HTML 5.</em></p>
<a class="anchor" id="create-the-menu"></a>
<h2>Create the Menu</h2>
<p>Let&#39;s write code in <strong>ElfHeader</strong> to display the simple menu shown in the screenshots visible above. Don&#39;t fuss over the fact that the menu looks funky at this point. We can fix that later by adding some CSS. Right now, just focus on getting things working:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/get-file"</span>&gt;</span>Get File<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>          
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>                
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</code></pre>
<p>Here we use a class from <strong>react router</strong> called <strong>Link</strong>. It automatically creates links from the elements we pass to it. For instance, it generates something like this:</p>
<pre><code class="lang-HTML">&lt;li&gt;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/edit"</span>&gt;</span>AddressEdit<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>
</code></pre>
<a class="anchor" id="browserrouter"></a>
<h2>BrowserRouter</h2>
<p>Modify <strong>App.js</strong> to import two classes from <strong>react router</strong> called <strong>BrowserRouter</strong> and <strong>Route</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// YOUR IMPORTS HERE</span>
<span class="hljs-keyword">import</span> { <span class="hljs-type">BrowserRouter</span>, <span class="hljs-type">Route</span> } from <span class="hljs-symbol">'react</span>-router-dom'

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
    render() {
        <span class="hljs-keyword">return</span> (
            &lt;<span class="hljs-type">BrowserRouter</span>&gt;
                &lt;div className=<span class="hljs-string">"App"</span>&gt;
                    &lt;<span class="hljs-type">ElfHeader</span> /&gt;
                    &lt;<span class="hljs-type">Route</span> exact path=<span class="hljs-string">"/"</span> component={<span class="hljs-type">Address</span>}/&gt;
                    &lt;<span class="hljs-type">Route</span> path=<span class="hljs-string">"/get-file"</span> component={<span class="hljs-type">GetFile</span>}/&gt;
                &lt;/div&gt;
            &lt;/<span class="hljs-type">BrowserRouter</span>&gt;
        );
    }
}

<span class="hljs-comment">// ETC ...</span>
</code></pre>
<p>In the above code I&#39;ve imported <strong>React</strong> and the classes I want to display, as well as the <strong>react-router</strong> code.</p>
<p>The following excerpt from the code shown above defines the client side routes that will be executed when the user makes selections from the menu:</p>
<pre><code class="lang-javascript"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">exact</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{Address}/</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/get-file"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{GetFile}/</span>&gt;</span>
</code></pre>
<p>In particular, the home page (<strong>/</strong>) leads to the <strong>Address</strong> component and the <strong>/get-file</strong> route leads to the <strong>GetFile</strong> component.</p>
<p><strong>Note</strong>: <em>The home path has the word <strong>exact</strong> in front of it. This is because other paths, such as <strong>/get-file</strong> contains the <strong>/</strong> route. So we say that we want an exact match on <strong>/</strong> not a match on either <strong>/</strong> or <strong>/get-file</strong>.</em></p>
<a class="anchor" id="style-the-menu"></a>
<h2>Style the Menu</h2>
<p>Let&#39;s add some styling to our menu to make it look prettier. I&#39;ve also modified <strong>App.css</strong> to chang the color of the Header. Read about it <a href="http://www.elvenware.com/charlie/development/web/JavaScript/JavaScriptReactMenu.html#style-the-menu">here</a>.</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/address-menu-styled.png" alt="Address Menu Styled"></p>
<p><strong>IMAGE</strong>: <em>The styled menu appears at the top in brown. Compare to the non-syled menus shown at the beginning of the assignment which appear as list items.</em></p>
<p>Note that you can see <strong>/git-file</strong> URL in the address bar:</p>
<pre><code><span class="hljs-keyword">http</span>://localhost:<span class="hljs-number">30025</span>/<span class="hljs-built_in">get</span>-<span class="hljs-built_in">file</span>
</code></pre><p>This is one of the benefits of <strong>React Router</strong>. It allows a user to bookmark a particular screen in your application. In this case the URL shown above should always lead to the <strong>GetFile</strong> component shown in the above screenshot.</p>
<a class="anchor" id="tests"></a>
<h2>Tests</h2>
<p>We should now make sure our tests handle the edits we have made.</p>
<a class="anchor" id="turn-it-in"></a>
<h2>Turn it in</h2>
<p>Add, commit, push, tag and/or branch. When you submit the assignment, let me know what tag and/or branch you used when submitting the assignment.</p>
<a class="anchor" id="the-main-index"></a>
<h2>The Main Index</h2>
<p>Remember that we have fundamentally changed the structure of our program. Our <strong>src/index.js</strong> entry point file should no longer be responsible for showing <strong>Address</strong>, and <strong>GetFile</strong>. Instead, it should show only <strong>App</strong>.</p>
<p>Here is our modified <strong>index.js</strong> file:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;
<span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/App'</span>;
<span class="hljs-keyword">import</span> registerServiceWorker <span class="hljs-keyword">from</span> <span class="hljs-string">'./registerServiceWorker'</span>;

ReactDOM.render(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>        
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>,
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'root'</span>)
);

registerServiceWorker();
</code></pre>
<p><strong>NOTE</strong>: <em>A crucial point, in fact, probably the central point, of this class, is how easy it is for us to move classes and views around when we use the <strong>React</strong> architecture. Yes, it is hard to get up to speed on React, and yes, it is a fairly complex tool. But once you have everything set up, making relatively large changes to our program&#39;s architecture are simple. The small, focused loosely coupled components that we have created give us the flexibility to accept changes in specifications with a minimum of disruption.</em></p>
<a class="anchor" id="hint"></a>
<h2>Hint</h2>
<p>If you needed to pass props to your router, and we don&#39;t, you would do it like this:</p>
<pre><code class="lang-javascript">&lt;Route path=<span class="hljs-string">"/about"</span>
       render={(props) =&gt; (&lt;AddressShow  {...props}
                 address={this<span class="hljs-selector-class">.props</span><span class="hljs-selector-class">.address</span>}
                 onAddressChange={this<span class="hljs-selector-class">.props</span><span class="hljs-selector-class">.onAddressChange</span>}
       /&gt;)}
/&gt;

&lt;Route path=<span class="hljs-string">"/topics"</span>
    render={(props) =&gt; (&lt;AddressEdit  {...props}
         address={this<span class="hljs-selector-class">.props</span><span class="hljs-selector-class">.address</span>}
         onAddressChange={this<span class="hljs-selector-class">.props</span><span class="hljs-selector-class">.onAddressChange</span>}
         onNameChange={this<span class="hljs-selector-class">.props</span><span class="hljs-selector-class">.onNameChange</span>}
    /&gt;)}
/&gt;
</code></pre>
<p>This code is not nearly as simple as the code we used when defining our Routes. However, it works, and once written we won&#39;t need to fuss with it very often.</p>
<a class="anchor" id="hints-and-suggestions"></a>
<h2>Hints and Suggestions</h2>
<p>Here are two ways to rename App.js to <strong>GetFile.js</strong>:</p>
<pre><code>git mv App<span class="hljs-selector-class">.js</span> GetFile<span class="hljs-selector-class">.js</span>
git mv App<span class="hljs-selector-class">.js</span> components/App.js
</code></pre><p>The exact command you give depends on:</p>
<ul>
<li>Your current directory.</li>
<li>Whether <strong>App.js</strong> is currently in your <strong>src</strong> directory or the <strong>components</strong> directory.</li>
</ul>
<p>If you can&#39;t figure out what to do with these hints, you simply must take time to get a better understanding of the file system and how it works. Beyond these broad hints, my simply giving you the right answer will not help you learn. Unfortunately, going into a tutorial on the file system would be to venture well outside the scope of this course. There are, however, many in depth discussions of this topic on the web and in the library.</p>
<ul>
<li><a href="https://www.google.com/search?q=Understanding+File+and+Directory+navigation">https://www.google.com/search?q=Understanding+File+and+Directory+navigation</a></li>
</ul>
</div></body></html>