<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>UnitTestsAddress</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div id="navbar" class="navbar-collapse collapse">       <ul class="nav navbar-nav"><li ng-class="{ active: isActive('/')}" class="trigger-collapse"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img alt="Elvenware" src="/images/elvenwarelogo.png" class="elf-normal"/></figure><h1>UnitTestsAddress</h1><p>Welcome to UnitTestsAddress</p><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#review">Review</a></li>
<li><a href="#change-name-of-bar">Change Name of Bar</a></li>
<li><a href="#add-firstname-test">Add firstName test</a></li>
<li><a href="#add-firstname">Add firstName</a></li>
<li><a href="#add-address-button">Add Address Button</a></li>
<li><a href="#turn-it-in">Turn it in</a></li>
<li><a href="#hints">Hints</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="overview"></a>
<h2>Overview</h2>
<p>The goal of this assignment is to display and test a complete address with FirstName, LastName, Street, City, State, Zip or more.</p>
<p>This assignment builds on the <a href="http://bit.ly/jest-cra">Unit Tests with Jest</a> assignment. Complete that assignment first. You should turn in only one project, which will contain both the <strong>Unit Tests with Jest</strong> and the <strong>Unit Tests with Address</strong> assignments. You can turn in the <strong>Unit Tests with Jest</strong> assignment first, if you want. In other words, your project need not include both completed assignments before you turn in the first assignment.</p>
<a class="anchor" id="review"></a>
<h2>Review</h2>
<p>The interface for our <strong>Unit Tests with Jest</strong> by end of class Wednesday:</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/react-jest-view.png" alt="View Unit Jest"></p>
<p>In the <strong>Unit Tests with Jest</strong> assignment we had four key pieces of code.</p>
<p><strong>The Constructor with State Declaration:</strong></p>
<pre>constructor() {
    super();
    this.state = {
        nine: '0'
    }
}
</pre>
<p><strong>The JSX for HTML paragraph and button elements:</strong></p>
<pre><p className="App-intro">
    Nine: {this.state.nine}
</p>

<button className="elf" onClick={this.bar}>Get Nine</button>
</pre>
<p><strong>The bar method:</strong></p>
<pre>bar = () => {
    this.setState({
        nine: '9'
    })
};
</pre>
<p><strong>The Tests</strong></p>
<pre>describe('React Jest Suite', function () {

    it('renders without our App component without crashing', () => {
        const div = document.createElement('div');
        ReactDOM.render(<App />, div);
    });

    it('renders and reads H1 text', () => {
        const wrapper = shallow(<App />);
        const welcome = <h2>Welcome to Prog272</h2>;
        expect(wrapper.contains(welcome)).toEqual(true);
    });

    it('renders and displays the word Nine', () => {
        const wrapper = shallow(<App />);
        console.log(wrapper);
        const welcome = <p className="App-intro">Nine: 0</p>;
        expect(wrapper.contains(welcome)).toEqual(true);
    });

    it('renders button click message', () => {
        const wrapper = shallow(<App />);
        const nineSign = <p className="App-intro">Nine: 9</p>;
        wrapper.find('button.elf').simulate('click');
        expect(wrapper.contains(nineSign)).toEqual(true);
    });

});
</pre>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/react-jest-test.png" alt="Running the tests"></p>
<a class="anchor" id="change-name-of-bar"></a>
<h2>Change Name of Bar</h2>
<p>Right now we have a method on our App class called <strong>bar</strong>. Let&#39;s give it a more sensible name: <strong>getNine</strong>:</p>
<pre>getNine = () => {
    this.setState({
        nine: '9'
    })
};
</pre>
<p>Make any other necessary changes to ensure that your app still runs.</p>
<a class="anchor" id="add-firstname-test"></a>
<h2>Add firstName test</h2>
<p>Before we create a first name, let&#39;s right to see if it exists. The test will fail at first. Our goal in the next section, is to get the test to pass.</p>
<pre>it('renders and displays the default first name', () => {
    const wrapper = shallow(<App />);
    const welcome = <p className="App-intro">firstName: unknown</p>;
    expect(wrapper.contains(welcome)).toEqual(true);
});
</pre>
<p>If you are having trouble getting this test to pass, add some debug information to help you see what the last paragraph element on your form is actually rendering:</p>
<pre>const ninep = wrapper.find('p').last().debug();
console.log(ninep);
</pre>
<p><strong>TIP</strong>: <em>The call to last gets the last paragraph on your form. Beside <strong>last()</strong>, there is also a <strong>first()</strong>. See the enzyme docs for more info.</em></p>
<p>Like this:</p>
<pre>it('renders and displays the default first name', () => {
    const wrapper = shallow(<App />);
    const welcome = <p className="App-intro">firstName: unknown</p>;
    const firstName = wrapper.find('p').last().debug();  <= WE ADDED LINE HERE
    console.log(firstName);                              <= WE ADDED LINE HERE
    expect(wrapper.contains(welcome)).toEqual(true);
});
</pre>
<a class="anchor" id="add-firstname"></a>
<h2>Add firstName</h2>
<p>I&#39;m not going to talk you through all the steps, but let&#39;s make sure you know how to add one of the address fields. You will then add the others on your own.</p>
<p>In the constructor, add first name to state:</p>
<pre>this.state = {
    nine: '0',
    firstName: 'unknown'
}
</pre>
<p>Display our property in the render method:</p>
<pre><p className="App-intro">
    firstName: {this.state.firstName}
</p>
</pre>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/react-jest-default-first-name.png" alt="testing first name"></p>
<a class="anchor" id="add-address-button"></a>
<h2>Add Address Button</h2>
<p>Write a failing tests that shows you can click on a button with a class name of <strong>setAddress</strong> and display the words <strong>firstName: Patty</strong>. Your goal will be to get the test to pass.</p>
<p>Add a new method called <strong>setAddress</strong> and ensure that it can set the <strong>firstName property</strong>:</p>
<pre>setAddress = () => {
    this.setState({
        firstName: 'Patty'
    })
};
</pre>
<p>Call our method from a button click in our render method:</p>
<pre><button className="setAddress" onClick={this.setAddress}>Set Address</button>
</pre>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/react-jest-patty.png" alt="Show patty"></p>
<p>You should now have six passing tests.</p>
<a class="anchor" id="turn-it-in"></a>
<h2>Turn it in</h2>
<p>When you are done, you should be able to display the complete address for Senator Patty Murray. You can pick any Congress Person who interests you. It doesn&#39;t have to be Patty Murray. You should have tests that prove everything is displayed as expected both before and after you click the <strong>Set Address</strong> button.</p>
<a class="anchor" id="hints"></a>
<h2>Hints</h2>
<p>You don&#39;t need a button click handler for each new field you add. Set them all in <strong>setAddress</strong> handler:</p>
<pre>setAddress = () => {
    this.setState({
        firstName: 'Patty',
        lastName: 'Murray',
        etc....
    })
};
</pre>
<p>You probably should create a new test for each default field you add, and for each new field that is displayed when you click the <strong>setAddress</strong> button. In other words, don&#39;t try to write one long test that confirms that all the address fields are set. Instead, write one default test for the <strong>firstName</strong>, one for <strong>lastName</strong>, one for <strong>street</strong>, one for <strong>city</strong>, etc. You should also have one test for each field as it appears after the button is clicked.</p>
<p>Feel free to be creative with the HTML you generate. At this point, you will probably feel constrained by your ability to write reasonable tests for complex HTML. Hopefully our skills we improve so that we won&#39;t always feel that limitation. In other words, even if you know fancy HTML and CSS for displaying an address, consider limiting, for now, just how fancy you get because the tests might be become to hard.</p>
<p><a href="https://www.google.com/search?q=address+for+patty+murray">Get Sen Murray&#39;s address</a></p>
</div></body></html>