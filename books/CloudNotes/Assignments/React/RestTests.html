<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>RestTests</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div id="navbar" class="navbar-collapse collapse">       <ul class="nav navbar-nav"><li ng-class="{ active: isActive('/')}" class="trigger-collapse"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img alt="Elvenware" src="/images/elvenwarelogo.png" class="elf-normal"/></figure><h1>RestTests</h1><p>Welcome to RestTests</p><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#render">Render</a></li>
<li><a href="#get-nine">Get Nine</a></li>
<li><a href="#simple-tests">Simple Tests</a></li>
<li><a href="#call-server">Call Server</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="overview"></a>
<h2>Overview</h2>
<p>Some notes on testing react</p>
<pre>npm install enzyme --save-dev
npm test
npm install --save-dev react-test-renderer
</pre>
<a class="anchor" id="render"></a>
<h2>Render</h2>
<pre>render() {
    return (
        <div className="App">
            <div className="App-header">
                <img src={logo} className="App-logo" alt="logo"/>
                <h2>Welcome to React</h2>
            </div>
            <p className="App-intro">
                state.foo: {this.state.foo}
            </p>
            <p className="App-intro">
                state.file: {this.state.file}
            </p>
            <button className="getFoo" onClick={this.getFoo}>Bar</button>
            <button className="getNine" onClick={this.getNine}>Bar</button>
        </div>
    );
}
</pre>
<a class="anchor" id="get-nine"></a>
<h2>Get Nine</h2>
<pre>getNine = () => {
    setState({nine: '9'})
};
</pre>
<a class="anchor" id="simple-tests"></a>
<h2>Simple Tests</h2>
<pre>   it('renders initial value of paragraph with state.nine', () => {
        const wrapper = shallow(<App />);
        const nineSign = <p className="App-intro">state.nine: 0</p>;
        const ninep = wrapper.find('p').last().debug();
        console.log(ninep);
        expect(wrapper.contains(nineSign)).toEqual(true);
    });
</pre>
<a class="anchor" id="call-server"></a>
<h2>Call Server</h2>
<pre>getFoo = () => {
    console.log('GetFoo is called');

    const that = this;

    fetch('/api/foo')
        .then(function(response) {
            console.log('got response');
            return response.json();
        }).then(function(json) {
            console.log('parsed json', json);
            that.setState(foo => (json));
        }).catch(function(ex) {
            console.log('elf parsing failed', ex);
        });
};
</pre>
</div></body></html>