<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>ReactNativeAndroidSdk</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Elvenware</a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav"><li class="trigger-collapse" ng-class="{ active: isActive('/')}"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img class="elf-normal" alt="Elvenware" src="/images/elvenwarelogo.png"/></figure><h1>ReactNativeAndroidSdk</h1><p>Welcome to ReactNativeAndroidSdk</p><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#videos">Videos</a></li>
<li><a href="#native-with-android-sdk">Native with Android SDK</a></li>
<li><a href="#install-android-x86">Install Android X86</a></li>
<li><a href="#android-studio">Android Studio</a></li>
<li><a href="#quick-run">Quick Run</a></li>
<li><a href="#the-android-sdk">The Android SDK</a></li>
<li><a href="#mouse">Mouse</a></li>
<li><a href="#exit-the-android-x86-instance">Exit the Android X86 Instance</a></li>
<li><a href="#test">Test</a></li>
<li><a href="#turn-it-in">Turn it in</a></li>
<li><a href="#build-from-iso">Build from ISO</a></li>
<li><a href="#no-expo">No Expo</a></li>
<li><a href="#turn-on-debugging">Turn on Debugging</a></li>
<li><a href="#phone-connection">Phone Connection</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="overview"></a>
<h2>Overview</h2>
<p><a href="http://www.android-x86.org/">Android X86</a>, React Native and the Android SDK. The goal of this assignment is to load our code into a virtual phone running in VirtualBox.</p>
<a class="anchor" id="videos"></a>
<h2>Videos</h2>
<p>Here are some videos related to this assignment.</p>
<ul>
<li><a href="https://youtu.be/qSLl70uTxPk">Part One</a></li>
<li><a href="https://youtu.be/FLUB81lPqMk">Part Two</a></li>
<li><a href="https://youtu.be/B0pAUDvYaEc">Part Three</a></li>
</ul>
<a class="anchor" id="native-with-android-sdk"></a>
<h2>Native with Android SDK</h2>
<p>Here is expo running in Android 7.1 hosted in VirtualBox:</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/android-x86-expo.png" alt="Expo Android X86 in Virtual Box"></p>
<p>Here is our app running in Expo on Android 7.1 hosted on VirtualBox:</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/android-x86-vb.png" alt="Android X86 hosting Git Explorer"></p>
<a class="anchor" id="install-android-x86"></a>
<h2>Install Android X86</h2>
<p><a href="http://www.android-x86.org/">Android X86</a> is a project that lets you run Android on standard X86 computers. Perhaps you could, for instance, delete Windows and just run Android X86 instead. But we will run the Android X86 in VirtualBox.</p>
<p><strong>NOTE</strong>: <em>The sticking point here is that Android is typically designed to run on the kind ARM processors found on phones. It is not designed to run on the kind of hardware we find on our laptops or desktops. Android is an open source project, so some developers have taken that open source code and got it to run on X86 machines.</em></p>
<p>Download my version of the Android X86 Nougat (Android 7.1) build as an OVA file:</p>
<ul>
<li><a href="http://bit.ly/x8671">http://bit.ly/x8671</a></li>
</ul>
<p>Download my ancient Android X86 6.0.3 OVA:</p>
<ul>
<li><a href="http://bit.ly/x86ova">http://bit.ly/x86ova</a></li>
</ul>
<p>Double click on the downloaded file to load it into VirtualBox. Be sure to choose to Re-Initialize the MAC address. Run the <strong>Pristine Android</strong>. Once you reach the <strong>Welcome</strong> follow the steps in the wizard and log in.</p>
<a class="anchor" id="android-studio"></a>
<h2>Android Studio</h2>
<p>The simplest way to the the Android SDK is to install Android Studio. All we really need is the Android SDK, but the raw Android SDK has only a command line interface, and Android Studio can help us debug our apps. As a result, you probably need <a href="https://developer.android.com/studio/">Android Studio</a> (or <a href="https://developer.android.com/">here</a>) unless you have an old version of the SDK already installed.</p>
<p>Android studio comes as a zip file. Unzip it. This should create a folder called <strong>android_studio</strong>. Move it to your ~/bin directory for save keeping. Navigate to ~/bin/android-studio/bin and run <strong>studio.sh</strong> like this <strong>./studio.sh</strong>. Create a new Android project. Choose the Android Stuff thing at the bottom. Oreo 8.1.</p>
<p>You probably don&#39;t need to do this:</p>
<pre><code><span class="hljs-selector-tag">sudo</span> <span class="hljs-selector-tag">apt-get</span> <span class="hljs-selector-tag">install</span> <span class="hljs-selector-tag">libc6</span><span class="hljs-selector-pseudo">:i386</span> <span class="hljs-selector-tag">libncurses5</span><span class="hljs-selector-pseudo">:i386</span> <span class="hljs-selector-tag">libstdc</span>++6<span class="hljs-selector-pseudo">:i386</span> <span class="hljs-selector-tag">lib32z1</span> <span class="hljs-selector-tag">libbz2-1</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-pseudo">:i386</span>
</code></pre><a class="anchor" id="quick-run"></a>
<h2>Quick Run</h2>
<p>Start the Android virtual machine. Get its IP address from the &quot;About Tablet&quot; section of the <strong>Settings</strong> app.</p>
<p>Connect to Android X86 from Pristine Lubuntu or where ever you are doing your development. You do this with <strong>adb connect <IP></strong> and check your work with <strong>adb devices</strong>:</p>
<pre><code>$ adb connect <span class="hljs-number">192.168</span><span class="hljs-meta">.2</span><span class="hljs-meta">.21</span>
connected to <span class="hljs-number">192.168</span><span class="hljs-meta">.2</span><span class="hljs-meta">.21</span>:<span class="hljs-number">5555</span>
charlie@rohan-elf:~/temp/footoo
$ adb devices
List of devices attached
<span class="hljs-number">192.168</span><span class="hljs-meta">.2</span><span class="hljs-meta">.21</span>:<span class="hljs-number">5555</span>    device
</code></pre><a class="anchor" id="the-android-sdk"></a>
<h2>The Android SDK</h2>
<p>Here are the commands to connect to our instance of Android X86 once you have installed and configured with (Android Studio) the SDK.</p>
<pre><code><span class="hljs-selector-tag">adb</span> <span class="hljs-selector-tag">connect</span> 192<span class="hljs-selector-class">.168</span><span class="hljs-selector-class">.2</span><span class="hljs-selector-class">.34</span>
</code></pre><p>Of coure, you have to use your Andriod X86 IP address. To confirm you are connected:</p>
<pre><code><span class="hljs-attribute">adb devices</span>
</code></pre><p>Of course, you should use Bridged Adapter for your version version of Android X86. To the get the IP, use the Phone&#39;s menu. Its something like <strong>About tablet</strong> and then <strong>Status</strong> .</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/android-x86-status.png" alt="Android X86 Status screen for a table"></p>
<p>Android Studio runs fine in VirtualBox, it is the emulator it includes that will not, to my knowledge, work in VirtualBox.</p>
<a class="anchor" id="mouse"></a>
<h2>Mouse</h2>
<p>Choose <strong>Input | Mouse Integration</strong> from the VirtualBox menu.</p>
<a class="anchor" id="exit-the-android-x86-instance"></a>
<h2>Exit the Android X86 Instance</h2>
<p>In the File menu of VirtualBox, choose <strong>Close | Send the shutdown signal</strong>. A prompt will appear in the VM. Choose to shutdown the tablet.</p>
<a class="anchor" id="test"></a>
<h2>Test</h2>
<p>Now run <strong>adb devices</strong>:</p>
<pre><code>$ adb devices
<span class="hljs-built_in">List</span> <span class="hljs-keyword">of</span> devices attached
e8e5bc06    device
</code></pre><p>If you need to connect to a Virtual Instance, get its IP and:</p>
<pre><code><span class="hljs-selector-tag">adb</span> <span class="hljs-selector-tag">connect</span> 192<span class="hljs-selector-class">.168</span><span class="hljs-selector-class">.2</span><span class="hljs-selector-class">.20</span>
</code></pre><p>Like this:</p>
<pre><code>$ adb connect <span class="hljs-number">192.168</span><span class="hljs-meta">.2</span><span class="hljs-meta">.20</span>
connected to <span class="hljs-number">192.168</span><span class="hljs-meta">.2</span><span class="hljs-meta">.20</span>:<span class="hljs-number">5555</span>
$ adb devices
List of devices attached
<span class="hljs-number">192.168</span><span class="hljs-meta">.2</span><span class="hljs-meta">.20</span>:<span class="hljs-number">5555</span>    device
</code></pre><p>Run app:</p>
<pre><code>npm <span class="hljs-literal">start</span>

<span class="hljs-keyword">or</span>

yarn <span class="hljs-literal">start</span>
</code></pre><a class="anchor" id="turn-it-in"></a>
<h2>Turn it in</h2>
<p>Take a screen shot of your app running in the Android X86 VM.</p>
<a class="anchor" id="build-from-iso"></a>
<h2>Build from ISO</h2>
<p>There are many releases on the <a href="http://www.android-x86.org/">Android X86</a> site. I&#39;ve picked out a version of Android Nougat (7.1).</p>
<ul>
<li><a href="http://www.android-x86.org/releases/releasenote-7-1-r2">Download the ISO for Android X86 7.1</a>.</li>
</ul>
<p>You can grab either one one on that page, but perhaps this one is easiest to use:</p>
<ul>
<li><a href="https://www.fosshub.com/Android-x86.html">https://www.fosshub.com/Android-x86.html</a></li>
</ul>
<p>Download the 64 bit version:</p>
<ul>
<li><a href="https://www.fosshub.com/Android-x86.html">https://www.fosshub.com/Android-x86.html</a></li>
</ul>
<a class="anchor" id="no-expo"></a>
<h2>No Expo</h2>
<p>Note the underscore, not hyphen, for the application name:</p>
<pre><code>npm install -g react-<span class="hljs-keyword">native</span>-cli
react-<span class="hljs-keyword">native</span> init <span class="hljs-keyword">native</span><span class="hljs-number">_</span>lastname
react-<span class="hljs-keyword">native</span> run-android
</code></pre><p>I thought I had this working, but...</p>
<a class="anchor" id="turn-on-debugging"></a>
<h2>Turn on Debugging</h2>
<p>On your phone, go to <strong>About Device</strong>. Find the build number. Tap it seven times.</p>
<a class="anchor" id="phone-connection"></a>
<h2>Phone Connection</h2>
<p>Plug in your phone and lsusb:</p>
<pre><code>$ lsusb
<span class="hljs-keyword">Bus </span><span class="hljs-number">002</span> Device <span class="hljs-number">002</span>: ID <span class="hljs-number">8087</span>:<span class="hljs-number">8001</span> Intel Corp.
<span class="hljs-keyword">Bus </span><span class="hljs-number">002</span> Device <span class="hljs-number">001</span>: ID <span class="hljs-number">1</span>d<span class="hljs-number">6b</span>:<span class="hljs-number">0002</span> Linux Foundation <span class="hljs-number">2</span>.<span class="hljs-number">0</span> root hub
<span class="hljs-keyword">Bus </span><span class="hljs-number">006</span> Device <span class="hljs-number">001</span>: ID <span class="hljs-number">1</span>d<span class="hljs-number">6b</span>:<span class="hljs-number">0003</span> Linux Foundation <span class="hljs-number">3</span>.<span class="hljs-number">0</span> root hub
<span class="hljs-keyword">Bus </span><span class="hljs-number">005</span> Device <span class="hljs-number">001</span>: ID <span class="hljs-number">1</span>d<span class="hljs-number">6b</span>:<span class="hljs-number">0002</span> Linux Foundation <span class="hljs-number">2</span>.<span class="hljs-number">0</span> root hub
<span class="hljs-keyword">Bus </span><span class="hljs-number">001</span> Device <span class="hljs-number">002</span>: ID <span class="hljs-number">8087</span>:<span class="hljs-number">8009</span> Intel Corp.
<span class="hljs-keyword">Bus </span><span class="hljs-number">001</span> Device <span class="hljs-number">001</span>: ID <span class="hljs-number">1</span>d<span class="hljs-number">6b</span>:<span class="hljs-number">0002</span> Linux Foundation <span class="hljs-number">2</span>.<span class="hljs-number">0</span> root hub
<span class="hljs-keyword">Bus </span><span class="hljs-number">004</span> Device <span class="hljs-number">002</span>: ID <span class="hljs-number">0</span>bc2:ab34 Seagate RSS <span class="hljs-keyword">LLC
</span><span class="hljs-keyword">Bus </span><span class="hljs-number">004</span> Device <span class="hljs-number">001</span>: ID <span class="hljs-number">1</span>d<span class="hljs-number">6b</span>:<span class="hljs-number">0003</span> Linux Foundation <span class="hljs-number">3</span>.<span class="hljs-number">0</span> root hub
<span class="hljs-keyword">Bus </span><span class="hljs-number">003</span> Device <span class="hljs-number">032</span>: ID <span class="hljs-number">046</span>d:c041 Logitech, Inc. G5 Laser Mouse
<span class="hljs-keyword">Bus </span><span class="hljs-number">003</span> Device <span class="hljs-number">004</span>: ID <span class="hljs-number">045</span>e:<span class="hljs-number">00</span>db Microsoft Corp. Natural Ergonomic Keyboard <span class="hljs-number">4000</span> <span class="hljs-built_in">V1</span>.<span class="hljs-number">0</span>
<span class="hljs-keyword">Bus </span><span class="hljs-number">003</span> Device <span class="hljs-number">003</span>: ID <span class="hljs-number">0557</span>:<span class="hljs-number">7000</span> ATEN International Co., Ltd Hub
<span class="hljs-keyword">Bus </span><span class="hljs-number">003</span> Device <span class="hljs-number">021</span>: ID <span class="hljs-number">04</span>e8:<span class="hljs-number">6860</span> Samsung Electronics Co., Ltd Galaxy (MTP)
<span class="hljs-keyword">Bus </span><span class="hljs-number">003</span> Device <span class="hljs-number">019</span>: ID <span class="hljs-number">05</span>e3:<span class="hljs-number">0610</span> Genesys Logic, Inc. <span class="hljs-number">4</span>-port hub
<span class="hljs-keyword">Bus </span><span class="hljs-number">003</span> Device <span class="hljs-number">001</span>: ID <span class="hljs-number">1</span>d<span class="hljs-number">6b</span>:<span class="hljs-number">0002</span> Linux Foundation <span class="hljs-number">2</span>.<span class="hljs-number">0</span> root hub
</code></pre></div></body></html>