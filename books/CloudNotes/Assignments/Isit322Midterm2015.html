<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>Isit322Midterm2015</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Elvenware</a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav"><li class="trigger-collapse" ng-class="{ active: isActive('/')}"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img class="elf-normal" alt="Elvenware" src="/images/elvenwarelogo.png"/></figure><h1>Isit322Midterm2015</h1><p>Welcome to Isit322Midterm2015</p><ul><!--TOC_Start--><li><a href="#isit322-midterm-2015">Isit322 Midterm 2015</a></li>
<li><a href="#details">More Detail on Goals for Midterm</a></li>
<li><a href="#sample-page">Sample Page</a></li>
<li><a href="#extra-credit">Extra Credit</a></li>
<li><a href="#menu-highlights">Menu Highlights</a></li>
<li><a href="#unit-tests">Unit Tests</a></li>
<li><a href="#add-chai-to-karma">Add Chai to Karma</a></li>
<li><a href="#spec-reporter">Spec Reporter</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="isit322-midterm-2015"></a>
<h1>Isit322 Midterm 2015</h1>
<p>We want to bring our Web App based Angular version of our Census data query up to some reasonable simulacrum of a first iteration on the final app.</p>
<p>We are interested in:</p>
<ul>
<li>Angular</li>
<li>Query the census</li>
<li>Unit tests</li>
<li>Graphs</li>
<li>Bootstrap ui</li>
</ul>
<p>We are not trying to build an Android app at this stage. After the midterm we can try to do things like:</p>
<ul>
<li>Create a Cordova app with our angular in it</li>
<li>Save screenshots to the device</li>
<li>Email the screen shots to someone</li>
<li>Maybe change graphs as we tilt the device? </li>
</ul>
<a class="anchor" id="details"></a>
<h2>More Detail on Goals for Midterm</h2>
<p>The primary goals:</p>
<ul>
<li>Six pages:<ul>
<li>Home</li>
<li>States</li>
<li>States Graphs</li>
<li>Zips</li>
<li>Zip Graphs</li>
<li>About</li>
</ul>
</li>
<li>Refactor the controllers, each in own file<ul>
<li><strong>AboutController</strong></li>
<li><strong>MainController</strong><ul>
<li><strong>StateController</strong></li>
</ul>
</li>
<li><strong>StateGraphController</strong></li>
<li><strong>ZipController</strong> </li>
<li><strong>ZipGraphController</strong></li>
</ul>
</li>
<li>Refactor factories<ul>
<li><strong>ChartFactory</strong></li>
<li><strong>UrlFactory</strong></li>
</ul>
</li>
<li>In States graphs<ul>
<li>Graph Top Fifteen</li>
<li>Graph Top Five</li>
<li>Graph Bottom Ten</li>
<li>Graph Top 7 and Bottom 7</li>
</ul>
</li>
<li>In Zip Graphs<ul>
<li>A similar set of buttons to those shown in states graphs</li>
</ul>
</li>
<li>Modules. At least two:<ul>
<li>statesApp</li>
<li>utils (for ChartFactory and UrlFactory)</li>
</ul>
</li>
<li>Unit Tests<ul>
<li>Create at least two minimal tests for each controller. They can be as simple as you want</li>
<li>Get my unit tests for the <strong>StateGraphController</strong> to pass</li>
<li>Create similar tests for <strong>ZipGraphController</strong></li>
</ul>
</li>
<li>Clean up the menu<ul>
<li><strong>HeaderController</strong> in <strong>app.js</strong></li>
</ul>
</li>
</ul>
<a class="anchor" id="sample-page"></a>
<h2>Sample Page</h2>
<p>This page is not complete yet, as we need more buttons, and they should be using some nice bootstrap styling, but this gives you a general idea of where we are headed:</p>
<p><img src="https://drive.google.com/uc?export=view&amp;id=0B25UTAlOfPRGY1B5MzFZdTJKVzQ" alt="StateGraphs"></p>
<p>I suppose a drop down instead of buttons would be another option.</p>
<p>Also, we should be able to pick the kind of graph we want.</p>
<a class="anchor" id="extra-credit"></a>
<h2>Extra Credit</h2>
<p>Create a factory for $http.get. Don&#39;t call $http.get in multiple controllers, instead create a factory for it and include the factory in the various controllers that need it.</p>
<a class="anchor" id="menu-highlights"></a>
<h2>Menu Highlights</h2>
<p>We want to properly highlight menu items as the user selects them:</p>
<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header"</span> <span class="hljs-attr">ng-controller</span>=<span class="hljs-string">"HeaderController"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav nav-pills pull-right"</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">ng-class</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">{ active: isActive('/')}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">ng-href</span>=<span class="hljs-string">"#/"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">ng-class</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">{ active: isActive('/statePop')}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">ng-href</span>=<span class="hljs-string">"#/statePop"</span>&gt;</span>States<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">ng-class</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">{ active: isActive('/stateGraphs')}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">ng-href</span>=<span class="hljs-string">"#/stateGraphs"</span>&gt;</span>State Graphs<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">ng-class</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">{ active: isActive('/stateZip')}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">ng-href</span>=<span class="hljs-string">"#/stateZip"</span>&gt;</span>Zips<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">ng-class</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">{ active: isActive('/about')}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">ng-href</span>=<span class="hljs-string">"#/about"</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-muted"</span>&gt;</span>States<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</code></pre><p>In <strong>app.js</strong> add a controller. :</p>
<pre><code><span class="hljs-string">"use srict"</span>;

angular
  .module(<span class="hljs-string">"statesApp"</span>, [
    <span class="hljs-string">"googlechart"</span>,
    etc...
  ])
  .config(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($routeProvider)</span> </span>{
    $routeProvider
      .when(<span class="hljs-string">"/"</span>, {
        templateUrl: <span class="hljs-string">"views/main.html"</span>,
        controller: <span class="hljs-string">"MainCtrl"</span>
      })
      etc...
  }).controller(<span class="hljs-string">'HeaderController'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($scope, $location)</span>
  </span>{
    $scope.isActive = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(viewLocation)</span> </span>{
      <span class="hljs-keyword">return</span> viewLocation === $location.path();
    };
  });
</code></pre><p>I suppose you could put the controller elsewhere, but this seems like the simplest place to put it.</p>
<a class="anchor" id="unit-tests"></a>
<h2>Unit Tests</h2>
<p>This is likely to change, but to get started, get all these tests to pass:</p>
<pre><code>/**
 * Created by charliecalvert <span class="hljs-keyword">on</span> <span class="hljs-number">2</span>/<span class="hljs-number">8</span>/<span class="hljs-number">15</span>.
 */


describe('Controller: StatePopulation Mocks', function () {

  'use strict';

  var expect = chai.expect;

  var <span class="hljs-literal">all</span>States, AboutCtrl, scope;
  var <span class="hljs-variable">$http</span>, <span class="hljs-variable">$httpBackend</span>;

  // <span class="hljs-built_in">load</span> the controller's module
  beforeEach(function() {
    module('statesApp');
    module('googlechart');
  });

  beforeEach(inject(function(_<span class="hljs-variable">$http_</span>, _<span class="hljs-variable">$httpBackend_</span>) {
    <span class="hljs-variable">$http</span> = _<span class="hljs-variable">$http_</span>;
    <span class="hljs-variable">$httpBackend</span> = _<span class="hljs-variable">$httpBackend_</span>;
  }));

  afterEach(function() {
    <span class="hljs-variable">$httpBackend</span>.verifyNoOutstandingExpectation();
    <span class="hljs-variable">$httpBackend</span>.verifyNoOutstandingRequest();
  });

  // Initialize the controller and a mock scope
  beforeEach(inject(function(<span class="hljs-variable">$controller</span>, <span class="hljs-variable">$rootScope</span>) {
    scope = <span class="hljs-variable">$rootScope</span>.<span class="hljs-variable">$new</span>();
    AboutCtrl = <span class="hljs-variable">$controller</span>('StateGraphController', {
      <span class="hljs-variable">$scope</span>: scope
    });
    // formatted at: http://jsonformatter.curiousconcept.com/
    <span class="hljs-literal">all</span>States = [[<span class="hljs-string">"P0010001"</span>, <span class="hljs-string">"NAME"</span>, <span class="hljs-string">"state"</span>], [<span class="hljs-string">"4779736"</span>, <span class="hljs-string">"Alabama"</span>, <span class="hljs-string">"01"</span>], [<span class="hljs-string">"710231"</span>, <span class="hljs-string">"Alaska"</span>, <span class="hljs-string">"02"</span>], [<span class="hljs-string">"6392017"</span>, <span class="hljs-string">"Arizona"</span>, <span class="hljs-string">"04"</span>], [<span class="hljs-string">"2915918"</span>, <span class="hljs-string">"Arkansas"</span>, <span class="hljs-string">"05"</span>], [<span class="hljs-string">"37253956"</span>, <span class="hljs-string">"California"</span>, <span class="hljs-string">"06"</span>], [<span class="hljs-string">"5029196"</span>, <span class="hljs-string">"Colorado"</span>, <span class="hljs-string">"08"</span>], [<span class="hljs-string">"3574097"</span>, <span class="hljs-string">"Connecticut"</span>, <span class="hljs-string">"09"</span>], [<span class="hljs-string">"897934"</span>, <span class="hljs-string">"Delaware"</span>, <span class="hljs-string">"10"</span>], [<span class="hljs-string">"601723"</span>, <span class="hljs-string">"District of Columbia"</span>, <span class="hljs-string">"11"</span>], [<span class="hljs-string">"18801310"</span>, <span class="hljs-string">"Florida"</span>, <span class="hljs-string">"12"</span>], [<span class="hljs-string">"9687653"</span>, <span class="hljs-string">"Georgia"</span>, <span class="hljs-string">"13"</span>], [<span class="hljs-string">"1360301"</span>, <span class="hljs-string">"Hawaii"</span>, <span class="hljs-string">"15"</span>], [<span class="hljs-string">"1567582"</span>, <span class="hljs-string">"Idaho"</span>, <span class="hljs-string">"16"</span>], [<span class="hljs-string">"12830632"</span>, <span class="hljs-string">"Illinois"</span>, <span class="hljs-string">"17"</span>], [<span class="hljs-string">"6483802"</span>, <span class="hljs-string">"Indiana"</span>, <span class="hljs-string">"18"</span>], [<span class="hljs-string">"3046355"</span>, <span class="hljs-string">"Iowa"</span>, <span class="hljs-string">"19"</span>], [<span class="hljs-string">"2853118"</span>, <span class="hljs-string">"Kansas"</span>, <span class="hljs-string">"20"</span>], [<span class="hljs-string">"4339367"</span>, <span class="hljs-string">"Kentucky"</span>, <span class="hljs-string">"21"</span>], [<span class="hljs-string">"4533372"</span>, <span class="hljs-string">"Louisiana"</span>, <span class="hljs-string">"22"</span>], [<span class="hljs-string">"1328361"</span>, <span class="hljs-string">"Maine"</span>, <span class="hljs-string">"23"</span>], [<span class="hljs-string">"5773552"</span>, <span class="hljs-string">"Maryland"</span>, <span class="hljs-string">"24"</span>], [<span class="hljs-string">"6547629"</span>, <span class="hljs-string">"Massachusetts"</span>, <span class="hljs-string">"25"</span>], [<span class="hljs-string">"9883640"</span>, <span class="hljs-string">"Michigan"</span>, <span class="hljs-string">"26"</span>], [<span class="hljs-string">"5303925"</span>, <span class="hljs-string">"Minnesota"</span>, <span class="hljs-string">"27"</span>], [<span class="hljs-string">"2967297"</span>, <span class="hljs-string">"Mississippi"</span>, <span class="hljs-string">"28"</span>], [<span class="hljs-string">"5988927"</span>, <span class="hljs-string">"Missouri"</span>, <span class="hljs-string">"29"</span>], [<span class="hljs-string">"989415"</span>, <span class="hljs-string">"Montana"</span>, <span class="hljs-string">"30"</span>], [<span class="hljs-string">"1826341"</span>, <span class="hljs-string">"Nebraska"</span>, <span class="hljs-string">"31"</span>], [<span class="hljs-string">"2700551"</span>, <span class="hljs-string">"Nevada"</span>, <span class="hljs-string">"32"</span>], [<span class="hljs-string">"1316470"</span>, <span class="hljs-string">"New Hampshire"</span>, <span class="hljs-string">"33"</span>], [<span class="hljs-string">"8791894"</span>, <span class="hljs-string">"New Jersey"</span>, <span class="hljs-string">"34"</span>], [<span class="hljs-string">"2059179"</span>, <span class="hljs-string">"New Mexico"</span>, <span class="hljs-string">"35"</span>], [<span class="hljs-string">"19378102"</span>, <span class="hljs-string">"New York"</span>, <span class="hljs-string">"36"</span>], [<span class="hljs-string">"9535483"</span>, <span class="hljs-string">"North Carolina"</span>, <span class="hljs-string">"37"</span>], [<span class="hljs-string">"672591"</span>, <span class="hljs-string">"North Dakota"</span>, <span class="hljs-string">"38"</span>], [<span class="hljs-string">"11536504"</span>, <span class="hljs-string">"Ohio"</span>, <span class="hljs-string">"39"</span>], [<span class="hljs-string">"3751351"</span>, <span class="hljs-string">"Oklahoma"</span>, <span class="hljs-string">"40"</span>], [<span class="hljs-string">"3831074"</span>, <span class="hljs-string">"Oregon"</span>, <span class="hljs-string">"41"</span>], [<span class="hljs-string">"12702379"</span>, <span class="hljs-string">"Pennsylvania"</span>, <span class="hljs-string">"42"</span>], [<span class="hljs-string">"1052567"</span>, <span class="hljs-string">"Rhode Island"</span>, <span class="hljs-string">"44"</span>], [<span class="hljs-string">"4625364"</span>, <span class="hljs-string">"South Carolina"</span>, <span class="hljs-string">"45"</span>], [<span class="hljs-string">"814180"</span>, <span class="hljs-string">"South Dakota"</span>, <span class="hljs-string">"46"</span>], [<span class="hljs-string">"6346105"</span>, <span class="hljs-string">"Tennessee"</span>, <span class="hljs-string">"47"</span>], [<span class="hljs-string">"25145561"</span>, <span class="hljs-string">"Texas"</span>, <span class="hljs-string">"48"</span>], [<span class="hljs-string">"2763885"</span>, <span class="hljs-string">"Utah"</span>, <span class="hljs-string">"49"</span>], [<span class="hljs-string">"625741"</span>, <span class="hljs-string">"Vermont"</span>, <span class="hljs-string">"50"</span>], [<span class="hljs-string">"8001024"</span>, <span class="hljs-string">"Virginia"</span>, <span class="hljs-string">"51"</span>], [<span class="hljs-string">"6724540"</span>, <span class="hljs-string">"Washington"</span>, <span class="hljs-string">"53"</span>], [<span class="hljs-string">"1852994"</span>, <span class="hljs-string">"West Virginia"</span>, <span class="hljs-string">"54"</span>], [<span class="hljs-string">"5686986"</span>, <span class="hljs-string">"Wisconsin"</span>, <span class="hljs-string">"55"</span>], [<span class="hljs-string">"563626"</span>, <span class="hljs-string">"Wyoming"</span>, <span class="hljs-string">"56"</span>], [<span class="hljs-string">"3725789"</span>, <span class="hljs-string">"Puerto Rico"</span>, <span class="hljs-string">"72"</span>]];
  }));

  function getData() {
    <span class="hljs-variable">$httpBackend</span>.whenGET(scope.url).respond(<span class="hljs-literal">all</span>States);
    scope.getAllStates();
    <span class="hljs-variable">$httpBackend</span>.flush();
  }

  it('should get <span class="hljs-number">52</span> states', function() {
    getData();
    expect(scope.<span class="hljs-literal">all</span>States.length).<span class="hljs-keyword">to</span>.equal(<span class="hljs-number">52</span>);
  });

  it('should get <span class="hljs-number">10</span> states <span class="hljs-keyword">in</span> topStates by <span class="hljs-keyword">default</span>', function() {
    getData();
    expect(scope.topStates.length).<span class="hljs-keyword">to</span>.equal(<span class="hljs-number">10</span>);
  });

  it('should be able get <span class="hljs-number">15</span> states <span class="hljs-keyword">in</span> topStates', function() {
    <span class="hljs-variable">$httpBackend</span>.whenGET(scope.url).respond(<span class="hljs-literal">all</span>States);
    scope.getTopFifteenStates();
    <span class="hljs-variable">$httpBackend</span>.flush();

    expect(scope.topStates.length).<span class="hljs-keyword">to</span>.equal(<span class="hljs-number">15</span>);
  });

  it('should have California, Texas and New York <span class="hljs-keyword">in</span> top <span class="hljs-number">10</span> by <span class="hljs-keyword">default</span>', function() {
    getData();
    expect(scope.topStates[<span class="hljs-number">0</span>].c[<span class="hljs-number">0</span>].v).<span class="hljs-keyword">to</span>.equal('California');
    expect(scope.topStates[<span class="hljs-number">1</span>].c[<span class="hljs-number">0</span>].v).<span class="hljs-keyword">to</span>.equal('Texas');
    expect(scope.topStates[<span class="hljs-number">2</span>].c[<span class="hljs-number">0</span>].v).<span class="hljs-keyword">to</span>.equal('New York');
    expect(scope.topStates[<span class="hljs-number">9</span>].c[<span class="hljs-number">0</span>].v).<span class="hljs-keyword">to</span>.equal('North Carolina');
  });

  it('should get <span class="hljs-number">5</span> states <span class="hljs-keyword">in</span> topStates with <span class="hljs-keyword">state</span>SliceStop', function() {
    <span class="hljs-variable">$httpBackend</span>.whenGET(scope.url).respond(<span class="hljs-literal">all</span>States);
    scope.getTopFiveStates();
    <span class="hljs-variable">$httpBackend</span>.flush();

    expect(scope.topStates.length).<span class="hljs-keyword">to</span>.equal(<span class="hljs-number">5</span>);
  });

  it('should get <span class="hljs-number">3</span> states <span class="hljs-keyword">in</span> topStates with <span class="hljs-keyword">state</span>SliceStart and <span class="hljs-keyword">state</span>SliceStop', function() {
    scope.<span class="hljs-keyword">state</span>SliceStart = <span class="hljs-number">2</span>;
    scope.<span class="hljs-keyword">state</span>SliceStop = <span class="hljs-number">5</span>;
    getData();
    expect(scope.topStates.length).<span class="hljs-keyword">to</span>.equal(<span class="hljs-number">3</span>);
  });

  it('should get <span class="hljs-keyword">state</span> with smallest population <span class="hljs-keyword">state</span>SliceStart and <span class="hljs-keyword">state</span>SliceStop', function() {
    scope.<span class="hljs-keyword">state</span>SliceStart = <span class="hljs-number">51</span>;
    scope.<span class="hljs-keyword">state</span>SliceStop = <span class="hljs-number">52</span>;
    getData();
    expect(scope.topStates.length).<span class="hljs-keyword">to</span>.equal(<span class="hljs-number">1</span>);
    expect(scope.topStates[<span class="hljs-number">0</span>].c[<span class="hljs-number">0</span>].v).<span class="hljs-keyword">to</span>.equal('Wyoming');
  });

  it('should get <span class="hljs-keyword">state</span> with smallest population <span class="hljs-keyword">state</span>SliceStart and <span class="hljs-keyword">state</span>SliceStop', function() {
    scope.<span class="hljs-keyword">state</span>SliceStart = <span class="hljs-number">42</span>;
    scope.<span class="hljs-keyword">state</span>SliceStop = <span class="hljs-number">52</span>;
    getData();
    expect(scope.topStates.length).<span class="hljs-keyword">to</span>.equal(<span class="hljs-number">10</span>);
    expect(scope.topStates[<span class="hljs-number">0</span>].c[<span class="hljs-number">0</span>].v).<span class="hljs-keyword">to</span>.equal('New Hampshire');
    expect(scope.topStates[<span class="hljs-number">9</span>].c[<span class="hljs-number">0</span>].v).<span class="hljs-keyword">to</span>.equal('Wyoming');
  });

});
</code></pre><p>Like this:</p>
<pre><code>  Controller: StatePopulation Mocks
    ✓ should get <span class="hljs-number">52</span> states
    ✓ should get <span class="hljs-number">10</span> states <span class="hljs-keyword">in</span> topStates by <span class="hljs-keyword">default</span>
    ✓ should be able get <span class="hljs-number">15</span> states <span class="hljs-keyword">in</span> topStates
    ✓ should have California, Texas and New York <span class="hljs-keyword">in</span> top <span class="hljs-number">10</span> by <span class="hljs-keyword">default</span>
    ✓ should get <span class="hljs-number">5</span> states <span class="hljs-keyword">in</span> topStates with <span class="hljs-keyword">state</span>SliceStop
    ✓ should get <span class="hljs-number">3</span> states <span class="hljs-keyword">in</span> topStates with <span class="hljs-keyword">state</span>SliceStart and <span class="hljs-keyword">state</span>SliceStop
    ✓ should get <span class="hljs-keyword">state</span> with smallest population <span class="hljs-keyword">state</span>SliceStart and <span class="hljs-keyword">state</span>SliceStop
    ✓ should get <span class="hljs-keyword">state</span> with smallest population <span class="hljs-keyword">state</span>SliceStart and <span class="hljs-keyword">state</span>SliceStop
</code></pre><p>Then do something similar for the Zip graphs page.</p>
<p>Also have at least two simple tests for each controller you created. The tests don&#39;t even have to make sense, they just need to show that you can access something on each page and run a test against it. For instance, you could give each page a title, and prove that you can retrieve the title and confirm that it is set to the expected string.</p>
<a class="anchor" id="add-chai-to-karma"></a>
<h2>Add Chai to Karma</h2>
<p>In bower.json, add chai, probably by typing bower install chai --save-dev. I&#39;m include angular mocks and scenario for context, but you only need to add chai:</p>
<pre><code><span class="hljs-string">"devDependencies"</span>: {
  <span class="hljs-string">"angular-mocks"</span>: <span class="hljs-string">"~1.3.0"</span>,
  <span class="hljs-string">"angular-scenario"</span>: <span class="hljs-string">"~1.3.0"</span>,
  <span class="hljs-string">"chai"</span>: <span class="hljs-string">"~1.10.0"</span>

<span class="hljs-keyword">In</span> karma.conf.js add chai. I<span class="hljs-symbol">'m</span> including jquery only <span class="hljs-keyword">for</span> context. It <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> needed <span class="hljs-keyword">for</span> chaI:

files: [
  <span class="hljs-symbol">'bower_components</span>/jquery/dist/jquery.js',
  <span class="hljs-symbol">'bower_components</span>/chai/chai.js',
</code></pre><p>And in your test:</p>
<pre><code>describe(<span class="hljs-string">'Controller: StatePop'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{

  <span class="hljs-keyword">var</span> expect = chai.expect;
</code></pre><a class="anchor" id="spec-reporter"></a>
<h2>Spec Reporter</h2>
<p>This is the tool that gives us fancy output when we run our tests. Like having the browser, but at the command line.</p>
<p>To get started:</p>
<pre><code>npm install karma-spec-reporter --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span>
</code></pre><p>In karma.conf.js add a reporters property. I include exclude and port for context and to help you find where to insert it. (Of course, within reason, it doesn&#39;t really matter where you put it, but for consistency then):</p>
<pre><code><span class="hljs-attribute">exclude</span>: [],

<span class="http"><span class="hljs-attribute">reporters</span>: ['spec'],

<span class="vhdl">// web server <span class="hljs-keyword">port</span>
<span class="hljs-keyword">port</span>: <span class="hljs-number">8080</span>,

We need <span class="hljs-keyword">to</span> reference it also <span class="hljs-keyword">in</span> the plugins section near the bottom <span class="hljs-keyword">of</span> karma.conf.js. I<span class="hljs-symbol">'ve</span> included phantomjs, chrome <span class="hljs-keyword">and</span> jasmine <span class="hljs-keyword">for</span> <span class="hljs-keyword">context</span>, but <span class="hljs-keyword">all</span> you should have <span class="hljs-keyword">to</span> add <span class="hljs-keyword">is</span> karma-spec-reporter:

plugins: [
  <span class="hljs-symbol">'karma</span>-phantomjs-launcher',
  <span class="hljs-symbol">'karma</span>-chrome-launcher',
  <span class="hljs-symbol">'karma</span>-jasmine',
  <span class="hljs-symbol">'karma</span>-spec-reporter'
],</span></span>
</code></pre><blockquote>
<p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p>
</blockquote>
</div></body></html>