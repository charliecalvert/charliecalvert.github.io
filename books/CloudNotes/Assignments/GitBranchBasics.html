<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>GitBranchBasics</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Elvenware</a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav"><li class="trigger-collapse" ng-class="{ active: isActive('/')}"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img class="elf-normal" alt="Elvenware" src="/images/elvenwarelogo.png"/></figure><h1>GitBranchBasics</h1><p>Welcome to GitBranchBasics</p><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#create-branch">Step One: Create a Branch</a></li>
<li><a href="#work">Step Two: Work on Test Branch</a></li>
<li><a href="#merge">Step Three: Merge</a></li>
<li><a href="#push">Step Four: Push</a></li>
<li><a href="#pull">Step Five: Pull your Branch</a></li>
<li><a href="#qux">Step Six: New Branch Qux</a></li>
<li><a href="#conflict">Step Seven: Merge Conflicts</a></li>
<li><a href="#turn-it-in">Turn it in</a></li>
<li><a href="#hints">Hints</a></li>
<li><a href="#the-prompt">The Prompt</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="overview"></a>
<h2>Overview</h2>
<p>Basic branching.</p>
<p>To get started, be sure that you have a copy (clone) of your repository in your <strong>~/Git</strong> folder and your <strong>~/temp</strong> folder. We can imagine that one copy is your repository at school, and the other copy is your repository at home.</p>
<a class="anchor" id="create-branch"></a>
<h2>Step One: Create a Branch</h2>
<p>Open a repository. Create a file called <strong>MyTest.md</strong> in <strong>Week0X-BranchBasics</strong>.:</p>
<pre><code class="lang-markdown"><span class="hljs-comment"># My Test</span>

This <span class="hljs-keyword">is</span> <span class="hljs-keyword">my</span> test document.
</code></pre>
<p>Commit your work:</p>
<pre><code class="lang-bash">$ git add MyTest.md
$ git <span class="hljs-keyword">commit</span> -m <span class="hljs-string">"MyTest created"</span>
[<span class="hljs-keyword">master</span> <span class="hljs-number">4</span>ef3e60] MyTest created
 <span class="hljs-number">1</span> <span class="hljs-keyword">file</span> <span class="hljs-keyword">changed</span>, <span class="hljs-number">3</span> insertions(+)
 <span class="hljs-keyword">create</span> <span class="hljs-keyword">mode</span> <span class="hljs-number">100644</span> MyTest.md
</code></pre>
<p>View the available branches with <strong>git branch</strong>. Usually you see only one branch called <strong>master</strong>:</p>
<pre><code class="lang-bash"><span class="hljs-symbol">git</span> <span class="hljs-keyword">branch
</span>* master
</code></pre>
<p>Now create a new branch:</p>
<pre><code><span class="hljs-symbol">git</span> <span class="hljs-keyword">branch </span>test
</code></pre><p>View your branches:</p>
<pre><code class="lang-bash"><span class="hljs-meta">$</span><span class="bash"> git branch <span class="hljs-built_in">test</span></span>
<span class="hljs-meta">$</span><span class="bash"> git branch</span>
* master
  test
</code></pre>
<p>Now you can see we have two branches:</p>
<ul>
<li>master, which is currently selected</li>
<li>test, which is not selected</li>
</ul>
<a class="anchor" id="work"></a>
<h2>Step Two: Work on Test Branch</h2>
<p>Switch to your test branch:</p>
<pre><code>git checkout <span class="hljs-built_in">test</span>
</code></pre><p>Edit <strong>MyTest.md</strong>:</p>
<pre><code class="lang-markdown"><span class="hljs-comment"># My Test</span>

This <span class="hljs-keyword">is</span> my test <span class="hljs-built_in">document</span>.

<span class="hljs-comment">## New Test Section</span>

This part <span class="hljs-keyword">of</span> the <span class="hljs-built_in">document</span> was added <span class="hljs-keyword">in</span> the test branch
</code></pre>
<p>Now commit your work:</p>
<pre><code class="lang-bash">$ git status
On branch test
Changes not staged for <span class="hljs-keyword">commit</span>:
  (<span class="hljs-keyword">use</span> <span class="hljs-string">"git add &lt;file&gt;..."</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">update</span> what will be committed)
  (<span class="hljs-keyword">use</span> <span class="hljs-string">"git checkout -- &lt;file&gt;..."</span> <span class="hljs-keyword">to</span> discard changes <span class="hljs-keyword">in</span> working <span class="hljs-keyword">directory</span>)

    modified:   MyTest.md

<span class="hljs-keyword">no</span> changes added <span class="hljs-keyword">to</span> <span class="hljs-keyword">commit</span> (<span class="hljs-keyword">use</span> <span class="hljs-string">"git add"</span> <span class="hljs-keyword">and</span>/<span class="hljs-keyword">or</span> <span class="hljs-string">"git commit -a"</span>)
$ git <span class="hljs-keyword">add</span> MyTest.md
$ git <span class="hljs-keyword">commit</span> -m <span class="hljs-string">"Made changes to MyTest in test branch"</span>
[<span class="hljs-keyword">test</span> <span class="hljs-number">45</span>fc491] Made changes <span class="hljs-keyword">to</span> MyTest <span class="hljs-keyword">in</span> <span class="hljs-keyword">test</span> branch
 <span class="hljs-number">1</span> <span class="hljs-keyword">file</span> <span class="hljs-keyword">changed</span>, <span class="hljs-number">4</span> insertions(+)
</code></pre>
<a class="anchor" id="merge"></a>
<h2>Step Three: Merge</h2>
<p>Now lets switch back to <strong>master</strong>:</p>
<pre><code class="lang-bash"><span class="hljs-meta"># git checkout master</span>
Switched to branch 'master'
<span class="hljs-comment">// MORE TEXT MAY APPEAR HERE.</span>
</code></pre>
<p>Let&#39;s look at <strong>MyTest.md</strong>:</p>
<pre><code class="lang-bash"><span class="hljs-meta">$</span><span class="bash"> cat MyTest.md</span>
<span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># New Test Section</span></span>

This is my test document
</code></pre>
<p>As you can see, it does not contain the changes we made in our test branch. Suppose, that after long consideration, we decide that we like the changes we made in the <strong>test</strong> branch and we want to merge into our current branch. Do it like this:</p>
<pre><code class="lang-bash">$ git merge test
Updating <span class="hljs-number">4</span>ef3e60.<span class="hljs-number">.45</span>fc491
Fast-forward
 MyTest.md | <span class="hljs-number">4</span> ++++
 <span class="hljs-number">1</span> file <span class="hljs-section">changed</span>, <span class="hljs-number">4</span> insertions(+)
</code></pre>
<p>Now let&#39;s take a second look at <strong>MyTest.md</strong>:</p>
<pre><code class="lang-markdown"><span class="hljs-meta">$</span><span class="bash"> cat MyTest.md</span>
<span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># New Test Section</span></span>

This is my test document
<span class="hljs-meta">
#</span><span class="bash"><span class="hljs-comment"># New Test Section</span></span>

This part of the document was added in the test branch
</code></pre>
<p>You can see it has incorporated the changes from our <strong>test</strong> branch.</p>
<a class="anchor" id="push"></a>
<h2>Step Four: Push</h2>
<p>Now push your branch upstream (-u) to github:</p>
<pre><code>git push -<span class="hljs-keyword">u</span> origin test
Counting object<span class="hljs-variable">s:</span> <span class="hljs-number">9</span>, done.
Delta compression using <span class="hljs-keyword">up</span> <span class="hljs-keyword">to</span> <span class="hljs-number">8</span> threads.
Compressing object<span class="hljs-variable">s:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">9</span>/<span class="hljs-number">9</span>), done.
Writing object<span class="hljs-variable">s:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">9</span>/<span class="hljs-number">9</span>), <span class="hljs-number">901</span> bytes | <span class="hljs-number">0</span> bytes/s, done.
Total <span class="hljs-number">9</span> (delta <span class="hljs-number">3</span>), reused <span class="hljs-number">0</span> (delta <span class="hljs-number">0</span>)
To git@github.<span class="hljs-keyword">com</span>:charliecalvert/deleteme02.git
 * [<span class="hljs-keyword">new</span> branch]      test -&gt; test
Branch test <span class="hljs-keyword">set</span> <span class="hljs-keyword">up</span> <span class="hljs-keyword">to</span> track remote branch test from origin.
</code></pre><p>You could also do <strong>git push all -u</strong>, which pushes all your branches upstream.</p>
<p><strong>NOTE</strong>: <em>The <strong>-u</strong> flag is short for <strong>--set-upstream</strong>. For details, type <strong>git help push</strong>.</em></p>
<p>Don&#39;t do this right now, but instead of pushing your branch, you could have decided you don&#39;t like the branch at all. In that case, you can just delete. Don&#39;t do this right now, but if you do want to delete a branch, it is easy:</p>
<pre><code>git branch -d <span class="hljs-built_in">test</span>   <span class="hljs-comment"># DON'T DO THIS RIGHT NOW</span>
</code></pre><a class="anchor" id="pull"></a>
<h2>Step Five: Pull your Branch</h2>
<p>Suppose you are now on your home machine and you want to view the branch you just created.</p>
<p><strong>NOTE</strong>: <em>As implied earlier, you don&#39;t actually have to be on your home or school machine to see all this. Wherever you are, just clone your repository into your temp directory (if you have not done so already) and switch back and forth between the view of your repository found in the <strong>~/temp</strong> folder and the view in your <strong>~/Git</strong> directory. An alternative would be to have two machines next to each other on your desk, such as a desktop machine and a laptop machine. (We can&#39;t do this latter alternative, of course, on &quot;no laptop Mondays&quot;!)</em></p>
<p>Suppose you have been doing your work in the <strong>~/Git</strong> version of your repository. Now switch to the version in your <strong>~/temp</strong> directory and do a <strong>git pull</strong>:</p>
<pre><code>$ git pull
<span class="hljs-string">remote:</span> Counting <span class="hljs-string">objects:</span> <span class="hljs-number">3</span>, done.
<span class="hljs-string">remote:</span> Compressing <span class="hljs-string">objects:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">1</span>/<span class="hljs-number">1</span>), done.
<span class="hljs-string">remote:</span> Total <span class="hljs-number">3</span> (delta <span class="hljs-number">1</span>), reused <span class="hljs-number">3</span> (delta <span class="hljs-number">1</span>), pack-reused <span class="hljs-number">0</span>
Unpacking <span class="hljs-string">objects:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">3</span>/<span class="hljs-number">3</span>), done.
From github.<span class="hljs-string">com:</span>charliecalvert/deleteme02
 * [<span class="hljs-keyword">new</span> branch]      test        -&gt; origin/test
</code></pre><p>You can see that your new branch has been pulled. To see it, call <strong>git branch</strong> with the <strong>-a</strong> switch:</p>
<pre><code>$ git branch -a
*  <span class="hljs-keyword">master</span>
  <span class="hljs-title">test</span>
  remotes/origin/HEAD -&gt; origin/<span class="hljs-keyword">master</span>
  <span class="hljs-title">remotes</span>/origin/<span class="hljs-keyword">master</span>
  <span class="hljs-title">remotes</span>/origin/test
</code></pre><p>Now checkout the <strong>test</strong> branch:</p>
<pre><code>git checkout <span class="hljs-built_in">test</span>
</code></pre><p>You can now continue working in your <strong>test</strong> branch on this second copy of your repository. In this assignment, we won&#39;t actually do any more work quite yet, but we are all set up to do it when the times comes.</p>
<a class="anchor" id="qux"></a>
<h2>Step Six: New Branch Qux</h2>
<p>In addition to <strong>test</strong>, create a new branch called <strong>qux</strong> and switch to it:</p>
<pre><code><span class="hljs-symbol">git</span> <span class="hljs-keyword">branch </span>qux
<span class="hljs-symbol">git</span> checkout qux
</code></pre><p>Check to be sure you are on the <strong>qux</strong> branch by typing <strong>git branch</strong>. Switch to the Branch Basics folder we created earlier. In that folder, create a text file called <strong>qux.txt</strong> with some arbitrary text in it. Don&#39;t merge <strong>qux</strong> with any other branches. Simply commit your work in the new branch. Now the <strong>qux</strong> branch has <strong>qux.txt</strong> but no one else does. Switch between branches with <strong>checkout</strong> in order to confirm this.</p>
<p>Push everything (git push --all).</p>
<a class="anchor" id="conflict"></a>
<h2>Step Seven: Merge Conflicts</h2>
<p>Let&#39;s deliberately create a conflict between two files that Git can&#39;t resolve (merge) on its own.</p>
<p>Checkout test: <strong>git checkout test</strong>. Edit the first line <strong>MyTest.md</strong>:</p>
<pre><code><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># New Test Insurrection</span></span>
</code></pre><p>Commit your work.</p>
<p>Checkout master but don&#39;t yet merge it with <strong>test</strong>: <strong>git checkout master</strong>.</p>
<p>Now in the <strong>master</strong> branch let&#39;s edit the first line of <strong>MyTest.md</strong>. We are making changes to the same place in the same line. Git will not know how to merge the changes automatically. In particular, open <strong>MyTest.md</strong> and change the first line to read like this:</p>
<pre><code><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># New Test Inspection</span></span>
</code></pre><p>Commit your work. Now the first line of <strong>MyTest.md</strong> in <strong>master</strong> is in conflict with the first line of <strong>MyTest.md</strong> in <strong>test</strong>.</p>
<p>Let&#39;s try to merge <strong>master</strong> with our <strong>test</strong> branch:</p>
<pre><code>$ git <span class="hljs-keyword">merge</span> <span class="hljs-keyword">test</span>
<span class="hljs-keyword">Auto</span>-merging MyTest.md
CONFLICT (<span class="hljs-keyword">content</span>): <span class="hljs-keyword">Merge</span> conflict <span class="hljs-keyword">in</span> MyTest.md
<span class="hljs-keyword">Automatic</span> <span class="hljs-keyword">merge</span> <span class="hljs-keyword">failed</span>; fix conflicts and then <span class="hljs-keyword">commit</span> the result.
</code></pre><p>If the date is 01-01-2017 or later, take a screen shot of this step. Show that you got a message like the one I display above.</p>
<p>Open up <strong>MyTest.md</strong> in your editor. You will easily be able to find the place where git could not merge the files. In particular, git shows both versions of the text, one from <strong>master</strong> called <strong>HEAD</strong> and the previous commit, which is from <strong>test</strong>:</p>
<pre><code class="lang-text">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
<span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># New Test Insurrection</span></span>
=======
<span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># New Test Inspection</span></span>
<span class="hljs-meta">&gt;</span><span class="bash">&gt;&gt;&gt;&gt;&gt;&gt; <span class="hljs-built_in">test</span></span>

This is my test document
<span class="hljs-meta">
#</span><span class="bash"><span class="hljs-comment"># New Test Section</span></span>

This part of the document was added in the test branch
</code></pre>
<p>Let&#39;s fix the problem, choosing one of the two options, or selecting a new option:</p>
<pre><code><span class="hljs-comment">## New Test Infection</span>

This <span class="hljs-keyword">is</span> my test <span class="hljs-built_in">document</span>.

<span class="hljs-comment">## New Test Section</span>

This part <span class="hljs-keyword">of</span> the <span class="hljs-built_in">document</span> was added <span class="hljs-keyword">in</span> the test branch
</code></pre><p>Notice that the first line <strong>MyTest.md</strong> in <strong>master</strong> is now slightly different from the first line of <strong>MyTest.md</strong> in <strong>test</strong>. Now check the status and commit your work:</p>
<pre><code class="lang-text">$ git status
On branch master
Your branch is ahead of 'origin/master' by 3 commits.
  (<span class="hljs-keyword">use</span> <span class="hljs-string">"git push"</span> <span class="hljs-keyword">to</span> publish your <span class="hljs-keyword">local</span> commits)
You have unmerged paths.
  (fix conflicts <span class="hljs-keyword">and</span> run <span class="hljs-string">"git commit"</span>)

Unmerged paths:
  (<span class="hljs-keyword">use</span> <span class="hljs-string">"git add &lt;file&gt;..."</span> <span class="hljs-keyword">to</span> mark resolution)

    <span class="hljs-keyword">both</span> modified:   MyTest.md

<span class="hljs-keyword">no</span> changes added <span class="hljs-keyword">to</span> <span class="hljs-keyword">commit</span> (<span class="hljs-keyword">use</span> <span class="hljs-string">"git add"</span> <span class="hljs-keyword">and</span>/<span class="hljs-keyword">or</span> <span class="hljs-string">"git commit -a"</span>)

$ git <span class="hljs-keyword">add</span> MyTest.md

$ git <span class="hljs-keyword">commit</span> -m <span class="hljs-string">"Fixed conflict in MyTest.md"</span>
[<span class="hljs-keyword">master</span> <span class="hljs-number">0</span>b4dc08] <span class="hljs-keyword">Fixed</span> conflict <span class="hljs-keyword">in</span> MyTest.md
</code></pre>
<p>Notice that line that says <strong>both modified</strong>. That tells us that both <strong>master</strong> and <strong>test</strong> have modified this file. But all should be well now, as we have fixed everything.</p>
<p>Just to prove to ourselves that all is well, push your work:</p>
<pre><code class="lang-bash">$ git push
<span class="hljs-type">Counting</span> objects: <span class="hljs-number">10</span>, <span class="hljs-keyword">done</span>.
<span class="hljs-type">Delta</span> compression using up <span class="hljs-keyword">to</span> <span class="hljs-number">8</span> threads.
<span class="hljs-type">Compressing</span> objects: <span class="hljs-number">100</span>% (<span class="hljs-number">10</span>/<span class="hljs-number">10</span>), <span class="hljs-keyword">done</span>.
<span class="hljs-type">Writing</span> objects: <span class="hljs-number">100</span>% (<span class="hljs-number">10</span>/<span class="hljs-number">10</span>), <span class="hljs-number">929</span> <span class="hljs-built_in">bytes</span> | <span class="hljs-number">0</span> <span class="hljs-built_in">bytes</span>/s, <span class="hljs-keyword">done</span>.
<span class="hljs-type">Total</span> <span class="hljs-number">10</span> (delta <span class="hljs-number">8</span>), reused <span class="hljs-number">0</span> (delta <span class="hljs-number">0</span>)
<span class="hljs-type">To</span> git@github.com:charliecalvert/deleteme02.git
   <span class="hljs-number">45</span>fc491..<span class="hljs-number">0</span>b4dc08  master -&gt; master
</code></pre>
<a class="anchor" id="turn-it-in"></a>
<h2>Turn it in</h2>
<p>Push everything (git push --all). Go up on github or bitbucket as appropriate. Switch between views of the different branches. Make sure it all makes sense:</p>
<ul>
<li>You should see three branches: <strong>master</strong>, <strong>test</strong>, <strong>qux</strong>.</li>
<li><strong>qux</strong> should have a file called <strong>qux.txt</strong> that the other two branches do not have</li>
<li><strong>test</strong> and <strong>master</strong> should look pretty much alike, but there should be differences in the first line of <strong>MyTest.md</strong>.</li>
</ul>
<p>If the date is 01-01-2017 or later, attach your screen shot of the merge conflict.</p>
<p>Submit the assignment. I&#39;ll mostly be checking to see if the branches and files mentioned in this assignment exist.</p>
<a class="anchor" id="hints"></a>
<h2>Hints</h2>
<p>When performing a merge between branches, use the Git difftool:</p>
<pre><code>git difftool -d --<span class="hljs-attr">tool=</span>meld <span class="hljs-keyword">master</span> <span class="hljs-title">&lt;SomeBranch</span>&gt;
</code></pre><p>Or, if you don&#39;t want to pass the <strong>--tool</strong> parameter each time, set it globally:</p>
<pre><code>git<span class="hljs-built_in"> config </span>--global diff.tool meld
</code></pre><p>Then you get git automaticgit difftool -d master ElvenSite01ally when you do something like this:</p>
<pre><code>git difftool -d <span class="hljs-keyword">master</span> <span class="hljs-title">&lt;SOME</span> BRANCH&gt;
</code></pre><p>For instance,</p>
<pre><code>git difftool -d <span class="hljs-keyword">master</span> <span class="hljs-title">qux</span>
</code></pre><a class="anchor" id="the-prompt"></a>
<h2>The Prompt</h2>
<p>Add git branch if its present to PS1 in <strong>.bashrc</strong>:</p>
<pre><code class="lang-bash">parse_git_branch() {
 git branch <span class="hljs-number">2</span>&gt; <span class="hljs-regexp">/dev/</span><span class="hljs-keyword">null</span> | sed -e <span class="hljs-string">'/^[^*]/d'</span> -e <span class="hljs-string">'s/* \(.*\)/(\1)/'</span>
}
</code></pre>
<p>Add this chunk to the PS1 line:</p>
<pre><code class="lang-bash">\[\<span class="hljs-number">033</span>[<span class="hljs-number">01</span>;<span class="hljs-number">31</span>m\]$(parse_git_branch)
</code></pre>
</div></body></html>