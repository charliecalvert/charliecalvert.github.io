<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>AngularOnePage</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><link href="/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><script src="/libs/scripts/elvenware.js" type="text/javascript"></script><script src="/libs/scripts/Control.js"></script></head><body ng-app="elfApp"><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>AngularOnePage</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#description">Description</a></li>
<li><a href="#single-page">Single Page</a></li>
<li><a href="#mongoose">Mongoose</a></li>
<li><a href="#turn-it-in">Turn it in</a></li>
<li><a href="#hints">Hints</a></li>
<li><a href="#angular-route">Angular Route</a></li>
<li><a href="#define-routes">Define Routes</a></li>
<li><a href="#loading-views">Loading Views</a></li>
<li><a href="#include-files">Include Files</a></li>
<li><a href="#controllers">Controllers</a></li><!--TOC_End--></ul><h2 id="description">Description</h2>
<p>Incorporate the Moongoose editor material into your midterm project. Start by copying your existing midterm into a folder called <strong>Week10-AngularOnePage</strong>.</p>
<p>We will break this assignment into parts. To complete this assignment, complete only Part I. We will do Part II after class on Monday:</p>
<ol>
<li>Add a menu and multiple pages that allow the user to switch between the following views:<ul>
<li>Home</li>
<li>Edit</li>
<li>Subjects</li>
<li>Comments</li>
<li>About</li>
</ul>
</li>
<li>In a later assignment we will incorporate the Mongoose database into our program.</li>
</ol>
<p>For this assignment, I expect you to complete part 1, and to make a start on part 2. In a later assignment we will complete part 2.</p>
<h2 id="single-page">Single Page</h2>
<p>This is the part due first. The key features needed to turn our midterm into a true single page app are:</p>
<ul>
<li>An expanded menu similar to the one found in the <strong>MongooseEditor</strong> assignment.</li>
<li>Multiple pages that can be swapped in while maintaining an unchanged header. Again, this is similar to the functionality found in the <strong>MongooseEditor</strong> project.</li>
</ul>
<p>In most cases, this should be a fairly straightforward operation. There are, however, one or two midterm projects created by students where incorporating these new pages might be a bit tricky. I think, however, that everyone should be able to create the following pages with little trouble:</p>
<ul>
<li>Home</li>
<li>Edit</li>
<li>Comments</li>
<li>About</li>
</ul>
<p>It&#39;s the subjects page that is likely to cause problems in a few cases. For now, I&#39;ll ask only that you do the best you can.</p>
<p>These pages don&#39;t really have to do much at this point. I just want you to be able to load them. It is okay if they say nothing more than the following, where each word stored in a jade file using the H1 tag:</p>
<ul>
<li>Main</li>
<li>Edit</li>
<li>Subjects</li>
<li>Comments</li>
<li>About</li>
</ul>
<p>In other words, I want you to create the following files and to be able to display or use them when I click on the menu items:</p>
<table>
<thead>
<tr>
<th style="text-align:right">Menu</th>
<th style="text-align:right">Jade</th>
<th style="text-align:right">JavaScript</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">Home</td>
<td style="text-align:right">main.jade</td>
<td style="text-align:right">control.js</td>
</tr>
<tr>
<td style="text-align:right">Edit</td>
<td style="text-align:right">edit.jade</td>
<td style="text-align:right">edit.js</td>
</tr>
<tr>
<td style="text-align:right">Subjects</td>
<td style="text-align:right">subjects.jade</td>
<td style="text-align:right">subjects.js</td>
</tr>
<tr>
<td style="text-align:right">Comments</td>
<td style="text-align:right">comments.jade</td>
<td style="text-align:right">comments.js</td>
</tr>
<tr>
<td style="text-align:right">About</td>
<td style="text-align:right">about.jade</td>
<td style="text-align:right">about.js</td>
</tr>
</tbody>
</table>
<p>You should also include an <strong>app.js</strong> file similar to the one in the <strong>MongooseEditor</strong> project.</p>
<h2 id="mongoose">Mongoose</h2>
<p>This part of the assignment is not due yet. It is just a peak at where we are headed.</p>
<h2 id="turn-it-in">Turn it in</h2>
<p>Submit you work in a folder called <strong>Week10-AngularOnePage</strong>.</p>
<h2 id="hints">Hints</h2>
<p>Here are various comments that I have made on student&#39;s programs. These are some of the most common mistakes I found when grading this assignment.</p>
<h3 id="angular-route">Angular Route</h3>
<p>Be sure to include the <strong>angular-route</strong> package in your <strong>bower.json</strong> file. You may have installed <strong>angular-route</strong> on your machine, but that does little good unless this package is included in <strong>bower.json</strong>.  The fix:</p>
<pre><code>bower install angular-route --save
</code></pre><p>The <strong>--save</strong> switch saves the request to load this package into <strong>bower.json</strong>.</p>
<p>Some students needed to remember to save <strong>bootswatch</strong> to <strong>bower.json</strong> if they choose to use it:</p>
<pre><code>bower install bootswatch --save
</code></pre><p>Then edit bower.json to remember the +1 if it is present. If you see:</p>
<pre><code> &quot;bootswatch&quot;: &quot;~3.3.4+1&quot; 
</code></pre><p>Then change it to this:</p>
<pre><code>&quot;bootswatch&quot;: &quot;~3.3.4&quot;
</code></pre><h3 id="define-routes">Define Routes</h3>
<p>This is the glue code that matches up the templates to the controllers. </p>
<pre><code>angular
    .module(&quot;progApp&quot;, [ &#39;ngRoute&#39;, &#39;School&#39;])
    .config(function($routeProvider, $locationProvider) {
        $routeProvider.when(&quot;/&quot;, {
            templateUrl : &quot;main&quot;,
            controller : &quot;MyController&quot;,
            controllerAs: &quot;myController&quot;
        }).when(&#39;/edit&#39;, {
            templateUrl : &quot;edit&quot;,
            controller : &quot;EditController&quot;,
            controllerAs: &#39;editController&#39;
        }).when(&#39;/districts&#39;, {
            templateUrl : &quot;districts&quot;,
            controller : &quot;DistrictsController&quot;,
            controllerAs: &#39;districtsController&#39;
        }).when(&#39;/comments&#39;, {
            templateUrl : &quot;comments&quot;,
            controller : &quot;CommentsController&quot;,
            controllerAs: &#39;commentsController&#39;
        }).when(&#39;/about&#39;, {
            templateUrl : &quot;about&quot;,
            controller : &quot;AboutController&quot;,
            controllerAs: &#39;aboutController&#39;
        }).otherwise({
            redirectTo : &#39;/&#39;
        });
});
</code></pre><p>With the exception of <strong>main</strong>, each route should have matching pairs of client side controllers and server side jade files. Consider this client side route:</p>
<pre><code>when(&#39;/comments&#39;, {
    templateUrl : &quot;comments&quot;,
    controller : &quot;CommentsController&quot;,
    controllerAs: &#39;commentsController&#39;
})
</code></pre><p>When you see something like that, you can more or less assume that the following files exist:</p>
<ul>
<li>public/javascripts/comments.js</li>
<li>views/comments.jade</li>
</ul>
<p>The first file defines the <strong>controller</strong> and the <strong>controllerAs</strong>. The second file, the jade file, defines the template designated by the <strong>templateUrl</strong>.</p>
<h2 id="loading-views">Loading Views</h2>
<p>Make sure you have code to load the jade pages when they are requested by the client side routes. The code for loading these views usually goes in <strong>routes/index.js:</strong>:</p>
<pre><code class="lang-javascript">router.get(&#39;/:id&#39;, function(req, res, next) {
  console.log(req.params.id);
  res.render( req.params.id, { title: req.params.id });
});
</code></pre>
<h3 id="include-files">Include Files</h3>
<p>I noticed that not everyone was linking in <em>subjects</em> in <strong>layout.jade</strong>.</p>
<pre><code>script(src=&quot;javascripts/subjects.js&quot;)
script(src=&quot;javascripts/comments.js&quot;)
</code></pre><p>That will cause an undefined error:</p>
<p>Argument &#39;SubjectsController&#39; is not a function, got undefined</p>
<p>As mentioned above, each of the two client side JavaScript files has matching jade files:</p>
<ul>
<li><strong>views/subjects.jade</strong></li>
<li><strong>views/comments.jade</strong></li>
</ul>
<h3 id="controllers">Controllers</h3>
<p>To make this program work, you need to declare at least minimal controllers in your client side JavaScript. For instance, if you had a page called public/javascript/login.js, and it was declared in <strong>app.js</strong> to have a controller, then you need to write, at absolute minimum, something like this:</p>
<pre><code>angular.module(&#39;elvenApp&#39;).controller(&#39;LoginController&#39;, function() {
    var loginController = this;
});
</code></pre></div></body></html>