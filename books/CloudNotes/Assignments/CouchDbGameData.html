<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>CouchDbGameData</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><!-- link(href='/libs/css/BootstrapIndex.css', rel='stylesheet', type='text/css')--><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><!-- script(src='/libs/scripts/elvenware.js', type='text/javascript')--><script src="/libs/scripts/Control.js"></script><!-- script(src='http://localhost:35729/livereload.js')--></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/charlie/About.html">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/charlie/development/index.html">Strongly Typed</a></li><li><a href="/charlie/development/web/index.html">Web & Scripts</a></li><li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/charlie/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>CouchDbGameData</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#create-the-data">Create the Data</a></li>
<li><a href="#data">Data</a></li><!--TOC_End--></ul><h2 id="overview">Overview</h2>
<p>Create a program called <strong>DataMaster</strong> that will begin to work with the data we will use in the game.</p>
<h2 id="create-the-data">Create the Data</h2>
<p>We will bring this portion of the game completely to fruition in a later assignment. For now you don&#39;t have to actually insert or update the data you store in CouchDb from the <strong>DataMaster</strong> UI. You may create it by hand, building a JSON file in a text editor. Then insert the file into the database, and view it in your app. Use Angular to handle the insert and view. This is very similar to what we were doing in class on Monday, Dec 1.ll leave integrating the code into the Listener for next quarter.</p>
<h2 id="data">Data</h2>
<p>Insert your data into a CouchDb database called <strong>game_data_lastname</strong>, where <strong>lastname</strong> is your last name in lowercase letters. The structure of the data you insert into CouchDb should have the following features:</p>
<ul>
<li>An <strong>npc_id</strong>, which will corresponding to the numbers for designating NPCs in your NPC grid.</li>
<li>A name for the character</li>
<li>A description of the character</li>
<li>A points value for the character</li>
<li>A boolean (true/false) question</li>
<li>An answer: true or false.</li>
</ul>
<p>For instance, here are the first two <strong>NpcObjects</strong> in an array of NPCs:</p>
<pre><code>{
    <span class="hljs-string">"_id"</span>: <span class="hljs-string">"npcObjects"</span>,
    <span class="hljs-string">"docs"</span>: [
        {
            <span class="hljs-string">"id"</span>: <span class="hljs-string">"XXXXX"</span>,
            <span class="hljs-string">"npc_id"</span>: <span class="hljs-number">1</span>,
            <span class="hljs-string">"npc_name"</span>: <span class="hljs-string">"Suzie"</span>,
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"A tall red head with freckles"</span>,
            <span class="hljs-string">"color"</span>: <span class="hljs-string">"#00FFFF"</span>,
            <span class="hljs-string">"value"</span>: <span class="hljs-number">15</span>,
            <span class="hljs-string">"question"</span>: <span class="hljs-string">"Is 2 + 2 equal to 4?"</span>,
            <span class="hljs-string">"answer"</span>: <span class="hljs-literal">true</span>
        },
        {
            <span class="hljs-string">"id"</span>: <span class="hljs-string">"YYYYY"</span>,
            <span class="hljs-string">"npc_id"</span>: <span class="hljs-number">2</span>,
            <span class="hljs-string">"npc_name"</span>: <span class="hljs-string">"Tom"</span>,
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"A strong bald man with green eyes"</span>,
            <span class="hljs-string">"color"</span>: <span class="hljs-string">"#0000FF"</span>,
            <span class="hljs-string">"value"</span>: <span class="hljs-number">15</span>,
            <span class="hljs-string">"question"</span>: <span class="hljs-string">"Is 2 + 2 equal to 5?"</span>,
            <span class="hljs-string">"answer"</span>: <span class="hljs-literal">true</span>
        }
    ]
}<span class="hljs-comment">;</span>
</code></pre><p>You can then either insert this data in bulk, or insert it as a single document:</p>
<pre><code>    nanoDb.insert(npcs, docName, function(<span class="hljs-keyword">err</span>, body) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">err</span>) {
            console.log(body)<span class="hljs-comment">;</span>
        } <span class="hljs-keyword">else</span> {
            console.log(<span class="hljs-keyword">err</span>)<span class="hljs-comment">;</span>
        }
    })<span class="hljs-comment">;</span>
</code></pre><p>I have created a program in <strong>JsObjects</strong> called CouchView02. It demonstrates all your options:</p>
<ul>
<li>Insert a single document<ul>
<li>Retrieve the JSON for whole document</li>
<li>Retrieve the JSON for a view of the document</li>
</ul>
</li>
<li>Insert a bulk document<ul>
<li>Use a view to retreive the JSON for an array of the all the bulk documents</li>
<li>Use handlebars to get a templated HTML file that formats the array of bulk documents</li>
</ul>
</li>
</ul>
<p>You can also retrieve an HTML view of the single document, or retrieve an array of all the fields of the bulk documents.</p>
<p>To help you understand better, I created a video: <a href="http://youtu.be/Hy8XkmoEReU_">http://youtu.be/Hy8XkmoEReU</a></p>
<p>Store the data in a database, and include at least two views: one to retrieve the <strong>npc_id</strong>, <strong>npc_name</strong> and <strong>value</strong>. Another should retrieve the <strong>npc_id</strong>, <strong>npc_name</strong>, <strong>question</strong> and <strong>answer</strong>.</p>
<p>You program should include working menu items of links that allow you to:</p>
<ul>
<li>Create the database</li>
<li>Delete the database</li>
<li>Insert data into the database</li>
<li>View:<ul>
<li>All the NPC data</li>
<li>View each of the two views described above</li>
</ul>
</li>
</ul>
<p><strong>FOR LATER</strong>: Use <strong>handlebars</strong> to create HTML <em>templates</em> that show the various views of your data. This is all in the GameListener or in Helper App.</p>
</div></body></html>