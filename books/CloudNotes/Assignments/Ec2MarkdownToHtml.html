<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>Ec2MarkdownToHtml</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><!-- link(href='/libs/css/BootstrapIndex.css', rel='stylesheet', type='text/css')--><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><!-- script(src='/libs/scripts/elvenware.js', type='text/javascript')--><script src="/libs/scripts/Control.js"></script><!-- script(src='http://localhost:35729/livereload.js')--></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>Ec2MarkdownToHtml</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#update">Update</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#bitmaps">Bitmaps</a></li>
<li><a href="#css">CSS</a></li>
<li><a href="#turn-it-in">Turn it in</a></li>
<li><a href="#workflow">Workflow</a></li>
<li><a href="#hint">Hint</a></li>
<li><a href="#renewmakehtml">renewMakeHtml</a></li><!--TOC_End--></ul><h2 id="overview">Overview</h2>
<p>The goal of the EC2 Markdown to Html assignment is set up MakeHtml on our EC2 instances, and to learn a bit about:</p>
<ul>
<li>Working with bitmaps.</li>
<li>Working CSS</li>
<li>Viewing your pages on a mobile device</li>
</ul>
<p>Part of the midterm will be to create a web site on EC2 using our Markdown to HTML technology. You will be able asked to choose a theme for your website, and the content that should appear on it.</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/make-html-work-flow.png" alt="MakeHtmlWorkFlow"></p>
<p>When doing this assignment, you might consider focusing on some subject that you would like to explore on the midterm. For instance, if you want your midterm website to be about the Mars rover missions, then you might want to consider choosing bitmaps about that subject while working on this assignment. I mention this only as a heads up, there is no requirement, nor am I expecting, that you have a complete theme in this assignment. Nor am I asking you to pick any particular type of bitmap to display. I simply want to let you know where we are headed, so you can make informed choices.</p>
<p>You can and should pick a topic that interests you. If no idea comes to mind, then possible topics include:</p>
<ul>
<li>A resume</li>
<li>Favorite Music</li>
<li>Favorite Books</li>
<li>Favorite Movies</li>
<li>Hobbies</li>
<li>Interests</li>
</ul>
<p>Don&#39;t try to polish or make your site fancy at this stage. Just try to get it working.</p>
<h2 id="update">Update</h2>
<p>MakeHtml has been updated. On Pristine Lubuntu, copy over the new version.</p>
<p>Begin the process by updating JsObjects:</p>
<pre><code><span class="hljs-keyword">jo
</span>git pull
</code></pre><p>Rename your old version:</p>
<pre><code><span class="hljs-built_in">cd</span> ~/Source
mv MakeHtml MakeHtml.old
</code></pre><p>Copy in the new version and run it to be sure it works:</p>
<pre><code>cp -r $JSOBJECTS/JavaScript/NodeCode/MakeHtml .
cd MakeHtml
npm install
npm <span class="hljs-keyword">start</span>
</code></pre><p>See this code in the config folder:</p>
<pre><code>{
  "<span class="hljs-attr">calvert</span>": {
    "<span class="hljs-attr">base-dir</span>": <span class="hljs-string">"/home/bcuser/"</span>,
    "<span class="hljs-attr">site-dirs</span>": [
      <span class="hljs-string">"Documents/AllTest"</span>,
      <span class="hljs-string">"Documents/AllSite"</span>
    ],
    "<span class="hljs-attr">destination-dirs</span>": [
      <span class="hljs-string">"/var/www/html/"</span>,
      <span class="hljs-string">"/home/bcuser/temp/test-site/"</span>
    ]
  }
}
</code></pre><p>You can use this file to specify where to copy markdown files from, and where to copy HTML to. By default, the first item in each list will be used.</p>
<p><strong>NOTE</strong>: <em>You may need to modify this file, and particularly the <strong>base-dir</strong> to fit your system.</em></p>
<h2 id="getting-started">Getting Started</h2>
<p>While still on Pristine Lubuntu, follow the instructions in the [Lamp Markdown] assignment and create a site that you like on the Pristine Lubuntu Apache server. Copy your markdown files to your Git repository. Push them.</p>
<p>On EC2, pull your repository. Copy your files back out to a directory called <strong>Documents/AllTest</strong>:</p>
<pre><code><span class="hljs-built_in">mkdir</span> ~/Documents
<span class="hljs-built_in">mkdir</span> ~/Documents
<span class="hljs-keyword">cp</span> -<span class="hljs-keyword">r</span> AllTest ~/Documents/.
</code></pre><p>Don&#39;t forget to set up permissions on <strong>/var/www/html</strong>:</p>
<pre><code>sudo chown -R <span class="hljs-string">ubuntu:</span>ubuntu <span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/html/</span>
</code></pre><p>Set up the MakeHtml program on EC2. Run it. Access your website using your Elastic IP address.
Repeat the process of developing your site on Pristine Lubuntu, pushing it to your repository, and then pulling on EC2.</p>
<p><strong>NOTE</strong>: <em>The point here is that an EC2 server instance does not make a good development machine. Do your development on Pristine Lubuntu, then use Git to transfer your files EC2, and to ultimately display the result in your web site.</em></p>
<p><strong>NOTE</strong>: <em>Some of you may be interested in setting up a domain name, rather than using a raw IP address. We will very likely do that, but later in the course.</em></p>
<h2 id="bitmaps">Bitmaps</h2>
<p>Go into and create three documents on any subject you like. Include at least one picture in each document. The pictures can come from anywhere. They need not be pictures you create. To help you get started, you can use the image icon at the top of <em>Remarkable</em>. Just paste in the URL of your picture. As a rule, you want to select smaller images so that they do not take up to much space on your page, but we will talk some about changing the size of a picture in the next section.</p>
<p>You can search for the images on the <a href="http://commons.wikimedia.org/wiki/Main_Page">Wiki Media Commons</a>. These images are free to use and usually come without complex copyright issues.</p>
<p><strong>NOTE</strong>: <em>It is important that you don&#39;t take images from sites at random. Many images on the web are copyrighted and require payment before they can be used on your site. We are constructing a public site, and we don&#39;t want to bring the &quot;long arm of the law&quot; down on you or Bellevue College.</em></p>
<p>When looking on WikiMedia, there are two approaches. First, try one of these searches:</p>
<ul>
<li><a href="https://commons.wikimedia.org/wiki/Commons:Featured_pictures">Featured Pictures</a></li>
<li><a href="https://commons.wikimedia.org/wiki/Commons:Quality_images">Quality Pictures</a></li>
<li><a href="https://commons.wikimedia.org/wiki/Commons:Valued_images">Valued Pictures</a></li>
</ul>
<p>Alternatively, go to the <a href="http://commons.wikimedia.org/wiki/Main_Page">main page</a> and use the search box on the top right. For instance, search on <strong>Mountains</strong>.</p>
<p>Once you see an image you like:</p>
<ul>
<li>Click on it.</li>
<li>Choose <strong>More Details</strong> at bottom right.</li>
<li>Right lick on image sizes beneath the picture, choosing one that is approximately 640X480.  </li>
<li>Choose <strong>Copy Location</strong>, <strong>Copy Link Address</strong>  or some similar option.</li>
<li>Click on the Image icon at the top of StackEdit and paste in the URL of your image.</li>
</ul>
<p>Example results:</p>
<p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Sunrise%2C_Manaslu.jpg/640px-Sunrise%2C_Manaslu.jpg" alt="Foo"></p>
<p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Contrasting_Tree_Types_Coexist_in_a_Forest.jpg/640px-Contrasting_Tree_Types_Coexist_in_a_Forest.jpg" alt="enter image description here"></p>
<p>When working with bitmaps, see also:</p>
<ul>
<li><a href="http://www.ccalvert.net/books/CloudNotes/Assignments/LampMarkdown.html#step-four">LampMarkDown</a></li>
<li><a href="http://www.ccalvert.net/books/CloudNotes/Assignments/MarkdownBasics.html#creating-pictures">MarkdownBasics</a></li>
</ul>
<h2 id="css">CSS</h2>
<p>As you already know, you can enter bang, square brackets and a title, then parenthesis and a URL to display a picture with markdown. A bit like this, where you text is flush left:</p>
<pre><code>![<span class="hljs-string">Title</span>](<span class="hljs-link">http://foo.com/my-picture.png</span>)
</code></pre><p>The above code yields a picture with a default size:</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Manhattan_Bridge_Construction_1909.jpg/800px-Manhattan_Bridge_Construction_1909.jpg" alt="Bridge"></p>
<p>If you want to get more control over the picture, you can use CSS. This usually involves writing real HTML in your markdown, and including a class. Here is my simple CSS class:</p>
<pre><code class="lang-css"><span class="hljs-selector-tag">img</span><span class="hljs-selector-class">.twenty-five-percent</span> {
   <span class="hljs-attribute">width</span>: <span class="hljs-number">25%</span>;
}
</code></pre>
<p>You should put the CSS in <strong>/var/www/html/css/style.css</strong>.</p>
<p>And here is the HTML code for using this new CSS class:</p>
<pre><code class="lang-html">&lt;img <span class="hljs-keyword">class</span>=<span class="hljs-string">"twenty-five-percent"</span> src=<span class="hljs-string">"https://foo.com/my-picture.jpg"</span> alt=<span class="hljs-string">"bridge"</span>&gt;
</code></pre>
<p><img class="twenty-five-percent" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Manhattan_Bridge_Construction_1909.jpg/800px-Manhattan_Bridge_Construction_1909.jpg" alt="bridge"></p>
<p>You can paste the line with the HTML IMG tag in it directly into your markdown file while using Remarkable. Markdown supports both markdown itself, and HTML. When using markdown, you can just switch to HTML as needed:</p>
<pre><code><span class="hljs-comment">## Some Header</span>

Some markdown <span class="hljs-built_in">text</span>. You can mix HTML <span class="hljs-keyword">and</span> markdown <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> same <span class="hljs-built_in">file</span>.

&lt;img <span class="hljs-built_in">class</span>=<span class="hljs-string">"twenty-five-percent"</span> src=<span class="hljs-string">"https://foo.com/my-picture.jpg"</span> alt=<span class="hljs-string">"bridge"</span>&gt;
</code></pre><p>For all this to work, make sure you are using the most recent version of MakeHtml, as explained near the top of the file. In particular, the new version of <strong>MakeHtml</strong> includes code that loads <strong>style.css</strong>.</p>
<h2 id="turn-it-in">Turn it in</h2>
<p>Provide a link to your web site so that I can view it. It should look something like this:</p>
<pre><code><span class="hljs-string">http:</span><span class="hljs-comment">//XX.XX.XX.XX/master-list.html</span>
</code></pre><p>Here XX.XX.XX.XX is your elastic IP address, and <strong>master-list.html</strong> is some valid page on your site that links to your other pages either directly or indirectly.</p>
<p> When you submit the assignment, include at least two pictures:</p>
<ul>
<li>One of your web site on a page that shows a bitmap</li>
<li>One of the output generated from running the MakeHtml program at the EC2 ubuntu command prompt.</li>
</ul>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/create-web-site-activities.png" alt="Create Site Activies"></p>
<h2 id="workflow">Workflow</h2>
<p>Here is the typical workflow when setting up the web site on EC2:</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/update-site-on-ec2.png" alt="Workflow on EC2"></p>
<h2 id="hint">Hint</h2>
<p>Check <strong>~/Source/MakeHtml/config/ElvenConfig.json</strong> to make sure it is compatible with your system. In particular, check the &quot;base-dir&quot;, which assumes that your home path is <strong>/home/bcuser</strong>.</p>
<pre><code class="lang-json">{
  "<span class="hljs-attr">calvert</span>": {
    "<span class="hljs-attr">base-dir</span>": <span class="hljs-string">"/home/bcuser/"</span>,
    "<span class="hljs-attr">site-dirs</span>": [
      <span class="hljs-string">"Documents/AllTest"</span>,
      <span class="hljs-string">"Documents/AllSite"</span>
    ],
    "<span class="hljs-attr">destination-dirs</span>": [
      <span class="hljs-string">"/var/www/html/"</span>,
      <span class="hljs-string">"/home/bcuser/temp/test-site/"</span>
    ]
  }
}
</code></pre>
<h2 id="renewmakehtml">renewMakeHtml</h2>
<p>In the root of the <strong>MakeHtml</strong> is a program called <strong>renewmakeHtml</strong>. You can copy this program in the ~/Source directory.</p>
<p>Whenever we run <strong>renewMakeHtml</strong> from the <strong>~/Source</strong> directory, it will copy a new version of <strong>MakeHtml</strong> into a directory called <strong>Source/MakeHtml</strong>. First it deletes any existing <strong>~/Source/MakeHtml</strong> directory, then it copies in an updated version of the program. This will overwrite our changes to <strong>ElvenConfig.json</strong>. We therefore should:</p>
<ul>
<li>Just use <strong>MakeHtml</strong> unless Charlie says there is an update, or you learn that there is an update.<ul>
<li>To run <strong>MakeHtml</strong> do this: <strong>cd ~/Source/MakeHtml</strong> and then <strong>npm start</strong></li>
</ul>
</li>
<li>If you there is an update, then run <strong>renewMakeHtml</strong> from the <strong>~/Source</strong> directory<ul>
<li>The <strong>renewMakeHtml</strong> script automatically runs <strong>npm install.</strong></li>
<li>We need to run <strong>npm install</strong> only once. We run <strong>npm start</strong> every time we want to start/run the program.</li>
</ul>
</li>
<li>After running <strong>renewMakeHtml</strong> navigate (<strong>cd MakeHtml</strong>) into the <strong>MakeHtml</strong> directory and edit <strong>config/ElvenConfig.json</strong> as appropriate: <strong>nano config/ElvenConfig.json</strong></li>
<li>Now run <strong>MakeHtml</strong> as shown above.</li>
</ul>
<p>When on pristine Lubuntu ElvenConfig should look like this:</p>
<pre><code class="lang-json">{
  "<span class="hljs-attr">calvert</span>": {
    "<span class="hljs-attr">base-dir</span>": <span class="hljs-string">"/home/bcuser/"</span>,
    "<span class="hljs-attr">site-dirs</span>": [
      <span class="hljs-string">"Documents/AllTest"</span>,
      <span class="hljs-string">"Documents/AllSite"</span>
    ],
    "<span class="hljs-attr">destination-dirs</span>": [
      <span class="hljs-string">"/var/www/html/"</span>,
      <span class="hljs-string">"/home/bcuser/temp/test-site/"</span>
    ]
  }
}
</code></pre>
<p>When on EC2, ElvenConfig should look like this:</p>
<pre><code class="lang-json">{
  "<span class="hljs-attr">calvert</span>": {
    "<span class="hljs-attr">base-dir</span>": <span class="hljs-string">"/home/ubuntu/"</span>,
    "<span class="hljs-attr">site-dirs</span>": [
      <span class="hljs-string">"Documents/AllTest"</span>,
      <span class="hljs-string">"Documents/AllSite"</span>
    ],
    "<span class="hljs-attr">destination-dirs</span>": [
      <span class="hljs-string">"/var/www/html/"</span>,
      <span class="hljs-string">"/home/ubuntu/temp/test-site/"</span>
    ]
  }
}
</code></pre>
</div></body></html>