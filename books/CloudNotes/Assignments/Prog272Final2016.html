<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>Prog272Final2016</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><!-- link(href='/libs/css/BootstrapIndex.css', rel='stylesheet', type='text/css')--><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><!-- script(src='/libs/scripts/elvenware.js', type='text/javascript')--><!-- script(src="/libs/scripts/Control.js")--><!-- script(src='http://localhost:35729/livereload.js')--></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>Prog272Final2016</h1><p>Welcomes to Prog272Final2016</p><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#images">Images</a></li>
<li><a href="#core-files">Core Files</a></li>
<li><a href="#jade-routes">Jade Routes</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#settings">Settings</a></li>
<li><a href="#settings-model">Settings-Model</a></li>
<li><a href="#settings-database">Settings-Database</a></li>
<li><a href="#settings-home-page">Settings Home Page</a></li>
<li><a href="#settings-options">Settings Options</a></li>
<li><a href="#database">Database</a></li>
<li><a href="#data-choice">Data Choice</a></li>
<li><a href="#containers">Containers</a></li><!--TOC_End--></ul><h2 id="overview">Overview</h2>
<p>The Prog 272 Final for 2016 should contain, at minimum, the following elements:</p>
<ul>
<li>Home and About pages</li>
<li>Renewables page</li>
<li>Renewables by index</li>
<li>Renewables by Year</li>
</ul>
<p>This demonstrates that you understand the basics taught in the course, that you came to class regularly, and made a good faith effort to complete the course.</p>
<p>Your next priority should be to:</p>
<ul>
<li>Thoroughly refactor your code into<ul>
<li>Renewable folders on the client and server</li>
<li>Files in the routes directory for handling various tasks such as responding to requests for  <strong>renewables</strong> data, <strong>high-tech-energy</strong> data and <strong>settings</strong> data.</li>
</ul>
</li>
<li>At least one of the following:<ul>
<li>High Tech Energy Overview Page</li>
<li>High Tech Energy Types Page</li>
</ul>
</li>
</ul>
<p>This demonstrates your ability to take some of the concepts taught in the core portion of the course and implement them on your own with a minimum of hand holding.</p>
<p>Finally, you should work to add database elements:</p>
<ul>
<li>Database page to import JSON data into MongoDB and display it.</li>
<li>Settings page pulling and setting data in MongoDB</li>
<li>Ability to use either JSON or MongoDB as your datasource</li>
<li>Ability to use the settings page to dynamically switch back and forth between displaying JSON data and MongoDB data.</li>
</ul>
<p>Extra credit</p>
<ul>
<li>Dynamically switch back and forth between using mLab and local data.</li>
</ul>
<h2 id="images">Images</h2>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/prog272-final-2016-01.png" alt="Main Page"></p>
<p><strong>Figure 01</strong>: <em>The home page of the final.</em></p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/prog272-final-2016-02.png" alt="Database Page"></p>
<p><strong>Figure 01</strong>: <em>The database page is import JSON data into the MongoDb database. In this screenshot you can see many of the menu items.</em></p>
<h2 id="core-files">Core Files</h2>
<p>Some key files and commands:</p>
<ul>
<li>models/renewables.js</li>
<li>routes/connect.js</li>
<li>routes/all-mongo.js</li>
<li>public/javascript/database.js</li>
</ul>
<p>Some files that need to change:</p>
<ul>
<li>public/javascript/app.js</li>
<li>app.js</li>
</ul>
<p>npm install mongoose --save</p>
<h2 id="jade-routes">Jade Routes</h2>
<p>Read the <a href="http://www.elvenware.com/charlie/development/web/JavaScript/NodeJade.html#loading-jade">Loading Jade</a> section in the Elvenware Jade page.</p>
<p>See the <a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/NodeCode/JadeRoutes">JadeRoutes</a> program from JsObjects.</p>
<h2 id="testing">Testing</h2>
<p>If you are having trouble getting your tests to run, don&#39;t forget to review the <a href="http://www.ccalvert.net/books/CloudNotes/Assignments/Prog272Midterm2016.html#testing">testing section from the midterm</a>. Focus on comparing your karma.conf.js file with the one in the my [JasmineRequireJs][jas-req-js] example program.</p>
<p>You will find the tests for the midterm here:</p>
<ul>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/Utilities/Templates/UnitTest/SolarVoyager">JsObjects/Utilities/Templates/UnitTest/SolarVoyager</a></li>
</ul>
<h2 id="settings">Settings</h2>
<p>To help you get started using database in your app, let&#39;s add the ability to track some settings in MongoDB.</p>
<h2 id="settings-model">Settings-Model</h2>
<p>We want to save settings:</p>
<p>The model looks like this, only use your last name:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mongoose'</span>);

<span class="hljs-keyword">var</span> settingsSchema = mongoose.Schema({
    <span class="hljs-string">"keyNote"</span>: <span class="hljs-built_in">String</span>,
    <span class="hljs-string">"dataSource"</span>: <span class="hljs-built_in">String</span>,
    <span class="hljs-string">"dataType"</span>: <span class="hljs-built_in">String</span>,
    <span class="hljs-string">"comment"</span>: <span class="hljs-built_in">String</span>
});

<span class="hljs-built_in">module</span>.exports = mongoose.model(<span class="hljs-string">'prog272_lastname_setting'</span>, settingsSchema);
</code></pre>
<p><strong>NOTE</strong>: <em>Please do not use hypens (-) in your model (collection) names. They work okay in mongoose, but the mongo shell has a hard time with them. Use underscores instead.</em></p>
<p>Good: <strong>module.exports = mongoose.model(&#39;prog272_lastname_setting&#39;, settingsSchema);</strong>
Bad: <strong>module.exports = mongoose.model(&#39;prog272-lastname-setting&#39;, settingsSchema);</strong>
Bad: <strong>module.exports = mongoose.model(&#39;prog272LastnameSetting&#39;, settingsSchema);</strong></p>
<h2 id="settings-database">Settings-Database</h2>
<p>Create a file in <strong>routes</strong> called <strong>database-settings.js</strong>. Make appropriate changes in <strong>app.js</strong>. Beside the standard code, such as requiring <strong>connect.js</strong>, also include this:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// CODE OMITTED HERE</span>

var settings = require(<span class="hljs-string">'../models/settings'</span>)<span class="hljs-comment">;</span>

<span class="hljs-comment">// CODE OMITTED HERE</span>

function saveSettings(request, response) {
    console.log(<span class="hljs-string">'request body'</span>, request.body)<span class="hljs-comment">;</span>

    var newSettings = new settings({
        <span class="hljs-string">"keyNote"</span>: <span class="hljs-string">'settings'</span>,
        <span class="hljs-string">"dataSource"</span>: request.body.dataSource,
        <span class="hljs-string">"dataType"</span>: request.body.dataType,
        <span class="hljs-string">"comment"</span>: request.body.comment
    })<span class="hljs-comment">;</span>

    console.log(<span class="hljs-string">'inserting'</span>, newSettings.comment)<span class="hljs-comment">;</span>

    newSettings.save(function(<span class="hljs-keyword">err</span>) {
        console.log(<span class="hljs-string">'saved: '</span>, newSettings.dataSource, newSettings.dataType, newSettings.comment)<span class="hljs-comment">;</span>
        response.send({ result: <span class="hljs-string">'success'</span>, query: request.body})<span class="hljs-comment">;</span>

    })<span class="hljs-comment">;</span>
}

router.post(<span class="hljs-string">'/updateSettings'</span>, function(request, response) {
    console.log(<span class="hljs-string">'request body'</span>, request.body)<span class="hljs-comment">;</span>
    <span class="hljs-keyword">if</span> (!connect.connected) {
        connect.doConnection()<span class="hljs-comment">;</span>
    }

    settings.findOne({keyNote: <span class="hljs-string">'settings'</span>}, function(<span class="hljs-keyword">err</span>, doc) {
        console.log(<span class="hljs-string">'findone'</span>, <span class="hljs-keyword">err</span>, doc)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">err</span>) {
            response.send({result: <span class="hljs-string">'error'</span>})<span class="hljs-comment">;</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span>(doc === null) {
                saveSettings(request, response)<span class="hljs-comment">;</span>
            } <span class="hljs-keyword">else</span> {
                doc.dataType = request.body.dataType<span class="hljs-comment">;</span>
                doc.dataSource = request.body.dataSource<span class="hljs-comment">;</span>
                doc.comment = request.body.comment<span class="hljs-comment">;</span>
                doc.save()<span class="hljs-comment">;</span>
                response.send( {result: <span class="hljs-string">'success'</span>, query: request.body })<span class="hljs-comment">;</span>
            }
        }
    })<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>

router.get(<span class="hljs-string">'/getSettings'</span>, function(request, response) {
    console.log(<span class="hljs-string">'request body'</span>, request.body)<span class="hljs-comment">;</span>
    <span class="hljs-keyword">if</span> (!connect.connected) {
        connect.doConnection()<span class="hljs-comment">;</span>
    }

    settings.findOne({keyNote: <span class="hljs-string">'settings'</span>}, function(<span class="hljs-keyword">err</span>, doc) {
        console.log(<span class="hljs-string">'findone'</span>, <span class="hljs-keyword">err</span>, doc)<span class="hljs-comment">;</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">err</span>) {
            response.send({result: <span class="hljs-string">'error'</span>})<span class="hljs-comment">;</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span>(doc === null) {
                response.send({settings: {dataType: <span class="hljs-string">'Database'</span>, dataSource: <span class="hljs-string">'Local MongoDb'</span>, comment: <span class="hljs-string">'Default Comment'</span>}})
            } <span class="hljs-keyword">else</span> {
                response.send({settings: doc})<span class="hljs-comment">;</span>
            }
        }
    })<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<h2 id="settings-home-page">Settings Home Page</h2>
<p>Update <strong>home.jade</strong></p>
<pre>
.container
    .jumbotron
        h1 Home Page

    .panel.panel-default
        .panel-heading Renewable
        .panel-body
            form#target(method='post', action='/bar')
                select#dataType(name='dataType')
                    option Database
                    option JSON
                hr
                select#dataSource(name='dataSource')
                    option Local MongoDb
                    option MLab
                hr
                input#comment(type="text", name='comment' value='foo')
                hr
                input.btn.btn-success(type="submit", value='Submit')

    .panel.panel-default
        .panel-heading Renewable
        .panel-body
            .alert.alert-info
                pre#debug

</pre>

<p>Update <strong>home.js</strong></p>
<pre><code class="lang-javascript"><span class="hljs-comment">/**
 * Created by charlie on 5/18/16.
 */</span>

define(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    'use strict'</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSettings</span>(<span class="hljs-params"></span>) </span>{
        $.getJSON(<span class="hljs-string">'/databaseSettings/getSettings'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
            $(<span class="hljs-string">'#debug'</span>).html(<span class="hljs-built_in">JSON</span>.stringify(response, <span class="hljs-literal">null</span>, <span class="hljs-number">4</span>));
            $(<span class="hljs-string">'#dataType'</span>).val(response.settings.dataType);
            $(<span class="hljs-string">'#dataSource'</span>).val(response.settings.dataSource);
            $(<span class="hljs-string">'#comment'</span>).val(response.settings.comment);
        })
            .fail(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error'</span>, a, b, c);
                $(<span class="hljs-string">'#debug'</span>).html(<span class="hljs-string">'Error occured: '</span>, a.status);
            })
            .done(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'second success'</span>);
            })
            .always(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'complete'</span>);
            });
    }

    <span class="hljs-keyword">var</span> home = {
        color: <span class="hljs-string">'red'</span>,
        size: <span class="hljs-string">'big'</span>,
        init: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-built_in">console</span>.log(home.color);
            $(<span class="hljs-string">'#elf-view'</span>).load(<span class="hljs-string">'/home'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                $(<span class="hljs-string">'#display'</span>).html(home.color);
                $(<span class="hljs-string">'#display2'</span>).html(home.size);
                getSettings();
                $(<span class="hljs-string">"#target"</span>).submit(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    event.preventDefault();
                    <span class="hljs-keyword">var</span> userFormData = $(<span class="hljs-keyword">this</span>).serialize();
                    $(<span class="hljs-string">'#debug'</span>).html(userFormData);
                    <span class="hljs-keyword">var</span> userData = {
                        dataType: $(<span class="hljs-string">'#dataType'</span>).val(),
                        dataSource: $(<span class="hljs-string">'#dataSource'</span>).val(),
                        comment: $(<span class="hljs-string">'#comment'</span>).val()
                    };
                    $.post(<span class="hljs-string">'/databaseSettings/updateSettings'</span>, userData, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result</span>) </span>{
                        $(<span class="hljs-string">'#debug'</span>).html(<span class="hljs-built_in">JSON</span>.stringify(result, <span class="hljs-literal">null</span>, <span class="hljs-number">4</span>));
                        <span class="hljs-built_in">console</span>.log(settings);
                    });
                });

            });
        }
    };
    <span class="hljs-keyword">return</span> home;
});
</code></pre>
<h2 id="settings-options">Settings Options</h2>
<p>You know how to load and save the settings for your application. The next step is to change the behavior of the application based on those settings.</p>
<p>The user can choose to read data from either the database or a JSON file:</p>
<ul>
<li>Database</li>
<li>JSON</li>
</ul>
<p>Let&#39;s capture that choice in a simple object to be stored in its own file called <strong>public/javascripts/settings.js</strong>:</p>
<pre><code class="lang-javascript">define(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
   <span class="hljs-keyword">return</span> {
        useDatabase: <span class="hljs-literal">true</span>,
        useLocalMongoDb: <span class="hljs-literal">true</span>,
        report: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'useDatabase'</span>, <span class="hljs-keyword">this</span>.useDatabase);
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'useLocalMongoDb'</span>, <span class="hljs-keyword">this</span>.useLocalMongoDb)
        },
        setSettings: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">settings</span>) </span>{
            <span class="hljs-keyword">this</span>.useDatabase = settings.dataType.toLowerCase() === <span class="hljs-string">'database'</span>;
            <span class="hljs-keyword">this</span>.useLocalMongoDb = settings.dataSource.toLowerCase() === <span class="hljs-string">'local mongodb'</span>;
            <span class="hljs-keyword">this</span>.report()
        }
    };
});
</code></pre>
<p>Given this object, we can now decide whether to get our data from the database or from a JSON file depending on the options the user choose. For instance, in <strong>public/javascripts/renewables/renewables.js</strong>, we can use the require js dependency injection to access the settings object and decide whether or not to use the mongodb database:</p>
<pre><code class="lang-javascript">define([<span class="hljs-string">'jquery'</span>, <span class="hljs-string">'settings'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$, settings</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;

    <span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>;
    <span class="hljs-comment">//var useDatabase = true;</span>

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRenewable</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">//console.log('getRenewable called');</span>
        <span class="hljs-keyword">var</span> routeType = settings.useDatabase ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>;

        <span class="hljs-keyword">var</span> renewableRoutes = [<span class="hljs-string">'/allRenewables'</span>, <span class="hljs-string">'/renewables'</span>];
        $.getJSON(renewableRoutes[routeType], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
            <span class="hljs-comment">// CODE OMITTED HERE</span>
        });
    }
});
</code></pre>
<p>Your job is to make sure the settings are set correctly when the user either loads or saves the settings from the database. This typically takes place in <strong>home.js</strong> Again, you will use dependency injection to access the settings object:</p>
<pre><code class="lang-javascript">define([<span class="hljs-string">'settings'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(settings)</span> </span>{
  <span class="hljs-comment">// MAKE SURE THE SETTINGS ARE SAVED TO THE settings OBJECT</span>
  <span class="hljs-comment">// CODE OMITTED HERE</span>
});
</code></pre>
<p>The exact details of what happens in <strong>home.js</strong> are left as an exercise. You will have to add only a small amount of code that saves the settings to the <strong>settings</strong> object. This will involve a call to <strong>settings.setSettings()</strong>.</p>
<h2 id="database">Database</h2>
<p>Make sure you put your preface your collections with prog219 and end them with your last name:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">module</span>.exports = mongoose.model(<span class="hljs-string">'prog219_calvert_renewables'</span>, renewablesSchema);
</code></pre>
<p><strong>NOTE</strong>: <em>Please do not use hypens (-) in your model (collection) names. They work okay in mongoose, but the mongo shell has a hard time with them. Let&#39;s use underscores instead.</em></p>
<p>In <strong>routes/connect.js</strong>, set your simple url to use a dbs called renew:</p>
<pre><code class="lang-javascript"><span class="hljs-variable"><span class="hljs-keyword">var</span> url</span>= 'mongodb:<span class="hljs-comment">//127.0.0.1:27017/renew';</span>
</code></pre>
<p><strong>NOTE</strong>: <em>Recall that I will be grading many assignments. I don&#39;t want the data in my Mongo Lab (MLab) database as there will be too much of it. So I&#39;m going to put it in my local database. There will be a lot of data in there, and I need to know who created which collections. As a result, this naming scheme is essential.</em></p>
<p>If you are in both prog219 and prog272, and your last name is ng, then I&#39;m expecting to see something like this in the mongo shell:</p>
<pre>
> show collections
prog219_calvert_renewables
prog272_calvert_renewables
prog219_ng_renewables
prog272_ng_renewables
renewables
</pre>

<h2 id="data-choice">Data Choice</h2>
<p>The database has already translated the unusable keys from our raw data into usable keys. But if we read directly from the JSON, then we have not done so. This means we have to have a special case for when we use JSON data and when we use Database data.</p>
<p>Create a variable called <strong>useDatabase</strong>.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> useDatabase = <span class="hljs-literal">false</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRenewable</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//console.log('getRenewable called');</span>
    <span class="hljs-keyword">var</span> routeType = useDatabase ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>;

    <span class="hljs-keyword">var</span> renewableRoutes = [<span class="hljs-string">'/allRenewables'</span>, <span class="hljs-string">'/renewables'</span>];
    $.getJSON(renewableRoutes[routeType], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
            renewables.renewablesList = response.renewables;
            showRenewable(renewables.renewablesList[index]);
            etc....
    })
</code></pre>
<p>Then in <strong>showRenewable</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showRenewable</span><span class="hljs-params">(renewable)</span> </span>{
    <span class="hljs-keyword">if</span> (!useDatabase) {
        renewable = getSimpleKeys(renewable);
    }
</code></pre>
<h2 id="containers">Containers</h2>
<p>I&#39;ve noticed a lot of student&#39;s applications don&#39;t look quite right on a large screen. The problem is that the various &quot;pages&quot; we are loading are not restricted to the middle of the screen, but instead &quot;bleed&quot; off to the right and left. To fix this, put them inside a container. Consider the jade for our standard <strong>about.jade</strong> page. This is not right because there is no container:</p>
<pre>
h1 About
p version 2.0

p#display

p#display2
</pre>

<p>This is right because the content is inside a container:</p>
<pre>
.container
    h1 About
    p version 2.0

    p#display

    p#display2
</pre>

<p>Try adding a container to all your pages. Not to the jade for a directive, but the jade used to define the appearance of a page. For instance, <strong>renewables-page.jade</strong>.</p>
<p><strong>NOTE</strong>: <em>On a low resolution screen, or on a mobile device, you can&#39;t tell the difference between the two sets of jade shown above. But on a big screen, when the app is maximized, it becomes obvious. The screens at school are certainly big enough to show this.</em></p>
</div></body></html>