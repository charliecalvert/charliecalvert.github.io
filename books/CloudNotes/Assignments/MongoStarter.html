<!DOCTYPE html>
<html dir="ltr">

<head>
	<meta charset="utf-8" />
	<title>MongoStarter</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="/charlie/images/favicon.png">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
	<!-- Optional theme -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css">
	<link href="/charlie/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css" />
	<!-- Latest compiled and minified JavaScript - Move to bottom of body element -->
	<script src="//code.jquery.com/jquery.js"></script>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
	<script src="/charlie/libs/scripts/elvenware.js" type="text/javascript"></script>
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-2806409-2']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
</head>

<body>



	<!-- removed  navbar-fixed-top -->
	<div class="navbar navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="icon-bar"> </span>
					<span class="icon-bar"> </span>
					<span class="icon-bar"> </span>
				</button>
				<a class="navbar-brand" href="/charlie/index.html">Elvenware</a>
			</div>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="/charlie/index.html">Home</a></li>
					<li><a href="/charlie/contents.html">About</a></li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
						<ul class="dropdown-menu">
							<li class="dropdown-header">Core Code</li>
							<li><a href="/charlie/development/index.html">Strongly Typed</a></li>
							<li><a href="/charlie/development/web/index.html">Web &amp; Scripts</a></li>
							<li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li>
							<li class="divider"></li>
							<li class="dropdown-header">OS and Tools</li>
							<li><a href="/charlie/os/index.html">OS</a></li>
							<li><a href="/charlie/development/database/index.html">Database</a></li>
							<li><a href="/charlie/books/index.html">My Writing</a></li>
							<li class="divider"></li>
							<li class="dropdown-header">Art</li>
							<li><a href="/charlie/Art/index.html">Poems &amp; Photos</a></li>
							<li><a href="/charlie/books/reading/index.html">Book Reviews</a></li>
							<li><a href="/charlie/spirit/index.html">Spiritual</a></li>
							<li class="divider"></li>
							<li class="dropdown-header">Links</li>
							<li><a href="/charlie/links.html">My Links</a></li>
							<li><a href="http://www.github.com/charliecalvert">GitHub</a></li>
							<li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li>
						</ul>
					</li>
				</ul>
			</div><!--/.nav-collapse -->
		</div>
	</div>

	<div class="container">

		<div class="starter-template">
			<figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png" /></figure>
<h2>Table of Contents</h2>
<ul class="elfTocHeading">
	<li><a href='#in-class-mongo'>In Class Mongo</a></li>
	<li><a href='#step-1-mongo-account'>Step 1: Mongo Account</a></li>
	<li><a href='#step-2-install-mongo-on-linux'>Step 2: Install Mongo on Linux</a></li>
	<li><a href='#step-3-mongotalk.json'>Step 3: MongoTalk.json</a></li>
	<li><a href='#step-04-insert-data'>Step 04: Insert Data</a></li>
	<li><a href='#step-05-view-the-data-in-the-database'>Step 05: View the data in the database</a></li>
	<li><a href='#step06-mongolab-urls-and-users'>Step06: MongoLab URLs and Users</a></li>
	<li><a href='#step07-an-express-mongo-program'>Step07: An Express Mongo Program</a></li>
	<li><a href='#step-08-build-the-client'>Step 08: Build the client</a></li>
</ul>
<h1 id="in-class-mongo">In Class Mongo</h1>
<h2 id="step-1-mongo-account">Step 1: Mongo Account</h2>
<p>Create an account on <a href="https://mongolab.com/">MongoLab</a>.</p>
<h2 id="step-2-install-mongo-on-linux">Step 2: Install Mongo on Linux</h2>
<p>Follow the steps outlined in the Elvenware <a href="http://www.elvenware.com/charlie/development/database/NoSql/MongoDb.html#install">Install Mongo</a> section to install MongoDob on your system. When you are done with the install, come back to this assignment.</p>
<h2 id="step-3-mongotalk.json">Step 3: MongoTalk.json</h2>
<p>Many of the MongoSamples use a JSON file called MongoTalk.json. To learn how to set it up, read the section of the <a href="https://github.com/charliecalvert/JsObjects/blob/master/Data/README.md">JsObjects/Data README file</a> that covers <strong>MongoTalk.json</strong>.</p>
<h2 id="step-04-insert-data">Step 04: Insert Data</h2>
<p>Create a copy of <a href="https://github.com/charliecalvert/JsObjects/tree/master/Data/MongoCreateData">JsObjects/Data/MongoCreateData</a></p>
<p>Run <strong>npm install</strong>.</p>
<p>To learn how to use the program, see the <a href="https://github.com/charliecalvert/JsObjects/blob/master/Data/MongoCreateData/README.md">README</a>.</p>
<h2 id="step-05-view-the-data-in-the-database">Step 05: View the data in the database</h2>
<p>MongoDb ships with a client. Elvenware has <a href="http://www.elvenware.com/charlie/development/database/NoSql/MongoDb.html#sample-session">a description</a> of how to use it.</p>
<h2 id="step06-mongolab-urls-and-users">Step06: MongoLab URLs and Users</h2>
<p>Learn about them on <a href="http://www.elvenware.com/charlie/development/database/NoSql/MongoDb.html#set-up-a-mongolab-url">Elvenware</a>.</p>
<h2 id="step07-an-express-mongo-program">Step07: An Express Mongo Program</h2>
<ul>
<li>Create a new express program called <strong>Week08InClassMongoView</strong></li>
<li>Set the port to 30025</li>
<li>Add in <strong>mongodb</strong> support: <strong>npm install mongodb --save</strong></li>
<li>Add in require to layout.jade: <strong>script(src=&quot;javascripts/require.js&quot; data-main=&quot;javascripts/Main&quot;)</strong></li>
<li>Add in <strong>public/javascripts/Main.js</strong> and jquery</li>
</ul>
<p>Main might start by looking like this:</p>
<pre><code>    require.config({
      paths: {
        &quot;jquery&quot;: &quot;jquery-2.1.0&quot;,
      }
    });
    
    require([&quot;jquery&quot;], function(jq) { 
        &#39;use strict&#39;;
        console.log(&quot;Main called.&quot;);
    });</code></pre>
<p>Add in the Elvenware <strong>QueryMongo</strong> library to routes:</p>
<pre><code>wget http://www.elvenware.com/charlie/development/web/JavaScript/Scripts/QueryMongo.js
wget http://www.elvenware.com/charlie/development/web/JavaScript/Scripts/LoadConfig.js</code></pre>
<p>Load the library into the index route:</p>
<pre><code>var queryMongo = require(&#39;./QueryMongo&#39;).QueryMongo;</code></pre>
<p>And call <strong>readAll</strong>:</p>
<pre><code>//Read the collection
router.get(&#39;/readAll&#39;, function(request, response) {&#39;use strict&#39;;
    console.log(&quot;ReadAll route is called&quot;);
    queryMongo.getAllDocuments(response);
});</code></pre>
<h2 id="step-08-build-the-client">Step 08: Build the client</h2>
<p>On the client side, create MongoClient.js:</p>
<pre><code>define(function() {
    
    var MongoClient = (function() {

        function MongoClient() {

        }

        return MongoClient;

    }());

    return MongoClient;

}) </code></pre>
<p>Add it in to <strong>Main.js</strong>.</p>
<p>Create a button click handler and use getJSON to pull your <strong>/readAll</strong> route.</p>
<ul>
<li>The button has an id of readAll and a caption of Read All.</li>
<li>Define a click handler in MongoClient. Set up the click handler in the constructor. Have it call a private method named <strong>readAll</strong>.</li>
</ul>
<p>Handle the data and display it to the user.</p>
<ul>
<li>In the getJSON callback, define a parameter called serverData.</li>
<li>Start by popping up an alert</li>
<li>Inside the alert: JSON.stringify(serverData[0], null, 4);</li>
</ul>
<!-- FOOTER -->
      <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>        
		<p>Copyright &copy; <a href="/charlie/index.html">Charlie Calvert</a> |
		<a href="/charlie/contents.html">Site Overview</a> |
		<a href="/charlie/development/index.html">Writing Code</a> |
		<a href="/charlie/development/web/index.html">Web</a> |
		<a href="/charlie/development/web/JavaScript/index.html">JavaScript</a> |
		<a href="/charlie/books/index.html">My Books</a> </p>

      </footer>

    </div><!-- /.container -->
</body>
</html>



