<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>FirebaseData</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><!-- link(href='/libs/css/BootstrapIndex.css', rel='stylesheet', type='text/css')--><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><!-- script(src='/libs/scripts/elvenware.js', type='text/javascript')--><script src="/libs/scripts/Control.js"></script><!-- script(src='http://localhost:35729/livereload.js')--></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/charlie/About.html">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/charlie/development/index.html">Strongly Typed</a></li><li><a href="/charlie/development/web/index.html">Web & Scripts</a></li><li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/charlie/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>FirebaseData</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#goals">Goals</a></li>
<li><a href="#get-started">Get Started</a></li>
<li><a href="#javascript">JavaScript</a></li>
<li><a href="#interface">Interface</a></li>
<li><a href="#foo-data">Foo Data</a></li>
<li><a href="#shared-data">Shared Data</a></li>
<li><a href="#user-details">User Details</a></li>
<li><a href="#user-status">User Status</a></li>
<li><a href="#turn-it-in">Turn it in</a></li>
<li><a href="#links">Links</a></li><!--TOC_End--></ul><h2 id="overview">Overview</h2>
<p>The goal of this lesson is to begin to use the Firebase database.</p>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/firebase-data-lotus.png" alt="Picture showing Firebase database at work"></p>
<h2 id="goals">Goals</h2>
<p>Our basic rhythm when working on this app is as follows. At first we need to get set up:</p>
<ul>
<li>Edit files in AllTest<ul>
<li>Confirm that <strong>index-firebase.md</strong> and <strong>start.md</strong> are correct.</li>
</ul>
</li>
<li>Make sure you have set up the four buttons shown in the image above correctly in <strong>start.md</strong><ul>
<li><strong>Push President</strong> and <strong>Get Presidents</strong> buttons</li>
<li><strong>Post Input</strong> and <strong>Get All Qux Data</strong> buttons</li>
</ul>
</li>
<li>Make sure the <strong>MakeHtml</strong> config file will copy from AllTest to your <strong>public</strong> firebase directory.</li>
<li>Run a script with a name like <strong>run-firebase</strong> that:<ul>
<li>Runs <strong>MakeHtml</strong></li>
<li>And copies or move <strong>index-firebase.html</strong> to <strong>index.html</strong></li>
</ul>
</li>
<li>Confirm it works by loading site in browser</li>
</ul>
<p>Once you have your computer set up correctly, then you should only need three steps:</p>
<ol>
<li>Edit files in <strong>AllTest</strong></li>
<li>Run script that:<ul>
<li>Runs <strong>MakeHtml</strong></li>
<li>Copies <strong>index-firebase.html</strong> to <strong>index.html</strong></li>
</ul>
</li>
<li>Confirm it works by refreshing page in browser</li>
</ol>
<h2 id="get-started">Get Started</h2>
<p>Go to the Firebase console:</p>
<ul>
<li><a href="https://console.firebase.google.com/">https://console.firebase.google.com/</a></li>
</ul>
<p>Create a new Firebase application called <strong>Prog270-Data-LastName</strong></p>
<p>Turn on Google Authentication, per the instructions from the previous assignment.</p>
<h2 id="javascript">JavaScript</h2>
<p>Put the following code in <strong>elven-help.js</strong>. Delete everything that we put in <strong>elven-help.js</strong> for the previous assignment. That is all the code from document.ready on up. Leave document.ready, but delete all the code above it. This is the code that we put in for the previous assignment. After it is deleted, replace it with the code found here:</p>
<ul>
<li><a href="https://raw.githubusercontent.com/charliecalvert/JsObjects/master/Utilities/Templates/Firebase/elven-help.js">Elven-Help on JsObjects Raw</a></li>
<li><a href="https://github.com/charliecalvert/JsObjects/blob/master/Utilities/Templates/Firebase/elven-help.js">Elven-Help on JsObjects Syntax Highlight</a></li>
</ul>
<h2 id="interface">Interface</h2>
<p>What we want to see is that the user comes to the home page, which consists mostly of a description of the site and button to log in. The user presses the login (Google) button, then is taken to the page with the database links on it.</p>
<p>On the database page, we are going to create three sections:</p>
<ul>
<li>Foo Data: Basic database test</li>
<li>Shared Data: The user inputs data and that data is shared between multiple users in real time.</li>
<li>User Data: Examine the data associated with the current user.</li>
</ul>
<h2 id="foo-data">Foo Data</h2>
<p>Create a level two header with the title <strong>Foo Data</strong>.</p>
<p>Add two buttons inside a DIV in this section of your app:</p>
<ul>
<li>Button 1<ul>
<li>id: elfDatabasePush</li>
<li>class: &quot;btn btn-default btn-lg&quot;</li>
<li>Caption: Foo Data Insert</li>
</ul>
</li>
<li>Button 2<ul>
<li>id: elfDatabaseGet</li>
<li>class: &quot;btn btn-default btn-lg&quot;</li>
<li>Caption: Foo Data Get</li>
</ul>
</li>
</ul>
<p>If everything is set up correctly, you should be able to:</p>
<ul>
<li>Press the first button to insert a simple record in the database</li>
<li>Press the second button to display the data in the console.<ul>
<li>To view this data, press F12 to bring up the Developer Tools, turn to the console page.</li>
</ul>
</li>
</ul>
<p>The data should look like this: <strong>Object {foo: &quot;foobar&quot;}</strong></p>
<p>Here is an example button:</p>
<pre><code class="lang-html">&lt;button <span class="hljs-built_in">id</span>=<span class="hljs-string">"elfDatabasePush"</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">"btn btn-default btn-lg"</span>&gt;Data Insert&lt;/button&gt;
</code></pre>
<h2 id="shared-data">Shared Data</h2>
<p>Create a level 2 header called <strong>Shared Data</strong>.</p>
<p>Here you will learn how to allow the user to input data and to write the user&#39;s data to the database. If multiple users are signed in to the app at the same time, they will all see the new input in real time. Test this by signing into two google accounts, or signing into another student&#39;s app and then signing into your account while your buddy is signed into their account. This is something of a poor man&#39;s chat program.</p>
<p>Here is the tool used to get input from the user:</p>
<pre><code class="lang-html">&lt;<span class="hljs-keyword">div</span>&gt;
  &lt;input type=<span class="hljs-string">"text"</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">"userInput"</span> <span class="hljs-built_in">name</span>=<span class="hljs-string">"userInput"</span>&gt;
&lt;/<span class="hljs-keyword">div</span>&gt;
</code></pre>
<p>Create two buttons inside a DIV in this section of the app:</p>
<ul>
<li>Button 1<ul>
<li>id: elfInput</li>
<li>class: btn btn-default btn-lg</li>
<li>caption: Post Input</li>
</ul>
</li>
<li>Button 2<ul>
<li>id: elfDatabaseGetAllQux</li>
<li>class: btn btn-default btn-lg</li>
<li>Caption: Get All Qux Data</li>
</ul>
</li>
</ul>
<p>Finally, you will want to add an unordered list in which the input will be displayed. Give it an ID of <strong>userInputList</strong>. An unordered list is made with the UL HTML element.</p>
<h2 id="user-details">User Details</h2>
<p>Create a level two header called <strong>User Details</strong>.</p>
<p>Put this in it:</p>
<pre><code class="lang-html">&lt;<span class="hljs-selector-tag">button</span> id=<span class="hljs-string">"elfGetCurrentUser"</span> class=<span class="hljs-string">"btn btn-default btn-lg"</span>&gt;Get User Data&lt;/button&gt;

&lt;<span class="hljs-selector-tag">div</span> class=<span class="hljs-string">"container"</span>&gt;
  &lt;<span class="hljs-selector-tag">p</span> id=<span class="hljs-string">"userName"</span>&gt;&lt;/p&gt;
  &lt;<span class="hljs-selector-tag">p</span> id=<span class="hljs-string">"userEmail"</span>&gt;&lt;/p&gt;
  &lt;<span class="hljs-selector-tag">p</span> id=<span class="hljs-string">"userPhotoUrl"</span>&gt;&lt;/p&gt;
  &lt;<span class="hljs-selector-tag">p</span> id=<span class="hljs-string">"userId"</span>&gt;&lt;/p&gt;
  &lt;<span class="hljs-selector-tag">img</span> src=<span class="hljs-string">""</span> id=<span class="hljs-string">"userImg"</span> alt=<span class="hljs-string">"Wait"</span>&gt;
&lt;/div&gt;
</code></pre>
<h2 id="user-status">User Status</h2>
<p>Include this information to track the user&#39;s status, and also a few lines of code to set up the page:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Status: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sign-in-status"</span>&gt;</span>Unknown<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary btn-lg"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sign-in"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">pre</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"account-details"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://www.gstatic.com/firebasejs/ui/live/1.0/firebase-ui-auth.css"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://www.gstatic.com/firebasejs/3.5.2/firebase.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://www.gstatic.com/firebasejs/ui/live/1.0/firebase-ui-auth.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="undefined">
  elfFireStart();
  elfFireInitPage();
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 id="turn-it-in">Turn it in</h2>
<p>Put or update your copy of <strong>index.md</strong> and <strong>start.md</strong> and other markdown in your repository. Provide a link to your running application. Add any comments you feel are necessary.</p>
<h2 id="links">Links</h2>
<ul>
<li><a href="https://firebase.google.com/docs/database/web/read-and-write">https://firebase.google.com/docs/database/web/read-and-write</a></li>
<li><a href="https://firebase.googleblog.com/2014/06/geofire-20.html">https://firebase.googleblog.com/2014/06/geofire-20.html</a></li>
<li><a href="https://firebase.googleblog.com/2016/11/bringing-firebase-to-your-server.html">https://firebase.googleblog.com/2016/11/bringing-firebase-to-your-server.html</a></li>
</ul>
</div></body></html>