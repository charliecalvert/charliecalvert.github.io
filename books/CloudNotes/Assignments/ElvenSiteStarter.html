<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>ElvenSiteStarter</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><!-- link(href='/libs/css/BootstrapIndex.css', rel='stylesheet', type='text/css')--><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><!-- script(src='/libs/scripts/elvenware.js', type='text/javascript')--><script src="/libs/scripts/Control.js"></script><!-- script(src='http://localhost:35729/livereload.js')--></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>ElvenSiteStarter</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#step-one">Step One</a></li>
<li><a href="#step-two">Step Two</a></li>
<li><a href="#step-three">Step Three</a></li>
<li><a href="#step-four">Step Four</a></li>
<li><a href="#turn-it-in">Turn it in</a></li><!--TOC_End--></ul><h2 id="overview">Overview</h2>
<p>The goal of the Elven Site Starter is to create a simple, first iteration, front end for the MakeHtml project.</p>
<h2 id="step-one">Step One</h2>
<p>Create a new project.</p>
<pre><code>CreateAllExpress Week03-ElvenSiteStarter
cd Week03-ElvenSiteStarter
npm <span class="hljs-keyword">install</span> elven-site-tools <span class="hljs-comment">--save</span>
npm <span class="hljs-keyword">install</span> marked <span class="hljs-comment">--save</span>
</code></pre><p>The version of <strong>elven-site-tools</strong> should (automatically) be at least <strong>0.0.6</strong>.</p>
<h2 id="step-two">Step Two</h2>
<p>Put this code in <strong>routes/index.js</strong> above the exports statement:</p>
<pre><code class="lang-javascript">router.get(<span class="hljs-string">'/walk'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response</span>) </span>{
  <span class="hljs-keyword">var</span> directoryToWalk = process.env.HOME + <span class="hljs-string">'/Documents/AllTest'</span>;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'start'</span>, directoryToWalk);
  walker.buildFileReport(directoryToWalk, <span class="hljs-string">'.md'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">report</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'build'</span>);
    <span class="hljs-keyword">var</span> directories = walker.getDirectories(report);
    walker.makePage(directoryToWalk, directories, report, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">masterListOfNames, htmlFilesWritten</span>) </span>{
        response.send( { result: <span class="hljs-string">'success'</span>,
          directories: directories,
          masterListOfNames: masterListOfNames,
          htmlFilesWritten: htmlFilesWritten
        });
    });
  });
});
</code></pre>
<p>And at the top:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> walker = <span class="hljs-built_in">require</span>(<span class="hljs-string">'elven-site-tools'</span>).walker;
</code></pre>
<h2 id="step-three">Step Three</h2>
<p>Create an interface for the program with an <strong>input</strong>, <strong>button</strong> and <strong>pre</strong>, each in their own <strong>DIV</strong>. Write a little CSS so that each has a little room to breath. For me, this involved the attributes called padding and margin-top on the DIVs, and width on the INPUT. The IDs for the HTML elements are as follows:</p>
<ul>
<li>input: dirToWalk</li>
<li>button: walk</li>
<li>pre: display</li>
</ul>
<p>In your <strong>document ready</strong> handle button clicks so that they call the <strong>walk</strong> route on the server and display the results. I used <strong>getJSON</strong> to do this.  You should also be able to define the directory that is to be <em>walked</em>.</p>
<p>On the server side, this directory should be assigned to <strong>directoryToWalk</strong>. That means you should make some changes to the code I gave you in the previous step.</p>
<p>Back on the client, remember that jQuery has a <strong>val</strong> method (not <strong>html</strong>) for working with <strong>INPUT</strong> elements. Recall also that <strong>getJSON</strong> can take three parameters:</p>
<ul>
<li>The route</li>
<li>The data you want to pass to the server, which in this case is the path to the directory to walk.</li>
<li>The call back that returns the results.</li>
</ul>
<p>Be sure you can pass in a string specifying the <strong>directoryToWalk</strong> and that you routine uses it rather than the default string I provide in the code above.</p>
<p>Help on <strong>input</strong> controls for Jade:</p>
<ul>
<li><a href="http://naltatis.github.io/jade-syntax-docs/#attributes">http://naltatis.github.io/jade-syntax-docs/#attributes</a></li>
<li><a href="http://www.elvenware.com/charlie/development/web/JavaScript/NodeJade.html#input-controls">Elvenware Input Controls</a></li>
</ul>
<p><img src="https://s3.amazonaws.com/bucket01.elvenware.com/images/elven-site-starter-01.png" alt="Walking"></p>
<h2 id="step-four">Step Four</h2>
<p>Take the code one step beyond what I show in the image above. Iterate over the <strong>htmlFilesWritten</strong> and dynamically create and display valid links to the files. I would display the links in a UL element located between the BUTTON and PRE elements. Have the links open in a separate tab when they are selected. For instance:</p>
<pre><code class="lang-HTML"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"http://localhost/Bar.html"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>&gt;</span>Bar.html<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</code></pre>
<p>I think you would use <strong>slice</strong> to help convert a string like <strong>/var/www/html/Bar.html</strong> into <strong><a href="http://localhost/Bar.html">http://localhost/Bar.html</a></strong>. You can use <a href="http://api.jquery.com/jquery.each/">jQuery&#39;s foreach</a> to iterate over the <strong>htmlFilesWritten</strong> array.</p>
<p>For extra credit, put the method that uses <strong>slice</strong> to create the new string in your NPM library and include and use your library in the project. Call the method your create something like <strong>htmlPathToUrl</strong>. You should be able to pass in <strong>/var/www/html/garply/Summary.html</strong> and get back <strong><a href="http://localhost/garply/Summary.html">http://localhost/garply/Summary.html</a></strong>.</p>
<p>Recall that you can use jQuery to append items to a list:</p>
<pre><code class="lang-javascript"><span class="hljs-variable">$(</span><span class="hljs-string">'#myList'</span>).append(myAnchor);
</code></pre>
<h2 id="turn-it-in">Turn it in</h2>
<p>Put your work your repository in the folder referenced in Step One. Push your repository and submit the assignment.</p>
</div></body></html>