<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>DeliciousQuery</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><link href="/libs/css/BootstrapIndex.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><script src="/libs/scripts/elvenware.js" type="text/javascript"></script><script src="/libs/scripts/Control.js"></script></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>DeliciousQuery</h1><h3>Table of Contents</h3><ul><!--TOC_Start--><li><a href="#deliciousquery">DeliciousQuery</a></li>
<li><a href="#system-check">Step00: System Check</a></li>
<li><a href="#setup">Step01: Setup</a></li>
<li><a href="#step02-configure-test">Step02: Configure Test</a></li>
<li><a href="#core-tests">Step03: Core Tests</a></li>
<li><a href="#implementation">Step04: Implementation</a></li>
<li><a href="#create-array">Step 05: Create Array</a></li>
<li><a href="#create-map">Step 06: Create maps</a></li>
<li><a href="#filter">Step 07: Filtering</a></li>
<li><a href="#turn-it-in">Turn it in</a></li>
<li><a href="#working-with-filters">Working with Filters</a></li>
<li><a href="#set-to-null">DeliciousLinks is Null</a></li><!--TOC_End--></ul><h1 id="deliciousquery">DeliciousQuery</h1>
<p>Learn more about testing.</p>
<h2 id="system-check">Step00: System Check</h2>
<p>If you have not done so already run <strong>git pull</strong> on JsObjects. Copy <strong>SystemCheck</strong> into your bin directory:</p>
<pre><code class="lang-bash">cp $JSOBJECTS/Utilities/SetupLinuxBox/SystemCheck ~/bin/.
</code></pre>
<p>Check you system:</p>
<pre><code>syscheck

=======================
Menu
=======================

b) Basic System Check
n) Node
c) Common
p) PhoneGap
x) Exit

Please make a selection: b
</code></pre><p>Make sure b and n are good.</p>
<h2 id="setup">Step01: Setup</h2>
<p>Get started as usual:</p>
<pre><code class="lang-bash">CreateExpressProject Week04-DeliciousQuery
<span class="hljs-built_in">cd</span> Week04-DeliciousQuery/
TestReady
grunt <span class="hljs-built_in">test</span>
</code></pre>
<p>Open the project in WebStorm.</p>
<h2 id="step02-configure-test">Step02: Configure Test</h2>
<p>There is a copy of the output from a typical call to Delicious in the <strong>JsObjects</strong> directory. In other words, I have saved the data you got when you typed in <strong>javascript</strong> in <strong>BootstrapDelicious</strong> and pressed the submit button. That data is in a file called <strong>delicious-links.js</strong>. You should copy it into your spec directory:</p>
<pre><code>cp $ELF_TEMPLATES/WebServices/delicious-javascript-links.js spec/.
</code></pre><p>In <strong>karma.conf.js</strong> load our <strong>delicious-javascript-links</strong>:</p>
<pre><code class="lang-javascript">files: [
            <span class="hljs-symbol">'public</span>/components/jquery/dist/jquery.min.js',
            <span class="hljs-symbol">'public</span>/javascripts/*.js',
            <span class="hljs-symbol">'spec</span>/test*.js',
            <span class="hljs-symbol">'spec</span>/delicious-javascript-links.js'
        ],
</code></pre>
<h2 id="core-tests">Step03: Core Tests</h2>
<p>To help you get started, lets copy in a set of core tests:</p>
<pre><code class="lang-javascript">describe(<span class="hljs-string">"Elvenware Simple Plain Suite"</span>, function() {  'use strict'<span class="hljs-comment">;</span>

    it(<span class="hljs-string">"expects true to be true"</span>, function() {
        expect(<span class="hljs-name">true</span>).toBe(<span class="hljs-name">true</span>)<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>

})<span class="hljs-comment">;</span>

describe(<span class="hljs-string">"Test Delicious Links"</span>, function() {  'use strict'<span class="hljs-comment">;</span>

    beforeEach(<span class="hljs-name">function</span> () {
        spyOn($, 'getJSON').and.callFake(<span class="hljs-name">function</span> (<span class="hljs-name">url</span>, success) {
            success(<span class="hljs-name">deliciousLinks</span>)<span class="hljs-comment">;</span>
            return {
                fail: function () {
                }
            }<span class="hljs-comment">;</span>
        })<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>

    afterEach(<span class="hljs-name">function</span>() {
       queryDelicious.deliciousLinks = null<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>

    it(<span class="hljs-string">"shows we can get our deliciousLink array"</span>, function() {
        queryDelicious.runQuery('javascript')<span class="hljs-comment">;</span>
        var linkObject = queryDelicious.deliciousLinks<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">linkObject</span>).toBeTruthy()<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>

    it(<span class="hljs-string">"show we can get a map"</span>, function() {
        queryDelicious.runQuery('javascript')<span class="hljs-comment">;</span>
        var map = queryDelicious.getMap()<span class="hljs-comment">;</span>

        expect(<span class="hljs-name">map</span>[<span class="hljs-number">0</span>].url).toContain('http')<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">map</span>[<span class="hljs-number">0</span>].url).toContain('web')<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">map</span>[<span class="hljs-number">0</span>].url).toContain('JavaScript')<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p>The <strong>beforeEach</strong> method is called once before each test. It&#39;s presence in this case ensures that we are spying on calls to <strong>getJSON</strong>. After each test we reset the key field of the <strong>queryDelicious</strong> object. This is a simple way of ensuring that we are starting from scratch when each test begins. The <strong>afterEach</strong> method is its counterpart, and is called after each test is run.</p>
<p><strong>NOTE</strong>: <em>For those who have worked with <strong>httpBackend</strong>, please note that these <strong>beforeEach</strong> and <strong>afterEach</strong> calls are quite different from those we used when testing angular with <em>*httpBackend</em></em>. All we are doing here is setting up our tests, we aren&#39;t doing book-keeping for our testing suite.</p>
<h2 id="implementation">Step04: Implementation</h2>
<p>In control.js we can put a few methods that will help you get started. The <strong>callDeliciousGetJson</strong> method is very similar to one you saw in <strong>BootstrapDelicious</strong>. The <strong>getMap</strong> method introduces the JavaScript <strong>map</strong> method, which is essential to this assignment, and in general an important part of JavaScript :</p>
<pre><code class="lang-javascript">
<span class="hljs-keyword">var</span> queryDelicious = {
    <span class="hljs-string">"url"</span>: <span class="hljs-string">'http://feeds.delicious.com/v2/json/charliecalvert/'</span>,

    deliciousLinks: <span class="hljs-literal">null</span>,

    getUrl: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">subject</span>) </span>{ <span class="hljs-string">'use strict'</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.url + subject;
    },

    callDeliciousGetJson: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">subject</span>) </span>{ <span class="hljs-string">'use strict'</span>;
        <span class="hljs-keyword">var</span> url = queryDelicious.getUrl(subject);
        $.getJSON(url, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result</span>) </span>{
            queryDelicious.deliciousLinks = result;
        }).fail(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">jqXHR, textStatus</span>) </span>{
            <span class="hljs-built_in">console</span>.log(jqXHR);
        });
    },

    getMap: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-string">'use strict'</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.deliciousLinks.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">link</span>) </span>{
            <span class="hljs-keyword">return</span> { <span class="hljs-string">'url'</span>: link.u };
        });
    }

};

queryDelicious.runQuery = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">subject</span>) </span>{ <span class="hljs-string">'use strict'</span>;
    <span class="hljs-keyword">this</span>.callDeliciousGetJson(subject);
};
</code></pre>
<p>We create an object called queryDelicious with with four methods and two properties. Three of the methods are defined inside the object literal, the fourth, called <strong>runQuery</strong> is defined after the object literal is declared. Normally one would not mix the two styles like this, however, I do this only because we are in a teaching environment: I want to show you that you have a choice of two different styles when declaring JavaScript objects. It is up to you choose the one you prefer.</p>
<p>The JavaScript <strong>map</strong> function takes an array of one sort, and converts it into a modified array of a similar type. You pass it to a callback, and each element in the array will be passed to it. Inside that callback, you can transform the objects in the array. After map returns, you have a new array, one in which each element of your array has been transformed by your callback.</p>
<h2 id="create-array">Step 05: Create Array</h2>
<p>In <strong>test-basic.js</strong> add the following tests, and get them to pass:</p>
<p>A test that shows we can create an array containing all ten URLs from our delicious query:</p>
<pre><code>    it(<span class="hljs-string">"get an array with only the url from the objects in mock delicious data"</span>, function() {
        queryDelicious.runQuery('javascript')<span class="hljs-comment">;</span>
        var allUrls = queryDelicious.getAllUrls()<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">allUrls</span>.length).toBe(<span class="hljs-number">10</span>)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">allUrls</span>[<span class="hljs-number">1</span>]).toBe(<span class="hljs-string">"http://speakingjs.com/es5/index.html"</span>)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">allUrls</span>[<span class="hljs-number">2</span>]).toBe(<span class="hljs-string">"https://leanpub.com/understandinges6/read/"</span>)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">allUrls</span>[<span class="hljs-number">4</span>]).toBe(<span class="hljs-string">"https://twitter.com/nodejs"</span>)<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
</code></pre><p>Here are some hints on how to <strong>get an array containing only the url from each item</strong>:</p>
<ul>
<li>Define a method in control.js called <strong>getAllUrls</strong>.</li>
<li>In that method, create an empty array.</li>
<li>Use <strong>$.each</strong> to iterate over the array of mock data from Delicious</li>
<li>Add the URL from each object in the mockdata to your array</li>
<li>After the loop, return the array you created.</li>
</ul>
<h2 id="create-map">Step 06: Create maps</h2>
<p>Recall the we create a simple map like this:</p>
<pre><code class="lang-javascript">    getMap: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-string">'use strict'</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.deliciousLinks.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(link)</span> </span>{
            <span class="hljs-keyword">return</span> { <span class="hljs-string">'url'</span>: link.u };
        });
    }
</code></pre>
<p>This function takes the data in our deliciousLinks array of objects and converts it into a much simpler array of objects. In particular, the first two objects in our delicious data look like this:</p>
<pre><code class="lang-javascript"><span class="hljs-variable"><span class="hljs-keyword">var</span> deliciousLinks</span> = [
    {
        <span class="hljs-string">"a"</span>: <span class="hljs-string">"charliecalvert"</span>,
        <span class="hljs-string">"d"</span>: <span class="hljs-string">"Elvenware JavaScript Home Page"</span>,
        <span class="hljs-string">"n"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-string">"u"</span>: <span class="hljs-string">"http://www.elvenware.com/charlie/development/web/JavaScript/"</span>,
        <span class="hljs-string">"t"</span>: [
            <span class="hljs-string">"javascript"</span>,
            <span class="hljs-string">"elvenware"</span>
        ],
        <span class="hljs-string">"dt"</span>: <span class="hljs-string">"2015-10-08T19:33:33Z"</span>
    },
    {
        <span class="hljs-string">"a"</span>: <span class="hljs-string">"charliecalvert"</span>,
        <span class="hljs-string">"d"</span>: <span class="hljs-string">"Speaking JavaScript"</span>,
        <span class="hljs-string">"n"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-string">"u"</span>: <span class="hljs-string">"http://speakingjs.com/es5/index.html"</span>,
        <span class="hljs-string">"t"</span>: [
            <span class="hljs-string">"javascript"</span>,
            <span class="hljs-string">"books"</span>,
            <span class="hljs-string">"ebook"</span>,
            <span class="hljs-string">"learning"</span>
        ],
        <span class="hljs-string">"dt"</span>: <span class="hljs-string">"2015-10-04T04:16:39Z"</span>
    }, etc...
</code></pre>
<p>After our map function runs, we have create a simplified array of objects that look like this:</p>
<pre><code class="lang-javascript">[
    {
        "<span class="hljs-attr">url</span>": <span class="hljs-string">"http://www.elvenware.com/charlie/development/web/JavaScript/"</span>
    },
    {
        "<span class="hljs-attr">url</span>": <span class="hljs-string">"http://speakingjs.com/es5/index.html"</span>
    }, etc...
</code></pre>
<p>We have converted an array of complex objects with six properties into an array of simple objects with only one property called <strong>url</strong>.</p>
<p>In this section, I ask you to create more maps. For instance, here would be a method that maps both the <strong>u</strong> and the <strong>a</strong> properties of our original object in an object with two properties called <strong>url</strong> and <strong>ownerName</strong>:</p>
<pre><code class="lang-javascript">getOwnerNameMap: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-string">'use strict'</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.deliciousLinks.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(link)</span> </span>{
        <span class="hljs-keyword">return</span> { <span class="hljs-string">"url"</span>: link.u, <span class="hljs-string">"ownerName"</span>: link.a };
    });
}
</code></pre>
<p><strong>NOTE</strong>: <em>You can include the above method in <strong>control.js</strong> if you want, but it is not a necessary part of the assignment.</em></p>
<p>The first two records in the array returned by the <strong>getOwnerNameMap</strong> function might look something like this:</p>
<pre><code class="lang-javascript">[
    {
        "<span class="hljs-attr">url</span>": <span class="hljs-string">"http://www.elvenware.com/charlie/development/web/JavaScript/"</span>,
        "<span class="hljs-attr">owner-name</span>": <span class="hljs-string">"charliecalvert"</span>
    },
    {
        "<span class="hljs-attr">url</span>": <span class="hljs-string">"http://speakingjs.com/es5/index.html"</span>,
        "<span class="hljs-attr">owner-name</span>": <span class="hljs-string">"charliecalvert"</span>
    }, etc...
</code></pre>
<p>Using this information on maps as background, I want you to create several more tests. To start, create a test that shows we can create a map that creates an array of object containg the following fields from our original query:</p>
<ul>
<li>Description (d)</li>
<li>URL (u)</li>
<li>Date (dt)</li>
<li>That&#39;s the d, u and dt fields from the object we get from Delicious</li>
</ul>
<p>The test should look exactly like this:</p>
<pre><code class="lang-javascript">    it(<span class="hljs-string">"shows we can get a midsize map"</span>, function() {
        var index = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        queryDelicious.runQuery('javascript')<span class="hljs-comment">;</span>
        var map = queryDelicious.getMapMidSize()<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">map</span>.length).toBe(<span class="hljs-number">10</span>)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">map</span>[index].url).toBeTruthy()<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">map</span>[index].description).toBeTruthy()<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">map</span>[index].date).toBeTruthy()<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">map</span>[index].description).toBe('Elvenware JavaScript Home Page')<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
</code></pre>
<p>Create a method and a test for a map that contains these fields:</p>
<ul>
<li>url</li>
<li>description</li>
<li>date</li>
<li>tags</li>
</ul>
<p>The method should be called <strong>getMapBig</strong>. It should be declared outside the object literal, the way that <strong>runQuery</strong> is declared above. The test should start like this:</p>
<pre><code class="lang-javascript">    it(<span class="hljs-string">"shows we can get a big map"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        queryDelicious.runQuery(<span class="hljs-string">'javascript'</span>);
        etc...
</code></pre>
<p>This time the index should be set to 1, and the following two tests should be included at the end of the test:</p>
<pre><code class="lang-javascript">    expect(<span class="hljs-built_in">map</span>[<span class="hljs-built_in">index</span>].description).toBe(<span class="hljs-string">'Speaking JavaScript'</span>);
    expect(<span class="hljs-built_in">map</span>[<span class="hljs-built_in">index</span>].<span class="hljs-keyword">tags</span>[<span class="hljs-number">2</span>]).toBe(<span class="hljs-string">'ebook'</span>);
</code></pre>
<p>These tests should appear exactly as shown.</p>
<h2 id="filter">Step 07: Filtering</h2>
<p>Create one more map called <strong>getDescriptionTag</strong> with these three fields:</p>
<ul>
<li>Description</li>
<li>URL</li>
<li>Tags</li>
</ul>
<p>This time, after you do the map, filter the results so we see only those that contain a tag for <strong>nodejs</strong>. The Javascript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">filter</a> method looks like this:</p>
<pre><code class="lang-javascript">queryDelicious.filter = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(map, filter)</span> </span>{ <span class="hljs-string">'use strict'</span>;
    <span class="hljs-keyword">return</span> map.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(link)</span> </span>{
        <span class="hljs-keyword">return</span> ... <span class="hljs-comment">// PUT YOUR FILTER HERE BY RETURNING EITHER TRUE OR FALSE.</span>
    });
};
</code></pre>
<p>How is how to detect if something is an element in an array:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">return</span> link.<span class="hljs-keyword">tags</span>.indexOf(<span class="hljs-built_in">filter</span>) &gt; -<span class="hljs-number">1</span>;
</code></pre>
<p>The following is more intuitive, but is not supported by all browsers at this time:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">return</span> link.tags.<span class="hljs-keyword">includes</span>(filter) === <span class="hljs-keyword">true</span>; <span class="hljs-comment">// Don't use this in 2015-2016?</span>
</code></pre>
<p><strong>NOTE</strong>: The <strong>includes</strong> function is for EcmaScript 6. I believe it works in FireFox, but not in Chrome. So we will use <strong>indexOf</strong> instead.</p>
<h2 id="turn-it-in">Turn it in</h2>
<p>Be sure your work is in a folder of your repository with the name specified in <strong>Step01</strong>. When you submit the assignment, include the URL of your repostory and/or the name of the folder where your program resides. When I run <strong>grunt test</strong>, I&#39;m expecting to see output like this:</p>
<pre><code>  Elvenware Simple Plain Suite
    ✓ expects <span class="hljs-literal">true</span> <span class="hljs-built_in">to</span> be <span class="hljs-literal">true</span>

  Test Delicious Links
    ✓ shows we can <span class="hljs-built_in">get</span> our deliciousLink array
    ✓ <span class="hljs-built_in">get</span> <span class="hljs-keyword">an</span> array <span class="hljs-keyword">with</span> only <span class="hljs-keyword">the</span> url <span class="hljs-built_in">from</span> <span class="hljs-keyword">the</span> objects <span class="hljs-keyword">in</span> mock delicious data
    ✓ show we can <span class="hljs-built_in">get</span> <span class="hljs-keyword">a</span> map
    ✓ shows we can <span class="hljs-built_in">get</span> <span class="hljs-keyword">a</span> midsize map
    ✓ shows we can <span class="hljs-built_in">get</span> <span class="hljs-keyword">a</span> big map
    ✓ shows we can map <span class="hljs-keyword">on</span> <span class="hljs-title">description</span> <span class="hljs-title">tag</span>
    ✓ shows we can <span class="hljs-built_in">filter</span> <span class="hljs-keyword">a</span> description tag
    ✓ shows that deliciousLink was <span class="hljs-built_in">set</span> <span class="hljs-built_in">to</span> <span class="hljs-literal">null</span> <span class="hljs-keyword">by</span> afterEach
</code></pre><p>When writing the last test, you can use a Jasmine operator called <strong>toBeFalsy.</strong> This operator tests whether a variable or result is set to <strong>undefined</strong>, <strong>false</strong> or some other value considered to be similar to false. For instance, the following tests all pass:</p>
<pre><code class="lang-javascript">    it(<span class="hljs-string">"shows how toBeFalsy works"</span>, function() {
        expect(<span class="hljs-name">false</span>).toBeFalsy()<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">undefined</span>).toBeFalsy()<span class="hljs-comment">;</span>
        expect(<span class="hljs-number">0</span>).toBeFalsy()<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">-1</span>).not.toBeFalsy()<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">true</span>).not.toBeFalsy()<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
</code></pre>
<p>Please include a screenshot attached to your submission showing the output you get when you run your tests.</p>
<h2 id="working-with-filters">Working with Filters</h2>
<p>Here is filter that returns only odd numbers from an array of numbers:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeEvens</span><span class="hljs-params">(numbers)</span> {</span>
    <span class="hljs-keyword">return</span> numbers.filter(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(number)</span> {</span>
       <span class="hljs-keyword">return</span> number <span class="hljs-comment">% 2 !== 0;</span>
    });
}
</code></pre>
<p>Here is a test that provies it works:</p>
<pre><code class="lang-javascript">    it(<span class="hljs-string">"shows how to create a simple filter and proves it works"</span>, function() {
        function removeEvens(<span class="hljs-name">numbers</span>) {
            return numbers.filter(<span class="hljs-name">function</span>(<span class="hljs-name">number</span>) {
               return number % <span class="hljs-number">2</span> !== <span class="hljs-number">0</span><span class="hljs-comment">;</span>
            })<span class="hljs-comment">;</span>
        }

        var numbers = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]<span class="hljs-comment">;</span>
        var odds = removeEvens(<span class="hljs-name">numbers</span>)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">odds</span>).not.toContain(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">odds</span>).not.toContain(<span class="hljs-number">2</span>)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">odds</span>).not.toContain(<span class="hljs-number">4</span>)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">odds</span>).toContain(<span class="hljs-number">3</span>)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">odds</span>).toContain(<span class="hljs-number">5</span>)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">odds</span>).toContain(<span class="hljs-number">7</span>)<span class="hljs-comment">;</span>
        var expected = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>]<span class="hljs-comment">;</span>
        var result = arraysAreEqual(<span class="hljs-name">expected</span>, odds)<span class="hljs-comment">;</span>
        expect(<span class="hljs-name">result</span>).toBeTruthy()<span class="hljs-comment">;</span>
    })
</code></pre>
<p>And here is the arraysAreEqual function:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// Similar to here: http://stackoverflow.com/a/14853974</span>
<span class="hljs-keyword">var</span> arraysAreEqual = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">array1, array2</span>) </span>{ <span class="hljs-string">'use strict'</span>;

    <span class="hljs-comment">// if the other array is a falsy value, return</span>
    <span class="hljs-keyword">if</span> (!array1 || !array2)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    <span class="hljs-comment">// compare lengths - can save a lot of time</span>
    <span class="hljs-keyword">if</span> (array1.length != array2.length)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = array1.length; i &lt; l; i++) {
        <span class="hljs-comment">// Check if we have nested arrays</span>
        <span class="hljs-keyword">if</span> (array1[i] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> &amp;&amp; array2[i] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>) {
            <span class="hljs-comment">// recurse into the nested arrays</span>
            <span class="hljs-keyword">if</span> (!arraysAreEqual(array1[i], array2[i]))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (array1[i] != array2[i]) {
            <span class="hljs-comment">// Warning - two different object instances will never be equal: {x:20} != {x:20}</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
};
</code></pre>
<p>See this sample program for more details on comparing arrays:</p>
<ul>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Syntax/ArraysEqual">JsObjects</a></li>
</ul>
<h2 id="set-to-null">DeliciousLinks is Null</h2>
<p>After each of our tests we set the <strong>deliciousLinks</strong> array to null:</p>
<pre><code class="lang-javascript">afterEach(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   queryDelicious.deliciousLinks = <span class="hljs-literal">null</span>;
});
</code></pre>
<p>Testing to see if this works is very easy:</p>
<pre><code class="lang-javascript">it(<span class="hljs-string">"shows that deliciousLink was set to null by afterEach"</span>, function() {
    expect(<span class="hljs-name">queryDelicious</span>.deliciousLinks).toBeFalsy()<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p>We just check to see that at the beginning of the test <strong>deliciousLinks</strong> is indeed null.</p>
</div></body></html>