<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>ExpressMiddlewareBasics</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Elvenware</a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav"><li class="trigger-collapse" ng-class="{ active: isActive('/')}"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img class="elf-normal" alt="Elvenware" src="/images/elvenwarelogo.png"/></figure><h1>ExpressMiddlewareBasics</h1><p>Welcome to ExpressMiddlewareBasics</p><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#step-one">Step One</a></li>
<li><a href="#step-two">Step Two</a></li>
<li><a href="#turn-it-in">Turn it in</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="overview"></a>
<h2>Overview</h2>
<p>Learn Express Middleware Basics.</p>
<a class="anchor" id="step-one"></a>
<h2>Step One</h2>
<p>  CreateExpressProject Week04-MiddlewareBasics</p>
<a class="anchor" id="step-two"></a>
<h2>Step Two</h2>
<p>Add some middleware in <strong>app.js</strong>:</p>
<pre><code>app.<span class="hljs-keyword">use</span>(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(request, response, next)</span> </span>{
  console.log(<span class="hljs-string">"My middleware"</span>, request.cookies, request.secret);
  <span class="hljs-comment">//console.log(Object.getOwnPropertyNames(request));</span>
  next();
});

app.<span class="hljs-keyword">use</span>(<span class="hljs-string">'/'</span>, routes);
app.<span class="hljs-keyword">use</span>(<span class="hljs-string">'/users'</span>, users);
</code></pre><p>Notice that the last two lines in the code shown above provide context as to where place this code. At the time of this writing, it might be around line 25.</p>
<p>Add some more middleware in <strong>routes/index.js</strong>:</p>
<pre><code><span class="hljs-keyword">var</span> foo = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response, next</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"My foo middleware"</span>);
  next();
};

<span class="hljs-comment">/* GET home page. */</span>
router.get(<span class="hljs-string">'/'</span>, foo, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res, next</span>) </span>{ <span class="hljs-string">'use strict'</span>;
  res.render(<span class="hljs-string">'index'</span>, { <span class="hljs-attr">title</span>: <span class="hljs-string">'SessionBar'</span> });
});
</code></pre><a class="anchor" id="turn-it-in"></a>
<h2>Turn it in</h2>
<p>Push and submit.</p>
</div></body></html>