<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>LinuxWebUser</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Elvenware</a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav"><li class="trigger-collapse" ng-class="{ active: isActive('/')}"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img class="elf-normal" alt="Elvenware" src="/images/elvenwarelogo.png"/></figure><h1>LinuxWebUser</h1><p>Welcome to LinuxWebUser</p><ul><!--TOC_Start--><li><a href="#ec2-web-user">EC2 Web User</a></li>
<li><a href="#create-a-web-page">Create a Web Page</a></li>
<li><a href="#provision-your-instance">Provision your Instance</a></li>
<li><a href="#set-up-your-ssh-key">Set up your SSH Key</a></li>
<li><a href="#clone-a-repository-on-ec2">Clone a repository on EC2</a></li>
<li><a href="#editors">Editors</a></li>
<li><a href="#use-apache">Use Apache</a></li>
<li><a href="#copy-folders">Copy Folders</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="ec2-web-user"></a>
<h1>EC2 Web User</h1>
<p>The goal of this assignment is to help you learn how to use an EC2 instance to host a web site.</p>
<p>Here are the basics you need to know manage a web site from the command prompt in Linux. This information can guide you through working with an EC2 instance.</p>
<ul>
<li><a href="http://youtu.be/Vx4oM1AYPjQ">Video Part I</a></li>
<li><a href="http://youtu.be/mSKxHKTQAc4">Video Part II</a></li>
<li><a href="http://youtu.be/RTICenN5n8Q">Video Part III</a></li>
<li>The Deck: <a href="http://bit.ly/LinuxWebUser">http://bit.ly/LinuxWebUser</a></li>
</ul>
<a class="anchor" id="create-a-web-page"></a>
<h1>Create a Web Page</h1>
<p>On <a href="http://elvenware.com/charlie/development/web/CssGuide/Bootstrap.html">this page</a> we talked about how to assemble a bootstrap aware web page. Let&#39;s learn how to assemble that page automatically.</p>
<p>Method01:</p>
<p>In your respository on <strong>CodeAnywhere</strong> or <strong>Ec2</strong>, do the following:</p>
<ul>
<li>Create a directory called CreatePage. You will do you work in this folder. So use the <strong>cd</strong> command to navigate into that folder.</li>
<li>Take the top part of the <a href="http://elvenware.com/charlie/development/web/CssGuide/Bootstrap.html">bootstrap html</a> and save it to file called  <strong>Start.html</strong>.</li>
<li>Take the bottom part and save it to <strong>End.html</strong>.</li>
<li>Save the HTML you create in StackEdit to <strong>Middle.html</strong>.</li>
</ul>
<p>Now run the following command at the command prompt to concatenate them:</p>
<pre><code><span class="hljs-selector-tag">cat</span> <span class="hljs-selector-tag">Start</span><span class="hljs-selector-class">.html</span> <span class="hljs-selector-tag">Middle</span><span class="hljs-selector-class">.html</span> <span class="hljs-selector-tag">End</span><span class="hljs-selector-class">.html</span> &gt;&gt; <span class="hljs-selector-tag">Page01</span><span class="hljs-selector-class">.html</span>
</code></pre><p>Don&#39;t forget that the page won&#39;t look right unless you also include <strong>index.css</strong> and <strong>bootstrap.css</strong> in the same folder as <strong>Page01.html</strong>.</p>
<p>If you navigate into the CreatePage folder, you should see a listing like this:</p>
<pre><code>cabox@box-codeanywhere CreatePage]$ ls -la
total 168
drwxrwxr-x<span class="hljs-number"> 2 </span>cabox cabox  <span class="hljs-number"> 4096 </span>Oct<span class="hljs-number"> 29 </span>02:20 .
drwxrwxr-x<span class="hljs-number"> 4 </span>cabox cabox  <span class="hljs-number"> 4096 </span>Oct<span class="hljs-number"> 29 </span>02:20 ..
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox   <span class="hljs-number"> 177 </span>Oct<span class="hljs-number"> 29 </span>02:19 End.html
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox  <span class="hljs-number"> 3627 </span>Oct<span class="hljs-number"> 29 </span>02:19 Middle.html
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox  <span class="hljs-number"> 5063 </span>Oct<span class="hljs-number"> 29 </span>02:19 Page01.html
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox  <span class="hljs-number"> 1259 </span>Oct<span class="hljs-number"> 29 </span>02:19 Start.html
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox<span class="hljs-number"> 132546 </span>Oct<span class="hljs-number"> 29 </span>02:19 bootstrap.css
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox    <span class="hljs-number"> 95 </span>Oct<span class="hljs-number"> 29 </span>02:19 index.css
</code></pre><p>##Hyperlinks</p>
<p>Suppose you have two pages on your site. You will probably want to be able to navigate from one page to the other. As you know, navigation on the web is made possible with hyperlinks. In our case the navigation is simple because we want to navigate between two pages in the same directory.</p>
<p>Suppose the pages are called:</p>
<ul>
<li>Page01.html</li>
<li>Page02.html</li>
</ul>
<p>If StackEdit here is how to create a hyperlink between these two pages:</p>
<pre><code>[<span class="hljs-string">Page01</span>](<span class="hljs-link">Page01.html</span>)
[<span class="hljs-string">Page02</span>](<span class="hljs-link">Page02.html</span>)
</code></pre><p>Make sure you text begins flush left.</p>
<p>This is the HTML create by the markdown syntax shown above:</p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"Page01.html"</span>&gt;</span>Page01<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"Page02.html"</span>&gt;</span>Page02<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</code></pre><p>If you want you can create a bulleted list of hyperlinks with this markdown syntax:</p>
<pre><code><span class="hljs-bullet">- </span>[<span class="hljs-string">Page01</span>](<span class="hljs-link">Page01.html</span>)
<span class="hljs-bullet">- </span>[<span class="hljs-string">Page02</span>](<span class="hljs-link">Page02.html</span>)
</code></pre><p>To test this, you should create two pages and try hyperlinking back and forth between them.</p>
<a class="anchor" id="provision-your-instance"></a>
<h1>Provision your Instance</h1>
<p>At least once a week, update your EC2 instance:</p>
<pre><code>sudo apt-<span class="hljs-builtin-name">get</span> update
sudo apt-<span class="hljs-builtin-name">get</span> upgrade
</code></pre><p>Install Git:</p>
<pre><code>sudo apt-<span class="hljs-builtin-name">get</span> install git
</code></pre><p>Install Lamp:</p>
<pre><code>sudo apt-get <span class="hljs-keyword">install</span> tasksel
sudo tasksel <span class="hljs-keyword">install</span> lamp-<span class="hljs-keyword">server</span>
</code></pre><p>More information is available on the Elvenware <a href="http://www.elvenware.com/charlie/os/linux/ConfigureLinux.html">Configure Linux </a>page.</p>
<a class="anchor" id="set-up-your-ssh-key"></a>
<h2>Set up your SSH Key</h2>
<p>To set up SSH, you should perform the following steps. I outline them here, and then describe them later. (Thanks to Alika Kaiwi):</p>
<ul>
<li>In EC2, generate you SSH private and public keys using <strong>ssh-keygen</strong> command shown below.</li>
<li>In EC2, use nano, as described below, to set up a file called <strong>config</strong> in you <strong>.ssh</strong>. In particular, the location of the file is <strong>.ssh/config</strong>.</li>
<li>In EC2, copy the contents of your public key (<strong>id_rsa.pub</strong>) generated in step 1. Type <strong>cat id_rsa.pub</strong> to print out the key. Then block copy it. In secure shell, it should be automatically copied to the clipboard.</li>
<li>In Bitbucket, go to <strong>Manage Account</strong> settings on the far right, (where your picture is). Navigate to the <strong>SSH</strong> section. <strong>Add</strong> the SSH key, by pasting the contents of your public key (Ctrl-V).</li>
<li>In EC2, clone your Bitbucket repository</li>
</ul>
<p>The first step in preparing your EC2 instance is to generate your SSH key.  Perform the following commands:</p>
<pre><code><span class="hljs-keyword">cd</span>
ssh-keygen -t rsa -P '' -f ~<span class="hljs-string">/.ssh/id_rsa</span>
<span class="hljs-keyword">cd</span> <span class="hljs-string">.ssh</span>
nano config
</code></pre><p>These commands do the following:</p>
<ul>
<li><strong>cd</strong>: Go to your home directory</li>
<li><strong>ssh-keygen</strong>: Create your public and private keys and put them in the <strong>.ssh</strong> directory.</li>
<li><strong>cd .ssh</strong>: Navigate to the <strong>.ssh</strong> directory</li>
<li><strong>nano config</strong>: Start the <strong>nano</strong> text editor.</li>
</ul>
<p>Nano is a text editor. Please paste (Ctrl-Insert) the following text into the editor:</p>
<pre><code>Host bitbucket<span class="hljs-selector-class">.org</span>
    IdentityFile ~/.ssh/id_rsa
</code></pre><p>Now save your work by pressing Ctrl-O. Exit the editor by pressing Ctrl-X.</p>
<p>Some of my <strong>.ssh/config</strong> file looks like this:</p>
<pre><code>Host mongo-server
    HostName 192.168.2.27
   <span class="hljs-built_in"> Port </span>22
   <span class="hljs-built_in"> User </span>bcuser
    IdentityFile ~/.ssh/id_rsa

Host fp
    HostName 192.168.2.15
   <span class="hljs-built_in"> Port </span>22
   <span class="hljs-built_in"> User </span>charlie
    IdentityFile ~/.ssh/common-key
</code></pre><a class="anchor" id="clone-a-repository-on-ec2"></a>
<h2>Clone a repository on EC2</h2>
<p>Put your repo&#39;s public key in BitBucket. This is like a previous exercise or two that we have done. But this time you have to put the public key you create into BitBucket.</p>
<p>Create a directory called Git:</p>
<pre><code><span class="hljs-built_in">cd</span>
<span class="hljs-built_in">mkdir</span> Git
<span class="hljs-built_in">cd</span> Git
</code></pre><p>Now clone your repository using this syntax:</p>
<pre><code>git <span class="hljs-keyword">clone</span> <span class="hljs-title">&lt;RepoUrl</span>&gt;
</code></pre><p>For instance:</p>
<pre><code>git <span class="hljs-keyword">clone</span> <span class="hljs-title">git</span>@github.com:charliecalvert/JsObjects.git
</code></pre><p>More information is available on these Elvenware pages:</p>
<ul>
<li><a href="http://www.elvenware.com/charlie/os/linux/ConfigureLinux.html">Configure Linux</a></li>
<li><a href="http://www.elvenware.com/charlie/development/cloud/Git.html">Git</a></li>
</ul>
<a class="anchor" id="editors"></a>
<h1>Editors</h1>
<p>On EC2 and at the Linux command line in general, you need to use a text editor. There is no GUI mode supported at the command line, so you need to run an editor that is based on command line development. There are two popular Linux command line editors:</p>
<ul>
<li><a href="http://www.elvenware.com/charlie/os/linux/LinuxFiles.html#vim-editor">vim (vi)</a></li>
<li><a href="http://www.elvenware.com/charlie/os/linux/LinuxFiles.html#nano-editor">nano</a></li>
</ul>
<p>Nano is an editor available at the Linux command prompt. It is fairly easy to use, though it has a few quirks for those coming from standard Windows editors. Please visit the <a href="http://www.elvenware.com/charlie/os/linux/LinuxFiles.html#nano-editor">Elvenware nano pages</a> to learn how to get started.</p>
<p>Vim is more difficult to use than nano, but also more powerful.  Please visit <a href="http://www.elvenware.com/charlie/os/linux/LinuxFiles.html#vim-editor">Elvenware vim page</a> to learn how to get started.</p>
<a class="anchor" id="use-apache"></a>
<h1>Use Apache</h1>
<p>We installed Apache earlier when we <a href="http://www.elvenware.com/charlie/development/database/mysql/MySql.html#installOnLinux">installed LAMP</a>. As you recall, we installed LAMP with this command:</p>
<pre><code>sudo tasksel <span class="hljs-keyword">install</span> lamp-<span class="hljs-keyword">server</span>
</code></pre><p>You may be prompted to enter a password for MySql. We are not using MySql, but enter a password anyway so your instance will be secure. Once you are done, Apache will be installed.</p>
<p>You can make sure it is installed by checking for the existence of the <strong>/var/www</strong> folder. If this folder does not exist, then Apache is probably not installed.</p>
<p>You put the pages you want to display on your web site in this directory:</p>
<pre><code>/<span class="hljs-keyword">var</span>/www/html
</code></pre><p>You want to be the owner of this page. As a result, do the following:</p>
<pre><code>cd <span class="hljs-regexp">/var/</span>www
sudo chown -R <span class="hljs-string">ubuntu:</span>ubuntu html
</code></pre><p>First we navigate to the var www folder. Then we claim ownership of the <strong>/var/www/html</strong> folder so that we can copy files into it. The owner switches from <strong>root</strong> to <strong>ubunutu</strong>. We are the user <strong>ubuntu</strong> when we are logged into our EC2 instance.</p>
<p>The main page of your site will be:</p>
<pre><code> <span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/html/i</span>ndex.html
</code></pre><p>When Apache is installed, a file called <strong>index.html</strong> is created automatically. You might not want to delete this file, yet you don&#39;t want it to be the main page of your site. As a result you might rename it:</p>
<pre><code><span class="hljs-selector-tag">mv</span> <span class="hljs-selector-tag">index</span><span class="hljs-selector-class">.html</span> <span class="hljs-selector-tag">oldIndex</span><span class="hljs-selector-class">.html</span>
</code></pre><p>To test that things are working, create a simple HTML page like this one:</p>
<pre><code><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>My Page<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is my page<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"Final.html"</span>&gt;</span>Final.html<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><a class="anchor" id="copy-folders"></a>
<h1>Copy Folders</h1>
<p>You will need to copy the folder containing your web pages from your Git folder to the /var/www/html directory.</p>
<ul>
<li>Understand permissions per the Linux quizzes.</li>
<li><strong>chown</strong> -R ubuntu:ubuntu /var/www/html</li>
</ul>
<p>To learn more, visit the Elvenware pages on <a href="http://www.elvenware.com/charlie/os/linux/LinuxFiles.html#copy">Linux Files</a>.</p>
<p>##Turn it in</p>
<p>To complete this exercise, take four screen shots:</p>
<ul>
<li>Show the contents of your Git folder on EC2.</li>
<li>Show the contents of your /var/www/html folder</li>
<li>Show the contents of your CreatePages directory in CodeAnywhere.</li>
<li>Show your EC2 index.html file running in a browser. To get this screen shot typically you just enter the elastic ip address of your EC2 instance in the address bar of your browser.</li>
</ul>
<p>Also turn in the two hyperlinked pages you created.</p>
<p>As a comment for your submission, send the URL (elastic ip) of your EC2 web site. Something like this: <a href="http://11.11.11.11">http://11.11.11.11</a>. But of course your IP address will be different.</p>
<p>In sum, when you submit the assignment:  </p>
<ul>
<li>Attach your screen shots and the two HTML pages you created.</li>
<li>As a comment add the URL of your EC2 site.</li>
</ul>
<p>If you navigate into the CreatePage folder, you should see a listing like this:</p>
<pre><code>cabox@box-codeanywhere CreatePage]$ ls -la                                                                                                                                                                                                   
total<span class="hljs-number"> 168 </span>                                                                                                                                                                                                                                    
drwxrwxr-x<span class="hljs-number"> 2 </span>cabox cabox  <span class="hljs-number"> 4096 </span>Oct<span class="hljs-number"> 29 </span>02:20 .                                                                                                                                                                                                
drwxrwxr-x<span class="hljs-number"> 4 </span>cabox cabox  <span class="hljs-number"> 4096 </span>Oct<span class="hljs-number"> 29 </span>02:20 ..                                                                                                                                                                                               
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox   <span class="hljs-number"> 177 </span>Oct<span class="hljs-number"> 29 </span>02:19 **End.html**                                                                                                                                                                                         
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox  <span class="hljs-number"> 3627 </span>Oct<span class="hljs-number"> 29 </span>02:19 **Middle.html**                                                                                                                                                                                      
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox  <span class="hljs-number"> 5063 </span>Oct<span class="hljs-number"> 29 </span>02:19 **Page01.html**                                                                                                                                                                                      
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox  <span class="hljs-number"> 1259 </span>Oct<span class="hljs-number"> 29 </span>02:19 **Start.html**                                                                                                                                                                                       
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox<span class="hljs-number"> 132546 </span>Oct<span class="hljs-number"> 29 </span>02:19 **bootstrap.css**                                                                                                                                                                                    
-rw-rw-r--<span class="hljs-number"> 1 </span>cabox cabox    <span class="hljs-number"> 95 </span>Oct<span class="hljs-number"> 29 </span>02:19 **index.css**                                                                                                                                                                                            
</code></pre><p>NOTE: *You will probably want to call the Pages your create Page01.html, Page02.html and Page03.html. You might also call them after their subjects:</p>
<ul>
<li>Music.html</li>
<li>Books.html</li>
<li>Hobbies.html</li>
</ul>
<p>Or what have you.</p>
<ul>
<li>Understand permissions per the Linux quizzes.</li>
<li><strong>chown</strong> -R ubuntu:ubuntu /var/www/html</li>
</ul>
<p>To learn more, visit the Elvenware pages on <a href="http://www.elvenware.com/charlie/os/linux/LinuxFiles.html#copy">Linux Files</a>.</p>
</div></body></html>