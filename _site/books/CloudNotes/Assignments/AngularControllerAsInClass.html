<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>AngularControllerAsInClass</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Elvenware</a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav"><li class="trigger-collapse" ng-class="{ active: isActive('/')}"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img class="elf-normal" alt="Elvenware" src="/images/elvenwarelogo.png"/></figure><h1>AngularControllerAsInClass</h1><p>Welcome to AngularControllerAsInClass</p><ul><!--TOC_Start--><li><a href="#step01">Step01</a></li>
<li><a href="#step02">Step02</a></li>
<li><a href="#chai-and-spec-are-optional">Chai and Spec are Optional</a></li>
<li><a href="#optional-mocha">Optional mocha</a></li>
<li><a href="#step03">Step03</a></li>
<li><a href="#step04">Step04</a></li>
<li><a href="#step05">Step05</a></li><!--TOC_End--></ul></div><div class="container"><p>#Angular ControllerAs InClass</p>
<a class="anchor" id="step01"></a>
<h2>Step01</h2>
<p>Navigate to your repository and:</p>
<pre><code><span class="hljs-built_in">mkdir</span> Week10-ControllerAs
<span class="hljs-built_in">cd</span> Week10-ControllerAs
yo angular
yo mocha
</code></pre><a class="anchor" id="step02"></a>
<h2>Step02</h2>
<p>Create Unit Tests </p>
<p>In <strong>test/spec/controllers/</strong> Rename:</p>
<ul>
<li>about.js =&gt; AboutSpec.js</li>
<li>main.js =&gt; MainSpec.js</li>
</ul>
<p>Add two test suites to <strong>test/spec/controllers</strong>:</p>
<ul>
<li>Marie.js</li>
<li>Pierre.js</li>
</ul>
<p>Create four failing tests:</p>
<ul>
<li>In&#39;shows that we can get the description from main&#39;</li>
<li>&#39;shows that we can get the description from about&#39;</li>
<li>&#39;shows that we can get the description from Marie&#39;</li>
<li>&#39;shows that we can get the description from Pierre&#39;</li>
</ul>
<a class="anchor" id="chai-and-spec-are-optional"></a>
<h3>Chai and Spec are Optional</h3>
<p>At the top of your tests:</p>
<pre><code><span class="hljs-attribute">var expect</span> = chai.expect;
</code></pre><p>In the files section of karma.conf.js:</p>
<pre><code><span class="hljs-symbol">'bower_components</span>/chai/chai.js',    
</code></pre><p>Then:</p>
<pre><code>npm install karma-spec-reporter --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span>
</code></pre><p>And: </p>
<pre><code><span class="hljs-attribute">exclude</span>: [],

<span class="groovy"><span class="hljs-string">reporters:</span> [<span class="hljs-string">'spec'</span>],</span>
</code></pre><p>In karm.conf.js: </p>
<pre><code>plugins: [
      <span class="hljs-symbol">'karma</span>-phantomjs-launcher',
      <span class="hljs-symbol">'karma</span>-jasmine',
      <span class="hljs-symbol">'karma</span>-spec-reporter'
    ],

</code></pre><p>In Gruntfile.js: <strong>singleRun: false;</strong> about line 387.</p>
<a class="anchor" id="optional-mocha"></a>
<h3>Optional mocha</h3>
<p>Don&#39;t do this in class.</p>
<p>Install karma-mocha: <strong>npm install karma-mocha --save-dev</strong></p>
<p>In karma.conf.js: frameworks: [&#39;mocha&#39;],</p>
<p>In karm.conf.js: </p>
<pre><code>plugins: [
      <span class="hljs-symbol">'karma</span>-phantomjs-launcher',
      <span class="hljs-symbol">'karma</span>-mocha',
      <span class="hljs-symbol">'karma</span>-spec-reporter'
    ],
</code></pre><a class="anchor" id="step03"></a>
<h2>Step03</h2>
<p>Create four ControllerAs entries in <strong>app.js</strong>, adding new objects as necessary:</p>
<ul>
<li>mainController</li>
<li>aboutController</li>
<li>marieController</li>
<li>pierreController</li>
</ul>
<p>Instantiate controllerAs in <strong>about.js</strong> and <strong>main.js</strong> and other files:</p>
<pre><code><span class="hljs-keyword">var</span> mainController = <span class="hljs-keyword">this</span>;
mainController.description = <span class="hljs-string">"This is the main etc...';</span>
</code></pre><p>Keep working until all your tests pass. </p>
<p>Make sure the app itself works on port 30025. Don&#39;t forget to check for routes in <strong>app.js</strong> and for loading the new controller files (marie, pierre, CurieFactory) in <strong>index.html</strong>.</p>
<a class="anchor" id="step04"></a>
<h2>Step04</h2>
<p>Create a <strong>CurieFactory.js</strong> file. Create a function object in the Factory. Set it up just like the modular pattern, but without the outer and closing parens: ()(). A bit like this, perhaps:</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CurieFactory</span><span class="hljs-params">()</span> </span>{
}

CurieFactory.prototype.getMarie = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-keyword">return</span> {
        description: <span class="hljs-string">'Marie Curie created the...'</span>,
        born: <span class="hljs-number">1867</span>,
        etc...

}

etc....

<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> CurieFactory();
</code></pre><p>In your <strong>Marie Controller</strong> </p>
<a class="anchor" id="step05"></a>
<h2>Step05</h2>
<p>Include a mixin that contains a menu that includes dropdowns.</p>
</div></body></html>