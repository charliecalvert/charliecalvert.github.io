<!DOCTYPE html>
<html dir="ltr">

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

<title>Elvenware Azure</title>

<meta content="width=device-width,minimum-scale=1.0,maximum-scale=1.0" name="viewport" />
<link href="/charlie/libs/css/style2.css" rel="stylesheet" title="style2" type="text/css" />
<link href="/charlie/libs/jquery-ui/jquery-ui.css" rel="stylesheet" type="text/css" />
<script src="/charlie/libs/scripts/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js" type="text/javascript"></script>
<script src="/charlie/libs/scripts/elvenware.js" type="text/javascript"></script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2806409-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body>



<div id="container">
	<header>
		<div class="navButton" onclick="elvenware.toggleMenu()">
			Toggle Menu</div>
		<h1>Charlie Calvert on Elvenware</h1>
		<h2>Writing Code and Prose on Computers</h2>
	</header>
	<nav>
		<h2>Menu</h2>
		<div id="accordion00">
		<h2 class="navSection01">Core Code</h2>
			<ul>
				<li><a href="/charlie/development/index.html">Strongly Typed</a></li>
				<li><a href="/charlie/development/web/index.html">Web &amp; Scripts</a></li>
				<li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li>
			</ul>
		
			<h2 class="navSection02">OS and Tools</h2>
			<ul>
				<li><a href="/charlie/os/index.html">OS</a></li>
				<li><a href="/charlie/development/database/index.html">Database</a></li>
				<li><a href="/charlie/books/index.html">My Writing</a></li>
			</ul>
			
		
			<h2 class="navSection03">Art</h2>
			<ul>
				<li><a href="../../Art/index.html">Poems &amp; Photos</a></li>
				<li><a href="../../books/reading/index.html">Book Reviews</a></li>
				<li><a href="../../spirit/index.html">Spiritual</a></li>
			</ul>
			<h2 class="navSection04">Links</h2>
			<ul>
				<li><a href="../../links.html">My Links</a></li>
				<li><a href="http://www.falafel.com/">Falafel</a></li>
				<li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li>
			</ul>
		</div>
	</nav>
	<article>
		<figure>
			<img alt="Elvenware" src="/charlie/images/elvenwarelogo.png" /></figure>
<h1 id="wordpress">Wordpress</h1>
<p>This page has some notes about how to use WordPress.</p>
<h3 id="index">Index</h3>
<ul>
<li><a href="#host">Have Someone else Host Linux for You</a></li>
<li><a href="#linuxInstall">Installation on Linux</a></li>
<li><a href="#database">Setup Database Manually</a></li>
<li><a href="#wpConfig">Understanding wp-config</a></li>
<li><a href="#moving">Moving WordPress</a></li>
<li><a href="#edit">Editing WordPress Blog Posts</a></li>
<li><a href="#customize">Customization</a></li>
<li><a href="#insertPost">Use Code to Insert a Post</a></li>
</ul>
<h2 id="flavors">Flavors</h2>
<p>There are three different flavors of WordPress:</p>
<ul>
<li><a href="http://www.wordpress.org">WordPress.org</a> (What we have been using)</li>
<li><a href="http://www.wordpress.com">WordPress.com</a> (Hosted on the web)
<ul>
<li><a href="http://elvenware.wordpress.com/">Charlie's Blog on WordPress.com.</a></li>
</ul></li>
<li><a href="http://codex.wordpress.org/Create_A_Network">WordPress MultiSite</a> - Like setting up your own version of WordPress.com</li>
<li><a href="#insertPost">Insert a Post with Code</a></li>
</ul>
<h2 id="host">Hosting Sites</h2>
<p>You can rent a site that will host your instance of WordPress, as described here:</p>
<pre class="code"><code>http://wordpress.org/hosting/</code></pre>
<p>The sites listed at the above link are not your only options. Many sites providing web hosting for third parties. If you build a site on one of those platforms, you may well have the option of installing WordPress.</p>
<h2 id="linuxInstall">Installation on Linux</h2>
<p>There are various places on the web where you can find <a href="http://codex.wordpress.org/Installing_WordPress">instructions</a> on how to install Wordpress on Linux. I offer my own version of the primarily automated install below.</p>
<p>The simplest way to get started is to install Ubuntu Desktop. Though I don't recommend it for beginners, you can choose the Ubuntu Server instead. During the install of the server, you will have a chance to <a href="file:///J:/Web/Elvenware/charlie/development/database/mysql/MySql.html#installOnLinux">install</a> the <a href="https://help.ubuntu.com/11.10/serverguide/C/lamp-overview.html">LAMP</a> stack. This means you will have Apache2, MySQL and PHP/Python/Perl installed by default. If you already have Ubuntu up and running, or if you used the desktop version of Ubuntu, then you need to add LAMP yourself. Here is a description of how to proceed:</p>
<p><a href="http://www.elvenware.com/charlie/development/database/mysql/MySql.html#installOnLinux">http://elvenware.com/charlie/development/database/mysql/MySql.html#installOnLinux</a></p>
<p>After you have installed the LINUX server, you need to install Wordpress:</p>
<pre><code> sudo apt-get install wordpress php5-gd</code></pre>
<pre class="code"><code>sudo ln -s /usr/share/wordpress /var/www/wordpress</code></pre>
<p>Next type the following to run a script that will install WordPress for you:</p>
<pre class="code"><code>sudo bash /usr/share/doc/wordpress/examples/setup-mysql -n wordpress localhost</code></pre>
<p>NOTE: If you are installing on server that has a known public DNS, then you should put that public DNS in the place of localhost. For instance, if I were creating this file for Elvenware, the last bit would look like this .../setup-mysql -n wordpress elvenware.com. If you are working on EC2, and you don't have domain name of your own, then you might write something like this .../setup-mysql -n wordpress ec2-16-67-000-00.compute-1.amazonaws.com, where the DNS is associated with an elastic IP.</p>
<p>Due to a bug in the WordPress install script, you may get an unfound error on this command:</p>
<pre class="code"><code>sudo bash /usr/share/doc/wordpress/examples/setup-mysql -n wordpress localhost</code></pre>
<p>The problem is that sometimes the WordPress install script does not decompress the setup-mysql script. To fix the problem, you need to unzip it yourself. In particular, you can type the following command:</p>
<pre class="code"><code>gunzip /usr/share/doc/wordpress/examples/setup-mysql.gz</code></pre>
<p>Altenatively:</p>
<pre class="code"><code>cd /user/shar/doc/wordpress/examples
gunzip setup-mysql.gz</code></pre>
<p>Now you should go to <a href="http://localhost/wordpress">http://localhost/wordpress</a> and fill in the form that appears in your browser.</p>
<p><a href="images/Wordpress01.png"><img src="images/Wordpress01Small.png" alt="Last step of the WordPress install" /></a></p>
<p><strong>Figure 01: The last step of the WordPress install</strong></p>
<p>Now you can just browse to the following page to view your site:</p>
<pre class="code"><code>http://localhost/wordpress</code></pre>
<p>And browse to this page to administer your site, and to begin adding in new pages:</p>
<pre class="code"><code>http://localhost/wordpress/wp-admin</code></pre>
<h2 id="installing-wordpress-on-aws">Installing WordPress on AWS</h2>
<p>I had some trouble setting up WordPress on AWS when using an Elastic IP. I had to use the long form of the public DNS for the elastic IP. After install LAMP, I did this</p>
<pre class="code"><code>sudo apt-get install wordpress php5-gd
sudo ln -s /usr/share/wordpress /var/www/wordpress
sudo bash /usr/share/doc/wordpress/examples/setup-mysql -n wordpress ec2-32-23-173-11.compute-1.amazonaws.com</code></pre>
<p>Due to a bug in the WordPress install script, you may get an unfound error on this command:</p>
<pre class="code"><code>sudo bash /usr/share/doc/wordpress/examples/setup-mysql -n wordpress ec2-12-34-567-89.compute-1.amazonaws.com</code></pre>
<p>The problem is that sometimes the WordPress install script does not decompress the setup-mysql script. To fix the problem, you need to unzip it yourself. In particular, you can type the following command:</p>
<pre class="code"><code>gunzip /usr/share/doc/wordpress/examples/setup-mysql.gz</code></pre>
<p>Altenatively:</p>
<pre class="code"><code>cd /user/shar/doc/wordpress/examples
gunzip setup-mysql.gz</code></pre>
<p>When you are done, try rerunning the command which gave the error. it should work.</p>
<p>I found <strong>ec2-23-23-170-11.compute-1.amazonaws.com</strong> in the elastic ip page of the EC2 console. It is also available on the Instances page at the bottom, after you place a check mark before your running instance. It may be slightly easier to block copy the address from the Instances page.</p>
<p><a href="images/Wordpress03.png"><img src="images/Wordpress03Small.png" alt="WordPress get long form of public DNS for Elastic IP" /></a></p>
<p>Figure 0X: When installing WordPress on AWS, get the long form of public DNS for the Elastic IP. (Click to expand.)</p>
<h2 id="setting-up-the-database-manually">Setting up the Database Manually</h2>
<p>Sometimes it is nice not to run the automatic install shown above, but instead to get one's hands dirty and handle at least parts of the install yourself. This gives you more control, and a better understanding, of how WordPress works.</p>
<p>To get started, ,ake sure you can log into the mysql tool:</p>
<pre class="code"><code>$ mysql -u root -p
Enter password:
Welcome to the MySQL monitor. Commands end with ; or \g.
Your MySQL connection id is 39
Server version: 5.1.58-1ubuntu1 (Ubuntu)</code></pre>
<p>Now create a database called <strong>wordpress</strong>:</p>
<pre><code>mysql&gt; create DATABASE wordpress;
Query OK, 1 row affected (0.00 sec)

mysql&gt; show databases;
+--------------------+
| Database |
+--------------------+
| information_schema |
| mysql |
| wordpress |
+--------------------+
3 rows in set (0.00 sec)</code></pre>
<p>To check your work with a GUI based interface to MySQL, install myphpadmin. To install this handy database adminstration tool on Linux just issue this command:</p>
<pre class="code"><code>sudo apt-get install phpmyadmin</code></pre>
<p>For more details, or for the Windows install of phpmyadmin, go to the PHP page:</p>
<p><a href="http://www.elvenware.com/charlie/development/web/Php/#phpmyadmin">http://www.elvenware.com/charlie/development/web/Php/#phpmyadmin</a></p>
<h2 id="wpConfig">Understanding wp-config.php</h2>
<p>Perhaps no part of the WordPress install is more important than properly configuring wp-config.php. This file is stored in the root of your WordPress site. This file is set up for you automatically during the install; nevertheless, it is important that you understand at least the core portions of this file. In particular, you should open up your copy of this file and find this section:</p>
<pre class="code"><code>// ** MySQL settings - You can get this info from your web host ** //
/** The name of the database for WordPress */
define(&#39;DB_NAME&#39;, &#39;wordpress&#39;);

/** MySQL database username */
define(&#39;DB_USER&#39;, &#39;userName&#39;);

/** MySQL database password */
define(&#39;DB_PASSWORD&#39;, &#39;password&#39;);

/** MySQL hostname */
define(&#39;DB_HOST&#39;, &#39;localhost&#39;);</code></pre>
<p>Here is where you define your database name, your user name, your password, and your host site. Where I have typed in <strong>userName,</strong> you should type in your user name, such as Lisa, Jerry or Miguel. You should also type in your custom password. It is typical, but by no means mandatory, to create a database named wordpress and to host your first site on your localhost.</p>
<h2 id="moving">Moving WordPress</h2>
<p>Â My web hosts does not give me root access to my site, so I was at first unclear how to set up this site. I ended up setting it up on Windows, using the Microsoft Web Platform Installer, which automated the entire process. I then simply copied the site over to Elvenware using SFTP. I set up a MySQL database on Elvenware, edited the wp-config.php file, then browsed to my admin site for the blog. It asked me to set up the site, which meant in this case that it would create the necessary tables in the database for me. I had to fill in a few simple fields, and then I was up and running.</p>
<p>After I moved my WordPress site from a local machine to my web host, I found I had put it in the wrong folder. The problem is that the folder I placed WordPress in becomes, by default, part of the URL to my blog:</p>
<p><a href="http://www.elvenware.com/charlie/elvenblog">http://www.elvenware.com/charlie/elvenblog</a></p>
<p>My initial mistake was to put the project in a folder called <strong>wordpress</strong>, when I wanted to have it in a folder called <strong>elvenblog</strong>. So how did I make the change? It turned out to be a two step process:</p>
<ul>
<li>I needed to change a table called wp_options, where there was a row that defined the url for my site</li>
<li>In particular, there was a row in which a field called option_name was set to the option_value of <a href="http://www.elvenware.com/charlie/wordpress">http://www.elvenware.com/charlie/wordpress</a>. I need to change that URL.</li>
</ul>
<p>It turns out that this change was fairly easy to make using a tool called PhpMyAdmin. That tool automated the process for me, but it did display the actual SQL created to perform the update, which looks like this:</p>
<pre class="code"><code>UPDATE `MyWordPressDatabase`.`wp_options` SET `option_value` = &#39;ElvenBlog&#39; WHERE `wp_options`.`option_id` =4 LIMIT 1 ;</code></pre>
<p>Having completed this task, however, I found I was not quite done yet. I could browse my site and use wp-admin, but some of the minor features, such as comments, were not working correctly, in that they kept trying to access .../charlie/wordpress rather than .../charlie/elvenblog. To fix this, signed into to wp-admin, and went to the Settings page. On that page I changed the <strong>Site Address</strong>, so that both the <strong>WordPress</strong> address and <strong>Site Address</strong> read:</p>
<pre class="code"><code>http://www.elvenware.com/charlie/elvenblog.</code></pre>
<p>After making that change, comments on my blog posts started working again. (It is posssible that I could also have simply left the Site Address field blank, but I have not yet tried that experiment.)</p>
<p>Here is a link that can help you understand more about this subject, and how to handle some special cases I don't cover here.</p>
<pre class="code"><code>http://codex.wordpress.org/Moving_WordPress</code></pre>
<h2 id="edit">Editing with WordPress</h2>
<p>There are various bits of markup you can use to help you edit the documents you create.</p>
<ul>
<li><a href="http://en.support.wordpress.com/category/writing-editing/">Writing and Editing</a></li>
<li><a href="http://en.support.wordpress.com/microsoft-word/">Using Word as an Editor</a></li>
<li><a href="http://en.support.wordpress.com/code/posting-source-code/">Source Code</a></li>
<li><a href="http://en.support.wordpress.com/post-by-voice/">Post over the Phone</a></li>
</ul>
<h2 id="customize">Customization</h2>
<ul>
<li><a href="http://en.support.wordpress.com/category/appearance/">Customize Appearance</a></li>
</ul>
<h2 id="insertPost">Insert a Post with Code</h2>
<p>Use the wp_insert_post method:</p>
<p><a href="http://codex.wordpress.org/Function_Reference/wp_insert_post">http://codex.wordpress.org/Function_Reference/wp_insert_post</a></p>
</article>
	<footer>

		<p>Copyright &copy; <a href="../../index.html">Charlie Calvert</a> |
		<a href="../../index.html">Elvenware Home</a> |
		<a href="../index.html">Writing Code</a> |
		<a href="../delphi/index.html">Delphi</a> |
		<a href="../csharp/index.html">CSharp</a> |
		<a href="../../books/index.html">My Books</a> </p>
	</footer>
</div>

</body>
</html>



