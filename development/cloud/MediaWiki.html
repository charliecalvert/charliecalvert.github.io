<!DOCTYPE html>
<html dir="ltr">

<!-- #BeginTemplate "../../Elvenware.dwt" -->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<!-- #BeginEditable "doctitle" -->
<title>MediaWiki</title>
<!-- #EndEditable -->
<meta content="width=device-width,minimum-scale=1.0,maximum-scale=1.0" name="viewport" />
<link href="/charlie/libs/css/style2.css" rel="stylesheet" title="style2" type="text/css" />
<link href="/charlie/libs/jquery-ui/jquery-ui.css" rel="stylesheet" type="text/css" />
<script src="/charlie/libs/scripts/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js" type="text/javascript"></script>
<script src="/charlie/libs/scripts/elvenware.js" type="text/javascript"></script>
<!-- #BeginEditable "docScripts" -->








<!-- #EndEditable -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2806409-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body>

<div id="container">
	<header>
		<div class="navButton" onclick="elvenware.toggleMenu()">
			Toggle Menu</div>
		<h1>Charlie Calvert on Elvenware</h1>
		<h2>Writing Code and Prose on Computers</h2>
	</header>
	<nav>
		<h2>Menu</h2>
		<div id="accordion00">
		<h2 class="navSection01">Core Code</h2>
			<ul>
				<li><a href="/charlie/development/index.html">Strongly Typed</a></li>
				<li><a href="/charlie/development/web/index.html">Web &amp; Scripts</a></li>
				<li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li>
			</ul>
		
			<h2 class="navSection02">OS and Tools</h2>
			<ul>
				<li><a href="/charlie/os/index.html">OS</a></li>
				<li><a href="/charlie/development/database/index.html">Database</a></li>
				<li><a href="/charlie/books/index.html">My Writing</a></li>
			</ul>
			
		
			<h2 class="navSection03">Art</h2>
			<ul>
				<li><a href="../../Art/index.html">Poems &amp; Photos</a></li>
				<li><a href="../../books/reading/index.html">Book Reviews</a></li>
				<li><a href="../../spirit/index.html">Spiritual</a></li>
			</ul>
			<h2 class="navSection04">Links</h2>
			<ul>
				<li><a href="../../links.html">My Links</a></li>
				<li><a href="http://www.falafel.com/">Falafel</a></li>
				<li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li>
			</ul>
		</div>
	</nav>
	<article>
		<figure>
			<img alt="Elvenware" src="/charlie/images/elvenwarelogo.png" /></figure>
		<!-- #BeginEditable "body" -->

<h1 id="mediawiki">MediaWiki</h1>
<p>This page is dedicated to explaining the MediaWiki software package.</p>
<h3 id="index">Index</h3>
<ul>
<li><a href="#what-is-mediawiki">What is MediaWiki</a></li>
<li><a href="#easy-mediawiki-install">Easy MediaWiki Install</a></li>
<li><a href="#manual-mediawiki-install">Manual MediaWiki Install</a></li>
<li><a href="#mediawiki-web-setup">MediaWiki Web Setup</a></li>
<li><a href="#mediawiki-extensions">MediaWiki Extensions</a></li>
<li><a href="#set-up-the-logo">Set up the Logo</a></li>
<li><a href="#page-creation-and-editing">Page Creation and Editing</a></li>
<li><a href="#links">Links</a></li>
</ul>

<h2 id="what-is-mediawiki">What is MediaWiki</h2>
<p>MediaWiki is an open source, free software package that allows you to create your own, personal, customized wikis. A wiki is a web site that can be edited by its users. The web site is generally a repository of information on some topic or set of topics. The users who edit the web site work to contribute additional information to the site. They also edit each other's work, and strive to make the entries in the wiki as factual as possible.</p>
<p>The word wiki is Hawian, and it means &quot;quick.&quot; Therefore the idea behind software like WikiMedia is to create a web site where information can be posted, edited, and viewed quickly and easily. MediaWiki is the same software used to power the popular Wikipedia site. It is therefore one of the most commonly used pieces of software in the entire world.</p>
<p>When you install MediaWiki, you are using the same software that drives the Wikipedia. You can use it, however, not to create an encyclopedia, but to create a repository of information on any subject you deem appropriate.</p>
<h3 id="what-kinds-of-wiki-sites-exist">What Kinds of Wiki Sites Exist?</h3>
<p>One quick way to begin to get a feeling for MediaWiki is to go to the <a href="http://www.wikimedia.org/">WikiMedia.org</a> web site. The <a href="http://www.mediawiki.org/wiki/MediaWiki">MediaWiki</a> site is just one of the projects you will find on that page. Others include:</p>
<ul>
<li><a href="http://www.wiktionary.org/">Wiktionary</a> - A dictionary</li>
<li><a href="http://en.wikiquote.org/wiki/Main_Page">Wikiquote</a> - A collection of quotes</li>
<li><a href="http://en.wikibooks.org/wiki/Main_Page">WikiBooks</a> - A collection of editable books</li>
<li>WikiSource</li>
<li><a href="http://en.wikinews.org/wiki/Main_Page">WikiNews</a> - You write the news</li>
<li>Wikiversity</li>
<li>WikiSpecides</li>
<li>WikiMedia MetaWiki, WikiMedia Commons nd WikiMedia Incubator</li>
</ul>
<p>As you can see, the same piece of software can be put to many different uses. But this is only a very tiny fraction of the sites that use MediaWiki. Below is a link to a page with a more comprehensive list of sites. It shows that there are hundreds, if not thousands of sites that use MediaWiki, though I find that many, though by no means all, the sites are no longer active:</p>
<p><a href="http://www.mediawiki.org/wiki/Sites_using_MediaWiki/en">http://www.mediawiki.org/wiki/Sites_using_MediaWiki/en</a></p>
<p>Frequently a privately owned compay will download the WikiMedia software and create a wiki on one or more of the their products.</p>
<h2 id="easy-mediawiki-install">Easy MediaWiki Install</h2>
<ul>
<li>sudo apt-get install mediawiki</li>
</ul>
<p>Optionally, and if you have a large amount of disk space (4 GB free?) install the following:</p>
<ul>
<li>sudo apt-get install imagemagick mediawiki-math php5-gd</li>
</ul>
<p>We then need to edit apache.conf, removing the # from the line that reads <strong>Alias /mediawiki /var/lib/mediawiki</strong>. After we edit the file, restart apache:</p>
<ul>
<li>sudo nano /etc/mediawiki/apache.conf</li>
<li>sudo /etc/init.d/apache2 restart</li>
</ul>
<p>Here is what the restart might look like on your system:</p>
<p><a href="images/ApacheRestart.png"><img src="images/ApacheRestart-Small.png" alt="Apache restart image" /></a></p>
<p><strong>Figure 0X: Restarting apache. Since we have not <a href="http://stackoverflow.com/questions/9541460/httpd-could-not-reliably-determine-the-servers-fully-qualified-domain-name-us">set the server name</a>, the warning is what you should expect, and is not harmful. (Click image to expand.)</strong></p>
<p>Now start MediaWiki: <a href="http://localhost/mediawiki">http://localhost/mediawiki</a></p>
<p>At this stage, MediaWiki will not be fully installed, but you should be able to something in the browser like that shown in this screen-shot:</p>
<div class="figure">
<img src="images/MediaWiki03.png" alt="Media Wiki Initial Install Screen" /><p class="caption">Media Wiki Initial Install Screen</p>
</div>
<p>If everything is working, skip from here to the <a href="#installWeb">Web Setup Portion</a> of this document. Otherwise, try again, or read the Manul Install section.</p>
<h2 id="manual-mediawiki-install">Manual MediaWiki Install</h2>
<p>If the easy-install shown above does not work for you, then you can try this more detailed install process. Download MediaWiki from this site:</p>
<pre class="code"><code>http://www.mediawiki.org/wiki/MediaWiki</code></pre>
<p>The official installation guide can be found here:</p>
<pre class="code"><code>http://www.mediawiki.org/wiki/Installation</code></pre>
<p>Configuration tips and tricks can be found here:</p>
<pre class="code"><code>http://www.mediawiki.org/wiki/Manual:Configuration</code></pre>
<h3 id="key-links">Key Links:</h3>
<ul>
<li><a href="https://help.ubuntu.com/community/ApacheMySQLPHP">https://help.ubuntu.com/community/ApacheMySQLPHP</a></li>
<li><a href="https://help.ubuntu.com/11.10/serverguide/C/lamp-overview.html">https://help.ubuntu.com/11.10/serverguide/C/lamp-overview.html</a></li>
<li><a href="https://help.ubuntu.com/11.04/serverguide/C/mediawiki.html">https://help.ubuntu.com/11.04/serverguide/C/mediawiki.html</a></li>
</ul>
<h3 id="overview-of-install">Overview of Install</h3>
<pre class="code"><code>$ tar xvzf mediawiki-1.18.1.tar.gz</code></pre>
<pre class="code"><code>$ sudo mv mediawiki-1.18.1 /var/www/mediawiki
$ cd /var/www/mediawiki/
$ chmod 777 mw-config</code></pre>
<h3 id="set-up-the-database">Set up the Database</h3>
<p>This step is optional, as the scripts run in the Web Setup Portion should do this for you automatically. Nevertheless, it is perhaps useful to undersand how to create a database of the type that MediaWiki uses to store data. In this example, we create the database itself, but not the tables that populate it.</p>
<pre class="code"><code>charlie@WesternSea:/var/www/mediawiki$ mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 74
Server version: 5.1.58-1ubuntu1 (Ubuntu)

Copyright (c) 2000, 2010, Oracle and/or its affiliates. All rights reserved.
This software comes with ABSOLUTELY NO WARRANTY. This is free software,
and you are welcome to modify and redistribute it under the GPL v2 license

Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.

mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| charlie_test       |
| mysql              |
| phpmyadmin         |
| script_child       |
| wordpress          |
+--------------------+
6 rows in set (0.08 sec)

mysql&gt; create database mediawiki;
Query OK, 1 row affected (0.05 sec)

mysql&gt; grant index, create, select, insert, update, delete, alter, lock tables on wikidb.* to &#39;wikiuser&#39;@&#39;localhost&#39; identified by &#39;bar&#39;;
Query OK, 0 rows affected (0.00 sec)

mysql&gt;</code></pre>
<h2 id="mediawiki-web-setup">MediaWiki-Web-Setup</h2>
<p>Now it is time for the Web portion of the install. It is during this stage that you configure MediaWiki to support the database, and features, that you want it to use. To begin this process, you typically browse to <strong><a href="http://localhost/mediawiki">http://localhost/mediawiki</a></strong>. You might, however, type in the name of another server besides localhost, depending on where you performed the portion of the install outlined in the previous section. When you browse to that page, you will see something like what is shown in Figure 01.</p>
<div class="figure">
<img src="images/MediaWiki03.png" alt="Media Wiki Initial Install Screen" /><p class="caption">Media Wiki Initial Install Screen</p>
</div>
<p><strong>Figure 01: Click the &quot;set up the wiki&quot; link to begin the core steps in configuring your Wiki.</strong></p>
<p>When performing the install, one of the most important steps is the last, when you copy a file called <strong>LocalSettings.php</strong> from you local machine to your MediaWiki installation. This file is created during the install process, and is handed to you as the last step in the install. I typically save it into <strong>/home/$USER/Downloads</strong>. It contains all the settings you specified when you ran the installatation. Here is the command I gave to copy to the LocalSettings file to its proper location. There is a built-in symlink that goes from <strong>/etc/mediawiki/LocalSettings.php</strong> to <strong>/var/lib/mediawiki/LocalSettings.php</strong>.</p>
<pre class="code"><code>sudo cp /home/charlie/Downloads/LocalSettings.php /etc/mediawiki/.</code></pre>
<p>It is also possible that LocalSettings.php was saved automatically to some location on your system, probably /etc/mediawiki/config. If this happens, you will see a note at the end of the install to this effect. Please note the exact location where LocalSettings is stored as reported by the install application. You can then copy the from there, instead of from your downloads directory. Depending on where the file is placed on your system, it might look something like this:</p>
<pre class="code"><code>sudo cp /etc/mediawiki/config/LocalSettings.php /etc/mediawiki/.</code></pre>
<p>Or on some systems, it might be this:</p>
<pre class="code"><code>sudo mv /var/lib/mediawiki/config/LocalSettings.php /etc/mediawiki/.</code></pre>
<p>If you are in on the Mac or a Linux box, and you need to copy your LocalSettings.php to EC2 or some other remote location, you can do something like this. From your local machine, copy the file to the remote machine using SSH secure copy (scp):</p>
<pre class="code"><code>scp LocalSettings.php ubuntu@XX.XX.XX.XX:/home/ubuntu/.</code></pre>
<p>You should change XX.XX.XX.XX to the IP address or URL of your remote server. Then sign back on to EC2 and copy:</p>
<pre class="code"><code>sudo cp /home/ubuntu/LocalSettings.php /etc/mediawiki/.</code></pre>
<p>When the software is fully installed, it might looking something like the image shown in Figure 02.</p>
<p><a href="images/MediaWiki01.png"><img src="images/MediaWiki01Small.png" alt="Screenshot of the fully install MediaWiki software" /></a></p>
<p><strong>Figure 02: Screenshot of the fully install MediaWiki software. Click to enlarge.</strong></p>
<h2 id="mediawiki-extensions">MediaWiki Extensions</h2>
<p>If you want the extensions, then install them with this command:</p>
<pre class="code"><code>sudo apt-get install mediawiki-extensions</code></pre>
<p>Then edit <strong>/etc/mediawiki/LocalSettings.php</strong> and add the following line at the very end of the document:</p>
<pre class="code"><code>    require_once(&quot;extensions/Poem/Poem.php&quot;); </code></pre>
<p>You may also need to restart apache:</p>
<pre class="code"><code>    sudo /etc/init.d/apache2 restart</code></pre>
<p>Now you should be able to format poems with the poem tag:</p>
<pre class="code"><code>&lt;poem&gt;
Here is my poem.
&lt;/poem&gt;</code></pre>
<p>You will find other extensions you might want to use in:</p>
<pre class="code"><code>    /var/lib/mediawiki/extensions</code></pre>
<p><strong>Note</strong>: The extensions are all symbolic links. There are some notes I've found on the web that imply that the extensions folders must be symbolic links?</p>
<pre class="code"><code>Poem -\&gt; /usr/share/mediawiki-extensions/base/Poem</code></pre>
<p>If the links did not already exist, and they do exist after you install the mediawiki-extensions, you could create them like this:</p>
<pre class="code"><code>sudo ln -s /usr/share/mediawiki-extensions/base/Poem /var/lib/mediawiki/extensions/Poem </code></pre>
<p>There are hundreds of extensions to MediaWiki:</p>
<ul>
<li><a href="http://www.mediawiki.org/wiki/Category:Stable_extensions">http://www.mediawiki.org/wiki/Category:Stable_extensions</a></li>
</ul>
<h2 id="set-up-the-logo">Set up the Logo</h2>
<p>You might want to change the logo seen in the upper left hand corner of your screen. You should not try to edit the image found in:</p>
<pre class="code"><code>/var/lib/mediawiki/skins/common/images. </code></pre>
<p>This file will be replaced when you update your system. Instead, place the file that you want to use as a logo in the <strong>images</strong> directory, by issuing a command that looks something like this:</p>
<pre class="code"><code>sudo cp /home/$USER/MyLogo.png /var/lib/mediawiki/images/. </code></pre>
<p>Then use an editor like<strong>nano</strong> or <strong>vi</strong> to edit <strong>LocalSettings.php</strong> and set the <strong>$wgLogo</strong> variable found on about line 38:</p>
<pre class="code"><code>sudo nano /etc/mediawiki/LocalSettings.php </code></pre>
<p>The line you want to edit should end up looking something like this:</p>
<p><strong>$wgLogo=&quot;/mediawiki/images/MyLogo.png&quot;</strong></p>
<p>Then go back to your copy of MediaWiki and press F5. You should see the new logo as shown here:</p>
<div class="figure">
<img src="images/MediaWiki02.png" alt="Mediawiki with logo" /><p class="caption">Mediawiki with logo</p>
</div>
<h2 id="page-creation-and-editing">Page Creation and Editing</h2>
<p>You typically do not use HTML to format the pages in a Wiki. Instead, you begin editing your page, and then use the simple wiki markup syntax to format the text you place on your pages.</p>
<ul>
<li>If you put two single quote marks are text it appears in ''italic'': <em>italic</em></li>
<li>If you put two equal marks on each side of a word, it appears as a heading, level 2. Which is the equivalent of an H2 in HTML. For example: ==My Heading==.</li>
</ul>
<p>The wiki markup syntax is designed for non-technical people. The easiest way to learn the basics, is to study the <a href="http://www.mediawiki.org/wiki/Help:Editing">reference</a> on the mediawiki site. Some of the more advanced issues are a bit tricky to use. For a mix of simple and more advanced syntax, see these links:</p>
<ul>
<li><a href="http://www.mediawiki.org/wiki/Help:Editing">http://www.mediawiki.org/wiki/Help:Editing</a></li>
<li><a href="http://www.mediawiki.org/wiki/Help:Starting_a_new_page">http://www.mediawiki.org/wiki/Help:Starting_a_new_page</a></li>
<li><a href="http://www.mediawiki.org/wiki/Help:Formatting">http://www.mediawiki.org/wiki/Help:Formatting</a></li>
<li><a href="http://www.mediawiki.org/wiki/Help:Links">http://www.mediawiki.org/wiki/Help:Links</a></li>
<li><a href="http://www.mediawiki.org/wiki/Help:Images">http://www.mediawiki.org/wiki/Help:Images</a></li>
<li><a href="http://www.mediawiki.org/wiki/Help:Tables">http://www.mediawiki.org/wiki/Help:Tables</a></li>
<li><a href="http://www.mediawiki.org/wiki/Help:Templates">http://www.mediawiki.org/wiki/Help:Templates</a></li>
<li><a href="http://www.mediawiki.org/wiki/Help:Variables">http://www.mediawiki.org/wiki/Help:Variables</a></li>
<li><a href="http://www.mediawiki.org/wiki/Help:Managing_files">http://www.mediawiki.org/wiki/Help:Managing_files</a></li>
<li><a href="http://www.mediawiki.org/wiki/Help:Deleting_a_page">http://www.mediawiki.org/wiki/Help:Deleting_a_page</a></li>
<li><a href="http://www.mediawiki.org/wiki/Help:Categories">http://www.mediawiki.org/wiki/Help:Categories</a></li>
</ul>
<h2 id="links">Links</h2>
<ul>
<li><a href="http://www.mediawiki.org/wiki/Manual:FAQ">MediaWiki FAQ</a></li>
<li><a href="http://en.wikibooks.org/wiki/Subject:Languages_of_Europe">Learning European Languages - Spanish</a></li>
</ul>

		<!-- #EndEditable -->
	</article>
	<footer>

		<p>Copyright &copy; <a href="../../index.html">Charlie Calvert</a> |
		<a href="../../index.html">Elvenware Home</a> |
		<a href="../index.html">Writing Code</a> |
		<a href="../delphi/index.html">Delphi</a> |
		<a href="../csharp/index.html">CSharp</a> |
		<a href="../../books/index.html">My Books</a> </p>
	</footer>
</div>

</body>

<!-- #EndTemplate -->

</html>
