<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>JavaScriptBasics</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><!-- link(href='/libs/css/BootstrapIndex.css', rel='stylesheet', type='text/css')--><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><!-- script(src='/libs/scripts/elvenware.js', type='text/javascript')--><!-- script(src="/libs/scripts/Control.js")--><!-- script(src='http://localhost:35729/livereload.js')--></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/development/index.html">Strongly Typed</a></li><li><a href="/development/web/index.html">Web & Scripts</a></li><li><a href="/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>JavaScriptBasics</h1><p>Welcomes to JavaScriptBasics</p><ul><!--TOC_Start--><li><a href="#chapter-02-javascript-basics">Chapter 02 - JavaScript Basics</a></li>
<li><a href="#the-type-system">The Type System</a></li>
<li><a href="#javaScriptSimpleTypes">JavaScript Primitive Types</a></li>
<li><a href="#null-and-undefined">Null and Undefined</a></li>
<li><a href="#null-vs-undefined">Null vs Undefined</a></li>
<li><a href="#immutable">Immutable</a></li>
<li><a href="#primitiveProperty">No Properties for Primitive Types</a></li>
<li><a href="#writing-code">Writing Code</a></li>
<li><a href="#style-guide">Style Guide</a></li>
<li><a href="#statements-express">Expressions and Statements</a></li>
<li><a href="#semicolons">Semicolons</a></li>
<li><a href="#variables-and-the-global-namespace">Variables and the Global Namespace</a></li>
<li><a href="#useVar">Declare Variables with var</a></li>
<li><a href="#declare-variables-inside-objects-or-functions">Declare Variables inside Objects or Functions</a></li>
<li><a href="#declare">Don&#39;t Declare a variable Twice</a></li>
<li><a href="#equalOperators">The == Operator and the === Operator</a></li>
<li><a href="#looping">Looping</a></li>
<li><a href="#for-loops">For Loops</a></li>
<li><a href="#while-loops">While Loops</a></li>
<li><a href="#for-and-while-loop-example-program">For and While Loop Example Program</a></li>
<li><a href="#branching">Branching</a></li>
<li><a href="#if-statements">If Statements</a></li>
<li><a href="#switch-statements">Switch Statements</a></li>
<li><a href="#comparing-switch-and-if-else-statements">Comparing switch and if..else Statements</a></li>
<li><a href="#object-maps">Object Maps</a></li>
<li><a href="#sorting">Sorting</a></li>
<li><a href="#properties-and-constants">Properties and Constants</a></li>
<li><a href="#events-and-mousedown">Events and MouseDown</a></li>
<li><a href="#binding">Binding</a></li>
<li><a href="#experimental-features">Experimental Features</a></li>
<li><a href="#javaScriptDictionariesAreAssociativeArrays">JavaScript Dictionaries are Associative Arrays</a></li>
<li><a href="#debuggingStrategies">Debugging Strategies</a></li>
<li><a href="#insertAdjacentHTML">Insert Adjacent HTML</a></li>
<li><a href="#indent">Indenting with Tabs and Spaces</a></li>
<li><a href="#semicolon">End Functions and Statements with a Semicolon</a></li><!--TOC_End--></ul><h2 id="chapter-02-javascript-basics">Chapter 02 - JavaScript Basics</h2>
<p>We&#39;ll begin by exploring the JavaScript type system.</p>
<p>Newcomers may find it hard to understand why they need to know about the type system. Isn&#39;t there something more interesting or exciting that we can talk about first?</p>
<p>No JavaScript programmer can thrive without knowing the language&#39;s type system. We&#39;ll therefore begin by plunging directly into the subject, taking care to proceed with caution.</p>
<p><strong>NOTE</strong>: <em>This document is based on the current version of JavaScript. This includes, frequent references to the the ECMAScript 6 standard</em>.</p>
<h2 id="the-type-system">The Type System</h2>
<p>A good understanding of JavaScript types is needed by anyone who wants to master the language. Type systems describe, in part, a language&#39;s storage and memory management. When we declare a variable, how does the system store it in the computer&#39;s memory?</p>
<p>For our purposes, we need only understand the core containers used by JavaScript. These containers are called types. For instance the <strong>number</strong> type is used to store numbers. The <strong>boolean</strong> type is used to store the values <strong>true</strong> and <strong>false</strong>.</p>
<p>JavaScript is dynamically typed. If you come from a strongly typed language such as C# or Java, the JavaScript type system may seem simplistic or even poorly constructed. Don&#39;t be too quick to form a judgment. Though it has some significant flaws, the JavaScript type system is both powerful and sophisticated.</p>
<p>There are two halves to the JavaScript type system:</p>
<ul>
<li>Primitive Types</li>
<li>Objects</li>
</ul>
<p>We will begin by exploring primitive types. In this chapter there will also be some superficial discussion of Objects. In depth discussion of Objects appear in other chapters. In particular:</p>
<ul>
<li><a href="http://elvenware.com/charlie/development/web/JavaScript/JavaScriptObjects.html">JavaScript Objects</a></li>
<li><a href="http://elvenware.com/charlie/development/web/JavaScript/JavaScriptFunctions.html">JavaScript Functions</a></li>
</ul>
<h2 id="javaScriptSimpleTypes">JavaScript Primitive Types</h2>
<p>There are six simple (primitive) types in the JavaScript language:</p>
<ul>
<li>Number</li>
<li>Boolean</li>
<li>String</li>
<li>Null</li>
<li>Undefined</li>
<li>Symbol (ECMAScript 6)</li>
</ul>
<p><strong>Number</strong>, <strong>Boolean</strong> and <strong>String</strong> are the work horses of the language. You will use these simple types over and over again.</p>
<p>To create a <strong>Number</strong> simply write the word <strong>var</strong> followed by an equal sign and either an integer or a floating point number and a semicolon:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> x</span> = <span class="hljs-number">3</span>;
<span class="hljs-variable"><span class="hljs-keyword">var</span> y</span> = <span class="hljs-number">2.3</span>;
</code></pre><p>You can use the <strong>typeof</strong> operator to determine the type of a variable.
Given the following declaration:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> myInt</span> = <span class="hljs-number">3</span>;
</code></pre><p>Then the following would return the string <strong>number:</strong></p>
<pre><code><span class="hljs-keyword">typeof</span> myInt; <span class="hljs-comment">// Returns number</span>
</code></pre><p>The act of assigning <strong>myInt</strong> to the value 3 sets the type of
<strong>myInt</strong>. There is no way to explicitly declare the type of the
variable, but we can use the <strong>typeof</strong> operator to confirm that
assigning 3 to <strong>myInt</strong> did in fact set the type of the variable to
<strong>number</strong>.</p>
<p>There is no equivalent of the C# <strong>Integer</strong>, <strong>Float</strong> or <strong>Double</strong>
types. In JavaScript, we just have the <strong>number</strong> type, regardless of
whether the variable is assigned to a simple integer, or a more complex
value such as a floating point number:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> myInt</span> = <span class="hljs-number">5</span>;
<span class="hljs-variable"><span class="hljs-keyword">var</span> myDouble</span> = <span class="hljs-number">3.05</span>;
</code></pre><p>Both <strong>myInt</strong> and <strong>myDouble</strong> are instances of the JavaScript
<strong>number</strong> type.</p>
<p>The following are considered bad form because the contain what are
called &quot;hanging decimal points&quot;:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> myDouble</span> = <span class="hljs-number">3.</span>;
<span class="hljs-variable"><span class="hljs-keyword">var</span> myDouble</span> = <span class="hljs-number">.3</span>;
</code></pre><p>Instead, write something like this:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> myDouble</span> = <span class="hljs-number">3.0</span>;
<span class="hljs-variable"><span class="hljs-keyword">var</span> myDouble</span> = <span class="hljs-number">0.3</span>;
</code></pre><p>To create a <strong>String</strong>, repeat the above operation but assign the variable to a string:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> myString</span> = <span class="hljs-string">"Some String"</span>;
</code></pre><p>Here is an example of how to find the type of a string:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> myString</span> = <span class="hljs-string">"A String"</span>;
<span class="hljs-variable"><span class="hljs-keyword">var</span> type</span> = typeof myString; <span class="hljs-comment">// Sets type equal to the word string</span>
</code></pre><p>You can use either single or double quotes:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> myString</span> = 'A string';
<span class="hljs-variable"><span class="hljs-keyword">var</span> myString</span> = <span class="hljs-string">"A string"</span>;
</code></pre><p>Both are legal. This makes it easy to embed quotes in a string:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> myQuote</span> = <span class="hljs-string">"He said: 'By golly, I think it's alive!'"</span>;
</code></pre><p>Or, if you prefer:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> myQuote</span> = 'He said: <span class="hljs-string">"By golly, I think it\'s alive!"</span>';
</code></pre><p>If you want some direction here, I suggest using double quotes for strings, as it makes embedding apostrophe&#39;s easier. For instance, in the second example I was forced to use a backslash to escape the apostrophe in the word <strong>it&#39;s</strong>. This is, in my opinion, somewhat awkward.</p>
<p>There is no functional difference between single and double quotes. This is definitely one of the nice features of the JavaScript language.</p>
<p>Though not widely available at this time, we will be able to use backticks to declare multiline strings in EcmaScript 6:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> myString = `<span class="hljs-keyword">Use</span> backticks <span class="hljs-keyword">for</span>
multi-<span class="hljs-keyword">line</span> strings
<span class="hljs-keyword">in</span> ecmascript 6.`;
</code></pre>
<p>For now, this is a reasonable way to handle multiline strings;</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> myString = <span class="hljs-symbol">'Use</span> the plus symbol <span class="hljs-keyword">for</span> ' +
    <span class="hljs-symbol">'multi</span>-line strings ' +
    <span class="hljs-symbol">'in</span> most cases.'
</code></pre>
<p>Here is a basic example from a program called PrimitiveTypes.js:</p>
<pre><code>    <span class="hljs-keyword">var</span> aNumber = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">var</span> aString = <span class="hljs-string">'string'</span>;
    <span class="hljs-keyword">var</span> aBoolean = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> aNull = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> aUndefined = <span class="hljs-literal">undefined</span>;
    <span class="hljs-keyword">var</span> foo;

    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> aNumber);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> aString);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> aBoolean);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> aNull);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> aUndefined);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> foo);
</code></pre><p>If you have installed <strong>nodejs</strong> and type **node PrimitiveTypes.js&quot;
the output of this program is as follows:</p>
<pre><code><span class="hljs-built_in">number</span>
<span class="hljs-built_in">string</span>
<span class="hljs-built_in">boolean</span>
object
<span class="hljs-literal">undefined</span>
<span class="hljs-literal">undefined</span>
</code></pre><h2 id="null-and-undefined">Null and Undefined</h2>
<p>There are however two other primitive types, called <strong>null</strong> and <strong>undefined.</strong> They are designed
to help you know the state of an object.</p>
<p>Note that the type of <strong>aNull</strong> is object. As mentioned above, the
purpose of the <strong>null</strong> type is to help you know the state of an object.
It therefore makes (at least some) sense that the type itself should be
an object.</p>
<p>Note that the type of the unassigned variable <strong>foo</strong> is <strong>undefined</strong>.
Do you see how that works? We don&#39;t assign <strong>foo</strong> to anything: <strong>var
foo;</strong>. When we ask to see its type, the system tells us that <strong>foo</strong> is
<strong>undefined</strong>. You will see that a lot, especially when you are starting
out with JavaScript. The lessson here is simple: when you see that a
variable is <strong>undefined</strong>, that usually means that you haven&#39;t assigned
any value to it</p>
<p>It is probably best to only use undefined in your program when you want
to test if a variable has a value assigned to it. Trying to use it in
any other way can be problematic.</p>
<p>The most common use of <strong>null</strong> is to initialize a variable that you
want to assign to an object at some point in the future:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> myObject</span> = <span class="hljs-literal">null</span>;
</code></pre><p>You might sometimes also want to pass null into a function or return
null from a function:</p>
<pre><code><span class="hljs-keyword">var</span> myFunc = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value)</span> </span>{
    <span class="hljs-keyword">if</span> (value !== <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// handle value here</span>
    }
}

<span class="hljs-keyword">var</span> myFunc = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value)</span> </span>{
    <span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">3</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Write code here</span>
    }
}
</code></pre><p>To test for undefined we write this:</p>
<pre><code><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">value</span> == <span class="hljs-string">'undefined'</span>) {
    <span class="hljs-comment">// handle undefined value here</span>
}
</code></pre><p>And finally, to end on a humorous note, we can run one of my favorite
tests in the JavaScript language:</p>
<pre><code><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">undefined</span> == <span class="hljs-literal">null</span>)
</code></pre><p>Because it intuitively obvious that the above will return <strong>false</strong>, it
should come as no surprise to learn that it returns <strong>true</strong>. The most
galling aspect of this absurdity is that there is a logical explanation
for it: <strong>undefined</strong> is derived from the type <strong>null</strong>. Or is it the
other way around? When things are this chaotic, can it possible matter?
Just for the record, it is not the other way around, but when the
JavaScript language decides to degenrate into incoherence, they have a
special way of doing it that reminds me that given the right
circumstance, anyone with a room temperature IQ or above could create
one of the most popular and important computer languages in the world.
The moral, of course, is that you should never give up: you simply don&#39;t
know what fate might have in store for you!</p>
<p>On a more serious note, there is an important lesson here: JavaScript
has serious design flaws. The langauge can be used to write good code,
but you must step in and actively craft a coherent architecture for your
program. If you just &quot;go with the flow&quot; of the JavaScript language, the
result will be disaster. You have to impose order on the chaos that is
JavaScript. This is a difficult task, but it can be done.</p>
<h3 id="null-vs-undefined">Null vs Undefined</h3>
<p>The difference between <strong>null</strong> and <strong>undefined</strong> is a subtlety of the
JavaScript language that we probably could have done without. Perhaps
there will be a day when I see why it is useful, but right now, I would
say that language would have been better without <strong>undefined</strong>. The
single keyword <strong>null</strong> would have been enough for my purposes.</p>
<h3 id="immutable">Immutable</h3>
<p>You may have read that JavaScript primitive types are immutable. If you are a beginner, and have read about immutable JavaScript types, my suggestion is that you simply forgot that you read it. You should also skip the rest of this section. I say this because the subject is arcane in the extreme. It is not necessary for beginners to understand what it means to say that a primitive type is immutable.</p>
<p>Consider the following example:</p>
<pre><code>var myString = <span class="hljs-string">"My String"</span><span class="hljs-comment">;</span>
myString = <span class="hljs-string">"A new string"</span><span class="hljs-comment">;</span>
</code></pre><p>The code shown above is entirely valid. It behaves exactly as you would expect it to behave.</p>
<p>You cannot, however, write the following code:</p>
<pre><code>var myString = <span class="hljs-string">"Fury"</span><span class="hljs-comment">;</span>
myString[<span class="hljs-number">0</span>] = <span class="hljs-string">"B"</span><span class="hljs-comment">;</span>
</code></pre><p>That code does not behave as expected because JavaScript strings are immutable. The variable <strong>myString </strong> is not immutable, however, the value assigned to it is immutable.</p>
<h3 id="primitiveProperty">No Properties for Primitive Types</h3>
<p>If you access a &quot;property&quot; of a primitive type you are actually setting off a complex chain of events. Again, this is a subject that beginners need not understand. In fact, even intermediate JavaScript developers are probably better off not knowing about this subject. It can cause a developer to fret about performance when such concerns are simply not warranted.</p>
<p>Consider the following code:</p>
<pre><code>var myString = <span class="hljs-string">"My String"</span><span class="hljs-comment">;</span>
var <span class="hljs-keyword">length</span> = myString.<span class="hljs-keyword">length</span><span class="hljs-comment">;</span>
</code></pre><p>The above code looks simple enough, but behind the scenes a bit of sleight of hand takes place. The variable <strong>myString</strong> is converted from a primitive type into an object and then back into a primitive type. The following is pseudo code showing something of what happens behind the scene:</p>
<pre><code>myString = new <span class="hljs-keyword">String</span>(myString);  // Create a <span class="hljs-keyword">String</span> object from the <span class="hljs-keyword">primitive</span><span class="hljs-title"> type</span>.
var length = myString.length;     // Access a <span class="hljs-keyword">property</span><span class="hljs-title"> </span>of the <span class="hljs-keyword">String</span> object.
var myString = myString.value();  // Magically convert back to a <span class="hljs-keyword">primitive</span><span class="hljs-title"> type</span>.
</code></pre><p>It is always upsetting for developers to know that this thing kind of thing is taking place. My strong suggestion, however, is that you just ignore it. Other languages, such as C#, do similar things, and 99.99 percent of the time it works out just fine. Only in very rare circumstances does it end up actually be the source of significant performance proplems in your code.</p>
<p>I realize how snobby this sounds, but I will say it anyway: It is usually amateur programmers who worry about this kind of thing. I&#39;m referring to programnmners who think they are lot smarter than they really are. Unless you have reached the stage in your career where you are no longer flattered or irritated by the constant and overwhelming sound of people telling you how brilliant you are, then you probably aren&#39;t ready to worry about problems like this.</p>
<h2 id="writing-code">Writing Code</h2>
<p>We have said enough about the type system for now. Let&#39;s move on to a discussion of how to write and structure your code. For now we will focus on the basics. In later chapters you can dig into the details.</p>
<h2 id="style-guide">Style Guide</h2>
<p>Google&#39;s style guide is probably the gold standard at this time, though others are also worth looking at. The most important thing is to be sure that a team has a consistent style.</p>
<ul>
<li><a href="http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml">Google Style Guide</a></li>
</ul>
<p>Blank lines between functions. Use white space to make code more readable.</p>
<ul>
<li><a href="http://javascript.crockford.com/code.html](http://javascript.crockford.com/code.html">WhiteSpace Crockford</a></li>
<li><a href="http://www.mediawiki.org/wiki/Manual:Coding_conventions/JavaScript](http://www.mediawiki.org/wiki/Manual:Coding_conventions/JavaScript">WhiteSpace MediaWiki</a></li>
</ul>
<h2 id="statements-express">Expressions and Statements</h2>
<p>There are two fundamental, low level, building blocks for programs:</p>
<pre><code><span class="hljs-built_in">statements</span>
expressions
</code></pre><p><strong><em>An expression returns a value</em></strong>. It can be evaluated. Consider this statement:</p>
<pre><code><span class="hljs-keyword">int</span> x = <span class="hljs-number">3</span> + <span class="hljs-number">2</span><span class="hljs-comment">;</span>
</code></pre><p>It contains an expression that looks like this: 3 +  2.  We know that 3 + 2 returns 5, so it is an expression, it returns a value:</p>
<pre><code><span class="hljs-symbol">3 </span>+ <span class="hljs-number">2</span>
</code></pre><p>Consider this assignment statement:</p>
<pre><code><span class="hljs-keyword">int</span> x = <span class="hljs-number">3</span><span class="hljs-comment">;</span>
</code></pre><p>Here 3 is an expression that returns a value; it yields the value 3.</p>
<p>A function call is usually an expression:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> x</span> = foo();
</code></pre><p>Even if <strong>foo()</strong> returned <strong>void</strong>, it still can be thought of as an expression:</p>
<pre><code>foo()<span class="hljs-comment">;</span>
</code></pre><p>Despite the call above, expressions don&#39;t usually stand on their own, though they can in many cases. They usually make up part of a statement. Statements do stand on their own. They are the smallest complete portion of a program. For instance:</p>
<pre><code><span class="hljs-keyword">int</span> x = <span class="hljs-number">3</span><span class="hljs-comment">;</span>
</code></pre><p>This is a statement because it is complete. It performs a single action in a discreet, stand alone line of code. It stands on its own and it does something. It performs an action. It assigns the value 3 to the variable x. Expressions such as <strong>3</strong> or <strong>2 + 3</strong> make no or little sense on their own:</p>
<pre><code><span class="hljs-number">3</span>
<span class="hljs-symbol">2 </span>+ <span class="hljs-number">3</span>
</code></pre><p>They don&#39;t really do anything but produce a compiler error. We typically assign expressions to variables to make statements:</p>
<pre><code>var x = <span class="hljs-number">2</span> + <span class="hljs-number">3</span><span class="hljs-comment">;</span>
<span class="hljs-keyword">int</span> x = <span class="hljs-number">2</span> + <span class="hljs-number">3</span><span class="hljs-comment">;</span>
</code></pre><p>Statements end in semicolons in most curly brace languages.</p>
<p>The statements I&#39;m showing here are all assignment statements. These are a classic kind of statement, but they are not at all the only kind of statement. Other kinds of statements include <strong>for statements</strong>, which are clearly not assignments:</p>
<pre><code><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">3</span><span class="hljs-comment">; x &lt; 7; x++) {</span>
}<span class="hljs-comment">;</span>
</code></pre><p>And <strong>if statements</strong> don&#39;t look like assignments:</p>
<pre><code><span class="hljs-keyword">if</span> (<span class="hljs-keyword">x</span> &gt; <span class="hljs-number">3</span>) {
   console.log(<span class="hljs-keyword">x</span>)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre><p>I&#39;m showing you these statements just so you don&#39;t oversimplify your understand of statements. They can take many shapes and forms. More than I wish to discuss in this context. We have just looked at three kinds: assignments, for statements and if statements.</p>
<ul>
<li>Statements on Wikipedia: <a href="http://en.wikipedia.org/wiki/Statement_%28computer_science%29">http://en.wikipedia.org/wiki/Statement_%28computer_science%29</a></li>
<li>Expressions on Wikipedia: <a href="http://en.wikipedia.org/wiki/Expression_%28computer_science%29">http://en.wikipedia.org/wiki/Expression_%28computer_science%29</a></li>
<li>Expressons in C#: <a href="https://msdn.microsoft.com/en-us/library/ms173144.aspx">https://msdn.microsoft.com/en-us/library/ms173144.aspx</a></li>
<li>Statemetns in C#: <a href="https://msdn.microsoft.com/en-us/library/ms173143.aspx">https://msdn.microsoft.com/en-us/library/ms173143.aspx</a></li>
<li>General C# topic: <a href="https://msdn.microsoft.com/en-us/library/ms173142.aspx">https://msdn.microsoft.com/en-us/library/ms173142.aspx</a></li>
</ul>
<p>In the Wikipedia, they talk about evaluation rather than yielding a value, but I think they are saying the same thing, just in different terms. Expressions can be evaluated, they yield a value.</p>
<p>The folks who write the C# guides are really good. For instance: &quot;<strong>Expressions can consist of a literal value, a method invocation, an operator and its operands</strong>, or a simple name. Simple names can be the name of a variable, type member, method parameter, namespace or type.&quot; The parts in bold describe the types of expressions discussed above. Here is an example of type of expression not covered above, the kind not in bold in this paragraph:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> x</span> = y;
</code></pre><p>Here y is an expression. It is a simple name for a variable.</p>
<p>There are tricky areas, such as this:</p>
<pre><code>foo()<span class="hljs-comment">;</span>
</code></pre><p>It stands on its own and it returns a value. It could be thought of as an expression and a statement. But the following is clearly a statement, and not an expression:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> x</span> = <span class="hljs-number">3</span> + <span class="hljs-number">2</span>;
</code></pre><p>These concepts aren&#39;t really that hard, yet I think it is good for students of computer science to learn to speak in such terms. It gives us a language we can use to describe what we are doing when we write code. Also, the terms are used all the time in text books, and we want to be able to read standard texts.</p>
<h2 id="semicolons">Semicolons</h2>
<p>Placement of semicolons in JavaScript can be confusing. The general rule is to put a command after an assignment statement. One variation on this:</p>
<pre><code><span class="hljs-keyword">var</span> foo;
</code></pre><p>The above requires a semicolon because there is an implicit assignment to undefined. It is really saying:</p>
<pre><code><span class="hljs-keyword">var</span> foo = <span class="hljs-literal">undefined</span>;
</code></pre><p>When we call a function, we often put a semicolon after it:</p>
<pre><code>myFunction()<span class="hljs-comment">;</span>
</code></pre><p>I believe the assumption is that the function returns something, even if it does not:</p>
<pre><code><span class="hljs-keyword">var</span> <span class="hljs-literal">result</span> = myFunction();
</code></pre><p>When we declare a function like this, we don&#39;t use a semicolon:</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFunction</span><span class="hljs-params">()</span> </span>{

}
</code></pre><p>If we declare it anonymously and assign it to a variable, we do use a semicolon:</p>
<pre><code><span class="hljs-keyword">var</span> myFunction = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{

};
</code></pre><p>In many computer languages, this is an experssion:</p>
<pre><code><span class="hljs-symbol">2 </span>+ <span class="hljs-number">2</span>
</code></pre><p>This is a statement:</p>
<pre><code><span class="hljs-variable"><span class="hljs-keyword">var</span> x</span> = <span class="hljs-number">2</span> + <span class="hljs-number">2</span>;
</code></pre><p>We usually put semicolons after statements, but not after expressions. Hence we write:</p>
<pre><code>var x = <span class="hljs-comment">(2 + 2)</span> - <span class="hljs-comment">(2 * 3)</span>;
</code></pre><p>In the above we don&#39;t put a semicolon after 2 + 2 or 2 * 3, we put it after the whole statement. As Michael points out, these are assignment statements.</p>
<p>One thing you never want to do:</p>
<pre><code><span class="hljs-selector-tag">function</span> <span class="hljs-selector-tag">getPerson</span>() {
    <span class="hljs-selector-tag">return</span>
    {
        <span class="hljs-attribute">firstName</span>: <span class="hljs-string">"George"</span>,
        <span class="hljs-attribute">lastName</span>: <span class="hljs-string">"Washington"</span>
    };
}
</code></pre><p>In this case, JavaScript will automatically insert a semicolon after return:</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPerson</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span>;
    {
        firstName: <span class="hljs-string">"George"</span>,
        lastName: <span class="hljs-string">"Washington"</span>
    };
}
</code></pre><p>Then our code produces an error, like this:</p>
<pre>
C:\Temp\Bar.js:5
            lastName: "Washington"
                    ^
SyntaxError: Unexpected token :
    at Module.\_compile (module.js:439:25)
    at Object.Module.\_extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module.\_load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
    at startup (node.js:119:16)
    at node.js:902:3
</pre>

<p>It inserts the semicolon without telling you, and in an attempt to help you. Hence we always write:</p>
<pre><code class="lang-javascript">    <span class="hljs-selector-tag">function</span> <span class="hljs-selector-tag">getPerson</span>() {
        <span class="hljs-selector-tag">return</span> {
            <span class="hljs-attribute">firstName</span>: <span class="hljs-string">"George"</span>,
            <span class="hljs-attribute">lastName</span>: <span class="hljs-string">"Washington"</span>
        };
    }
</code></pre>
<p>Notice that the opening curley brace is on the same line as the return statement.: <strong>return {</strong></p>
<h2 id="variables-and-the-global-namespace">Variables and the Global Namespace</h2>
<p>From a purely syntactical point of view, it is easy to declare
variables in JavaScript. For instance, you can just write the name
of a variable and assign it a value:</p>
<p>x = 3;</p>
<p>This is not, however, a good strategy.</p>
<p>In general, when declaring variables in JavaScript, you want to make
sure that they do not become part of the global object. What is the
global object? That depends, but when you are inside a browser, there
is an object called <strong>window</strong> that is the global object. The <strong>window</strong>
object is huge; it contains many properties. When you declare a variable
as shown above, it becomes part of the global object.</p>
<p>There are several problems with putting variables in the global object.</p>
<ul>
<li>The global object is big and complex enough already, without you further
<em>polluting</em> it by adding additional properties.</li>
<li>Sometimes a library will intentionally place a variable in the global
namespace. If you by chance add your own variable with the same name,
then you will overwrite the variable from the library, and potentially
break code. Of course, this can work in reverse. You might declare
something in the global namespace, and a library will overwrite it,
hence breaking your code. In either case, you want to avoid putting
variables in the global namespace.</li>
</ul>
<p>Ultimately, your code should place only one variable in the global
namespace, and it should use a name that you know will be unique
when you do so. Learning to do that is, unfortunately, non-trivial.
You will, however, learn how to get started in this section. At least
one viable final solution will be provided in the chapter on the
JavaScript module pattern. Each step along the way is valuable. In
other words, the information you learn in this portion of the text will
contain much valuable and useful information. It is not that you will
replace the information in this chapter with the information in the
modules pattern chapter. Rather, the modules pattern builds on, and
includes, the information found in this chapter.</p>
<h3 id="useVar">Declare Variables with var</h3>
<p>The first time you use a variable, you should declare it by using the
keyword <strong>var</strong>.</p>
<p>Beginners sometimes write something like this:</p>
<pre><code>myObject = new MyObject()<span class="hljs-comment">;</span>
myObject.<span class="hljs-keyword">run</span>()<span class="hljs-comment">;</span>
</code></pre><p>This is an error because the keyword <strong>var</strong> is not used when myobject
is declared. As a result, your new object will likely end up in the global name
space; that is probably not what you want. To fix the problem, write:</p>
<pre><code>var myObject = new MyObject()<span class="hljs-comment">;</span>
myObject.<span class="hljs-keyword">run</span>()<span class="hljs-comment">;</span>
</code></pre><p>Note the use of the <strong>var</strong> keyword.</p>
<p>It is very easy to omit the keyword <strong>var</strong> when declaring a variable
for the first time. As a result, you should be sure to run JsHint over
all the JavaScript code you create:</p>
<p><a href="http://www.jshint.com/">http://www.jshint.com/</a></p>
<h3 id="declare-variables-inside-objects-or-functions">Declare Variables inside Objects or Functions</h3>
<p>Consider the following code:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> count = <span class="hljs-number">3</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addCount</span><span class="hljs-params">(x)</span> </span>{
    <span class="hljs-keyword">return</span> x + count;
}
</code></pre>
<p>In this code the variable cound becomes a global variable, which is
probably not what you want. Instead, declare your code like this:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addCount</span><span class="hljs-params">(x)</span> </span>{
    <span class="hljs-keyword">var</span> count = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">return</span> x + count;
}
</code></pre>
<p>Now var is part of addCount, and is not added to the global name space.
Of course, addCount itself is in the global namespace, but we are not
yet ready to address that issue.</p>
<p>Note that the following code also puts count in global namespace:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span> addCount(x) {
    <span class="hljs-built_in">count</span> = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">return</span> x + <span class="hljs-built_in">count</span>;
}
</code></pre>
<p>The error here is that the keyword <strong>var</strong> is omitted. As a result,
count becomes a property of the global object.</p>
<h3 id="declare">Don&#39;t Declare a variable Twice</h3>
<p>Never redeclare a variable two times. The following example declares
the variable param1 as an argument to method foo, and then declares
a variable with the same identifier (param1) inside the body of
<strong>foo</strong>.</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span><span class="hljs-params">(param1)</span> </span>{
    <span class="hljs-keyword">var</span> param1 = <span class="hljs-number">2</span>;
}        
</code></pre><h2 id="equalOperators">The == Operator and the === Operator</h2>
<p>Never use == or !=. Instead, use === and !==. The problem here is that
== can return true when you are comparing two different types of
objects. For instance:</p>
<pre><code><span class="hljs-symbol">3 </span>== <span class="hljs-comment">'3';  // returns true</span>
<span class="hljs-symbol">3 </span>=== <span class="hljs-comment">'3'; return false;</span>
</code></pre><p>Here is code that demonstrates this point:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEqual01</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'3'</span> == <span class="hljs-number">3</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEqual02</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'3'</span> === <span class="hljs-number">3</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fillList</span>(<span class="hljs-params"></span>) </span>{
    $(<span class="hljs-string">"#myList"</span>).append(<span class="hljs-string">"&lt;li&gt;"</span> + getEqual01() + <span class="hljs-string">"&lt;/li&gt;"</span>);
    $(<span class="hljs-string">"#myList"</span>).append(<span class="hljs-string">"&lt;li&gt;"</span> + getEqual02() + <span class="hljs-string">"&lt;/li&gt;"</span>);
}
</code></pre>
<p>The first example shown here returns <strong>true</strong>, the second <strong>false</strong>.</p>
<h2 id="looping">Looping</h2>
<h3 id="for-loops">For Loops</h3>
<pre><code class="lang-javascript"><span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 5; i++) {</span>
    console.log(i)<span class="hljs-comment">;</span>
}
</code></pre>
<h3 id="while-loops">While Loops</h3>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> <span class="hljs-keyword">count</span> = 0;

<span class="hljs-keyword">while</span> (<span class="hljs-keyword">count</span> &lt; 5) {
    console.<span class="hljs-built_in">log</span>(<span class="hljs-keyword">count</span>++);
}
</code></pre>
<h3 id="for-and-while-loop-example-program">For and While Loop Example Program</h3>
<p>Here is a short program you can run with node to test them both. To run the
program, create a file index.js with the following contents. Then type:</p>
<pre><code><span class="hljs-keyword">node</span> <span class="hljs-title">index</span>.js
</code></pre><p>Below is the code:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">/**
 * @author Charlie Calvert
 */</span>

<span class="hljs-keyword">var</span> app = {
    basicForLoop : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
            <span class="hljs-built_in">console</span>.log(i);
        }
    },

    basicWhileLoop : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">while</span> (count &lt; <span class="hljs-number">5</span>) {
            <span class="hljs-built_in">console</span>.log(count++);
        }
    }
};

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'\nHere is the for loop:'</span>);
app.basicForLoop();

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'\nHere is the while loop:'</span>);
app.basicWhileLoop();
</code></pre>
<p>The code shown above can be found in the examples code repository found on
GitHub. While there, you might also check out the example of nested for
loops:</p>
<ul>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Syntax/Loops01">JsObjects/JavaScript/Syntax/Loops01</a>:</li>
<li><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Syntax/ForLoopNested">JsObjects/JavaScript/Syntax/ForLoopNested</a></li>
</ul>
<h2 id="branching">Branching</h2>
<p>Branching is the area of computer science that covers both if and switch
statements.</p>
<h3 id="if-statements">If Statements</h3>
<pre><code class="lang-javascript">var app = {

    isEven: function(<span class="hljs-keyword">input</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">input</span> % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) {
            console.log(<span class="hljs-string">'Your input of '</span> + <span class="hljs-keyword">input</span> + <span class="hljs-string">' is even'</span>)<span class="hljs-comment">;</span>
        } <span class="hljs-keyword">else</span> {
            console.log(<span class="hljs-string">'Your input of '</span> + <span class="hljs-keyword">input</span> + <span class="hljs-string">' is odd'</span>)<span class="hljs-comment">;</span>
        }
    }
}<span class="hljs-comment">;</span>

app.isEven(<span class="hljs-number">2</span>)<span class="hljs-comment">;</span>
app.isEven(<span class="hljs-number">3</span>)<span class="hljs-comment">;</span>
app.isEven(<span class="hljs-number">4</span>)<span class="hljs-comment">;</span>
app.isEven(<span class="hljs-number">5</span>)<span class="hljs-comment">;</span>
</code></pre>
<p>The output from this program looks like this:</p>
<pre><code>g:\JsObjects\JavaScript\Syntax\Branching01&gt;node index<span class="hljs-selector-class">.js</span>
Your <span class="hljs-selector-tag">input</span> of <span class="hljs-number">2</span> is even
Your <span class="hljs-selector-tag">input</span> of <span class="hljs-number">3</span> is odd
Your <span class="hljs-selector-tag">input</span> of <span class="hljs-number">4</span> is even
Your <span class="hljs-selector-tag">input</span> of <span class="hljs-number">5</span> is odd
</code></pre><h3 id="switch-statements">Switch Statements</h3>
<p>Switch statements look a bit like a long series of <strong>if..else</strong> statements.
We pass a variable or expression to the <strong>switch</strong> keyword, and then a block
of one or more statements is executed if the passed variable matches a
<strong>case</strong> that we have set up. In effect, we are saying: &quot;If this particular
identifier matches our expression, then execute the statements associated
with this case, else try to match the next case.&quot;</p>
<p>Here for instance, is the way a series of if else statements might look:</p>
<pre><code class="lang-javascript">if (<span class="hljs-keyword">state</span>Abbreviation == 'AL') {
    DoSomething();
} else if (<span class="hljs-keyword">state</span>Abbreviation == 'CA') {
    DoSomethingElse();
} etc...
</code></pre>
<p>Here is how a switch statement would handle the same task:</p>
<pre><code class="lang-javascript">
<span class="hljs-type">Alabama</span> = '<span class="hljs-type">AL</span>',
<span class="hljs-type">California</span> = '<span class="hljs-type">CA</span>',
<span class="hljs-type">Texas</span> = '<span class="hljs-type">TX</span>',
<span class="hljs-type">Washington</span> = '<span class="hljs-type">WA</span>';

<span class="hljs-keyword">var</span> statePopulation =  function(stateAbbreviation) {
    <span class="hljs-keyword">var</span> <span class="hljs-literal">result</span> = <span class="hljs-number">0</span>;

    switch (stateAbbreviation) {
        <span class="hljs-keyword">case</span> '<span class="hljs-type">AL</span>':
            <span class="hljs-literal">result</span> = <span class="hljs-number">4800736</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> '<span class="hljs-type">CA</span>':
            <span class="hljs-literal">result</span> = <span class="hljs-number">38053956</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> '<span class="hljs-type">TX</span>':
            <span class="hljs-literal">result</span> = <span class="hljs-number">25901361</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> '<span class="hljs-type">WA</span>':
            <span class="hljs-literal">result</span> = <span class="hljs-number">6830038</span>;
            <span class="hljs-keyword">break</span>;

        default:
            <span class="hljs-literal">result</span> = -<span class="hljs-number">1</span>;
    }

    console.log('<span class="hljs-type">The</span> population <span class="hljs-keyword">of</span> ' + stateAbbreviation + ' <span class="hljs-keyword">is</span> ' + <span class="hljs-literal">result</span>);
};

<span class="hljs-keyword">var</span> runState = function() {
    statePopulation(<span class="hljs-type">Alabama</span>);
    statePopulation(<span class="hljs-type">California</span>);
    statePopulation(<span class="hljs-type">Texas</span>);
    statePopulation(<span class="hljs-type">Washington</span>);
    statePopulation('<span class="hljs-type">Unknown</span>');
}
</code></pre>
<p>You can have multiple case statements match a single set of statements that
you want to execute:</p>
<pre><code class="lang-javascript">        <span class="hljs-keyword">case</span> '<span class="hljs-type">CA</span>':
        <span class="hljs-keyword">case</span> '<span class="hljs-type">TX</span>':
            <span class="hljs-literal">result</span> = stateIsBig;
            <span class="hljs-keyword">break</span>;
</code></pre>
<p>If you (usually accidentally) leave out a break statement, then something
similar to what we see above occurs. In other words, the code just falls
through to the next example:</p>
<pre><code class="lang-javascript">        <span class="hljs-keyword">case</span> '<span class="hljs-type">TX</span>':
            <span class="hljs-literal">result</span> = <span class="hljs-number">25901361</span>;

        <span class="hljs-keyword">case</span> '<span class="hljs-type">WA</span>':
            <span class="hljs-literal">result</span> = <span class="hljs-number">6830038</span>;
            <span class="hljs-keyword">break</span>;
</code></pre>
<p>In the above code, since there is no break in the Texas case, then result will
be set to 6830038 if either Texas of Washington is passed in.</p>
<p>Notice also that there is an optional default case that is executed if none
of the other options are matched.</p>
<h3 id="comparing-switch-and-if-else-statements">Comparing switch and if..else Statements</h3>
<p>As a general rule, switch statements will execute more quickly than a set of
if..else statements. However, these kinds of performance issues rarely have
serious consequences unless the code in question is being executed inside a
loop. Even if your program does have performance problems, it is unlikely
that the bottle neck will be fixed by substituting a <strong>switch</strong> statement for  a
series of <strong>if..else</strong> statements. Again, if you are in a big loop, then maybe
it will be a bottle neck, but probably not.</p>
<p>The better argument, in my opinion, is for the readability of <strong>switch</strong>
statements. A big block of <strong>if..else</strong> statements can be hard to parse. The
switch statement, on the other hand, lends itself to neat, easy to read
formatting.</p>
<p>Links:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch">MDN</a></li>
</ul>
<h3 id="object-maps">Object Maps</h3>
<p>After all our talk about if..else and <strong>switch</strong> statements it is worth noting
that JavaScript provides a third mechanism that is arguable a much better
solution to this kind of problem. Consider the following example:</p>
<pre><code class="lang-javascript">var funcBranch = function(<span class="hljs-keyword">state</span>Abbreviation) {

    var <span class="hljs-keyword">state</span>Map = {
        'AL': <span class="hljs-number">4800736</span>,
        'CA': <span class="hljs-number">38053956</span>,
        'TX': <span class="hljs-number">25901361</span>,
        'WA': <span class="hljs-number">6830038</span>
    }

    console.<span class="hljs-keyword">log</span>('The population of ' + <span class="hljs-keyword">state</span>Abbreviation + ' = ' + <span class="hljs-keyword">state</span>Map[<span class="hljs-keyword">state</span>Abbreviation]);
};
</code></pre>
<p>In this code we create a small object called stateMap. We can then pull out the
value we want by simply writing the following simple expression:</p>
<pre><code><span class="hljs-keyword">state</span>Map[<span class="hljs-keyword">state</span>Abbreviation]
</code></pre><p>If, for instance, stateAbbreviation were equal to &#39;WA&#39;, then this expression
would return 6830038. This code is concise, easy to read, and it performs
well.</p>
<p>Note that you could perform more complex operations by setting up an object
that contains functions:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> stateMap = {
    <span class="hljs-string">'AL'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-number">4800736</span> /<span class="hljs-number">100</span>;
    },
    <span class="hljs-string">'CA'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-number">38053956</span> / <span class="hljs-number">100</span>;
    },
    etc...
}
</code></pre>
<p>This makes the solution <em>functionally</em> equivalent to a switch statement, since
each option can consist of a series of statements. For instance you could write
something like this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> funcBranch2 = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">stateAbbreviation</span>) </span>{
        <span class="hljs-keyword">var</span> stateMap2 = {
            <span class="hljs-string">'AL'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-number">4800736</span> /<span class="hljs-number">100</span>;
            }(),
            <span class="hljs-string">'CA'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-number">38053956</span> / <span class="hljs-number">100</span>;
            }(),
            <span class="hljs-string">'TX'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-number">25901361</span> / <span class="hljs-number">100</span>;
            }(),

            <span class="hljs-string">'WA'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-number">6830038</span> / <span class="hljs-number">100</span>;
            }()
        }

        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'The population of '</span> + stateAbbreviation + <span class="hljs-string">' = '</span> + stateMap2[stateAbbreviation]);        
    };
</code></pre>
<p>If that is just too esoteric for your tastes, then you can write:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> funcBranch2 = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">stateAbbreviation</span>) </span>{
    <span class="hljs-keyword">var</span> stateMap2 = {
        <span class="hljs-string">'AL'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-number">4800736</span> /<span class="hljs-number">100</span>;
        },
        <span class="hljs-string">'CA'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-number">38053956</span> / <span class="hljs-number">100</span>;
        },
        <span class="hljs-string">'TX'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-number">25901361</span> / <span class="hljs-number">100</span>;
        },

        <span class="hljs-string">'WA'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-number">6830038</span> / <span class="hljs-number">100</span>;
        }
    }

    <span class="hljs-keyword">var</span> bar = stateMap2[stateAbbreviation];
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'The population of '</span> + stateAbbreviation + <span class="hljs-string">' = '</span> + bar());
};
</code></pre>
<p>It&#39;s really just a question of when you want the function to execute. The
first case saves you a bit of code, but it is arguable going to a bit hard
for some people to read.</p>
<p>The example program is on GitHub, in JsObjects:</p>
<p><a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/Syntax/Branching01">JsObjects/JavaScript/Syntax/Branching01</a></p>
<h3 id="sorting">Sorting</h3>
<p>Suppose you have multiple items in an array and you want to sort them. If the arrays is made of strings or numbers,  just call <strong>myArray.sort()</strong>.</p>
<p>If the array is made up of objects or other arrays, JavaScript may not know how to perform the sort in many cases. For instance, if you had an array of objects with firstName and lastName properties, you have to tell JavaScript to sort on the <strong>firstName</strong> or sort on the <strong>lastName.</strong></p>
<p>Like this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> people = [
    {
        firstName: <span class="hljs-string">'George'</span>,
        lastName: <span class="hljs-string">'Washington'</span>
    },
    {
        firstName: <span class="hljs-string">'John'</span>,
        lastName: <span class="hljs-string">'Adams'</span>
    },
    {
        firstName: <span class="hljs-string">'Thomes'</span>,
        lastName: <span class="hljs-string">'Jefferson'</span>
    }
];

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Before sort:'</span>, <span class="hljs-built_in">JSON</span>.stringify(people, <span class="hljs-literal">null</span>, <span class="hljs-number">4</span>));

people.sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
    <span class="hljs-keyword">return</span> a.lastName &gt; b.lastName;
})

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'After sort:'</span>, <span class="hljs-built_in">JSON</span>.stringify(people, <span class="hljs-literal">null</span>, <span class="hljs-number">4</span>));<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></span>
</code></pre>
<p>To produce:</p>
<pre>Before sort: [
    {
        "firstName": "George",
        "lastName": "Washington"
    },
    {
        "firstName": "John",
        "lastName": "Adams"
    },
    {
        "firstName": "Thomes",
        "lastName": "Jefferson"
    }
]
After sort: [
    {
        "firstName": "John",
        "lastName": "Adams"
    },
    {
        "firstName": "Thomes",
        "lastName": "Jefferson"
    },
    {
        "firstName": "George",
        "lastName": "Washington"
    }
]

</pre>

<p>Of course other cases are slightly different, but this should help you get started.</p>
<p>Here is code for sorting an array called <strong>presidents</strong> by first name:</p>
<pre><code class="lang-javascript">    <span class="hljs-keyword">var</span> sort = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
        presidents.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(a, b)</span> </span>{
            <span class="hljs-keyword">if</span> (a.firstName &gt; b.firstName) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a.firstName &lt; b.firstName) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
        });
    };
</code></pre>
<h2 id="properties-and-constants">Properties and Constants</h2>
<p>s
See this example:</p>
<ul>
<li><a href="Constants.html">Constants</a></li>
</ul>
<h2 id="events-and-mousedown">Events and MouseDown</h2>
<p>Use jQuery to designate the name of your event handler:</p>
<pre><code>$(<span class="hljs-string">'#mainCanvas'</span>).<span class="hljs-built_in">click</span>(doMouseDown);
</code></pre><p>Then you can capture the mouseDown event like this, where you need special
code to handle the behavior in FireFox:</p>
<pre><code>    <span class="hljs-keyword">var</span> doMouseDown = function(<span class="hljs-keyword">event</span>) {
    <span class="hljs-keyword">var</span> mouseDownRawX = <span class="hljs-keyword">null</span>;
    <span class="hljs-keyword">var</span> mouseDownRawY = <span class="hljs-keyword">null</span>;

    <span class="hljs-comment">// Fix for FireFox which does not define offsetX</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">event</span>.offsetX === <span class="hljs-string">'undefined'</span>) {
        <span class="hljs-keyword">var</span> elementOffset = $(<span class="hljs-keyword">this</span>).offset();           
           mouseDownRawX = <span class="hljs-keyword">event</span>.pageX - elementOffset.left;
           mouseDownRawY = <span class="hljs-keyword">event</span>.pageY - elementOffset.top;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> mouseDownRawX = <span class="hljs-keyword">event</span>.offsetX;
        <span class="hljs-keyword">var</span> mouseDownRawY = <span class="hljs-keyword">event</span>.offsetY;
    }
</code></pre><h2 id="binding">Binding</h2>
<p>You can use <strong>bind</strong> to bind a function to an object, or rather to an
object&#39;s scope. Suppose you have function func and object obj. You can
make a copy of func seem to be a part of obj with bind so that the this
variable used by func belongs to obj, even if func originally had a this
variable bound to some other object.</p>
<pre><code>    totem = <span class="hljs-string">'bird'</span>;

    <span class="hljs-keyword">var</span> showBind = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
    </span>{
     showDebug(<span class="hljs-keyword">this</span>.totem);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MyFunction</span>(<span class="hljs-params"></span>)
    </span>{
     <span class="hljs-keyword">this</span>.totem = <span class="hljs-string">'bear'</span>;
    }

    <span class="hljs-keyword">var</span> showBindAgain = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
    </span>{
     <span class="hljs-keyword">var</span> myFunction = <span class="hljs-keyword">new</span> MyFunction();
     xshowBind = <span class="hljs-keyword">this</span>.showBind.bind(myFunction);
     xshowBind();
    }

    <span class="hljs-keyword">var</span> showDebug = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)
    </span>{
     $(<span class="hljs-string">'#debug'</span>).append(<span class="hljs-string">'&lt;li&gt;'</span> + data + <span class="hljs-string">'&lt;/li&gt;'</span>);
    }
</code></pre><p>In the code shown above, if you called <strong>showBind</strong>(), and then called
<strong>showBind()</strong> a second time from <strong>showBindAgain</strong>(), the first time it
would print <strong>fish</strong>, and the second time it would print <strong>bear</strong>.</p>
<p>You can try this out by clicking the buttons below. Click these buttons
call showBind() and showBindAgain() from a live copy of the JavaScript
shown above:</p>
<p>If you would prefer an isolated example away from the text on this page,
you can also try this code here:</p>
<p><a href="BindMe.html">BindMe.html</a></p>
<h2 id="experimental-features">Experimental Features</h2>
<p>Try visiting this page in Chrome:</p>
<p>chrome://flags/</p>
<h2 id="javaScriptDictionariesAreAssociativeArrays">JavaScript Dictionaries are Associative Arrays</h2>
<h2 id="debuggingStrategies">Debugging Strategies</h2>
<p>All the major browsers have good debuggers in them, but I probably prefer the one that ships with Chrome.</p>
<p>Load your page in the browser, and press F12 to bring up the <a href="https://developers.google.com/chrome-developer-tools/">Chrome Debugger and Development Tools</a>. If you click around a bit, you can have the debugger in one window and your browser in another window, which can be a good strategy.</p>
<p>We have talked some about debugging strategies with these tools before, but digging into them is very wise. The <strong>Resources page</strong>can help you find JavaScript or HTML files which are badly broken due to syntax issues. The Scripts page allows you to set break points in JavaScript files. The Elements page helps you study an HTML file.</p>
<p>See also these pages:</p>
<ul>
<li><ul>
<li><a href="https://developers.google.com/chrome-developer-tools/">https://developers.google.com/chrome-developer-tools/</a></li>
</ul>
</li>
<li><p><a href="http://www.chromium.org/devtools">http://www.chromium.org/devtools</a></p>
</li>
</ul>
<h2 id="insertAdjacentHTML">Insert Adjacent HTML</h2>
<p>The
<a href="https://developer.mozilla.org/en/DOM/element.insertAdjacentHTML">insertAdjacentHTML</a>
method has been part of some implementations of JavaScript and the DOM
for some time, but it is finally being standardized in HTML 5. When you
click the button shown below, the following code gets executed:</p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">TestInsertAdjacent</span>(<span class="hljs-params"></span>)
</span>{
 <span class="hljs-keyword">var</span> adjacentText = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'AdjecentText'</span>);
adjacentText.insertAdjacentHTML(<span class="hljs-string">'afterbegin'</span>, <span class="hljs-string">'[Rufus]:'</span>);
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><p>Code like this can be placed in a separate file with .js extension, it
can be embedded in the midst of an HTML file, or it can be placed in the
\<head\> section at the top of an HTML file. This code will modify the
next paragraph by placing an arbitrary string ([Rufus]:) at the
beginning of the first sentence, that is, after the opening \<p\> tag:</p>
<p>This is a <strong>p</strong> element with the <strong>IDAdjacentText</strong>. Push the button
below to modify it</p>
<p>There are four places where it can insert text:</p>
<ul>
<li>beforebegin</li>
<li>afterbegin</li>
<li>beforeend</li>
<li>afterend</li>
</ul>
<p>The after and before phrases refer to after and before a tag. Suppose
you have an element like this:</p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This element<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre><p>The statement can insert text before the first \<p\> tag, after that
tag, or before the closing \<p\> tag, or after it.</p>
<p>If you want to learn more about the DOM, go to this page:
<a href="https://developer.mozilla.org/en/Gecko_DOM_Reference">https://developer.mozilla.org/en/Gecko_DOM_Reference</a>.</p>
<p>Here is the code for the button:</p>
<pre><code>&lt;input name=<span class="hljs-string">"insertAdjacentButton"</span> <span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"button"</span> value=<span class="hljs-string">"Insert Adjacent Text"</span> onclick=<span class="hljs-string">"TestInsertAdjacent()"</span>&gt;
</code></pre><h2 id="indent">Indenting with Tabs and Spaces</h2>
<p>You can indent your code with tabs or with spaces, but not with both.
Choose either tabs or spaces, and stick with your decision. There are
many tools you can use to help you fix these kinds of problems. For
instance, simply selecting Source | Format in Eclipse should clean up
this issue. Both Eclipse and NotePad++ contain options that allow you to
see the content of your white space, so you can tell when you are mixing
up the two characters on the same line.</p>
<h2 id="semicolon">End Functions and Statements with a Semicolon</h2>
<p>Functions that take the form of an assignment should end with a
semicolon:</p>
<pre><code><span class="hljs-keyword">var</span> changeList = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    (<span class="hljs-string">"#MyList"</span>).append(<span class="hljs-string">"&lt;li&gt;List Item&lt;/li&gt;"</span>);    
};
</code></pre><p>If you declare a function like the following example, there is no
assignment, and hence no statement, and hence no need for a semicolon:</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeList</span><span class="hljs-params">()</span> </span>{
    (<span class="hljs-string">"#MyList"</span>).append(<span class="hljs-string">"&lt;li&gt;List Item&lt;/li&gt;"</span>);    
}
</code></pre><p>You should, of course, always end a statement with a semicolon:</p>
<pre><code>(<span class="hljs-string">"#MyList"</span>).<span class="hljs-built_in">append</span>(<span class="hljs-string">"&lt;li&gt;List Item&lt;/li&gt;"</span>);
</code></pre><p>It would be wrong to write this:</p>
<pre><code> (<span class="hljs-string">"#MyList"</span>).<span class="hljs-built_in">append</span>(<span class="hljs-string">"&lt;li&gt;List Item&lt;/li&gt;"</span>)
</code></pre></div></body></html>