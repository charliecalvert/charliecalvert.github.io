<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>Functional</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Elvenware</a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav"><li class="trigger-collapse" ng-class="{ active: isActive('/')}"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img class="elf-normal" alt="Elvenware" src="/images/elvenwarelogo.png"/></figure><h1>Functional</h1><p>Welcome to Functional</p><ul><!--TOC_Start--><li><a href="#functional-javascript">Functional JavaScript</a></li>
<li><a href="#maps">Maps</a></li>
<li><a href="#another-example">Another Example</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="functional-javascript"></a>
<h1>Functional JavaScript</h1>
<p>Learn about writing function code.</p>
<p>Functional code is:</p>
<ul>
<li>immutable</li>
<li>stateless</li>
<li>guaranteed, given specific inputs, to always create identical results</li>
</ul>
<a class="anchor" id="maps"></a>
<h2>Maps</h2>
<p>We create a simple map like this:</p>
<pre>    getMap: function() { 'use strict';
        return this.deliciousLinks.map(function(link) {
            return { 'url': link.u };
        });
    }
</pre>
<p>This function takes the data in our deliciousLinks array of objects and converts it into a much simpler array of objects. In particular, the first two objects in our delicious data look like this:</p>
<pre>var deliciousLinks = [
    {
        "a": "charliecalvert",
        "d": "Elvenware JavaScript Home Page",
        "n": "",
        "u": "http://www.elvenware.com/charlie/development/web/JavaScript/",
        "t": [
            "javascript",
            "elvenware"
        ],
        "dt": "2015-10-08T19:33:33Z"
    },
    {
        "a": "charliecalvert",
        "d": "Speaking JavaScript",
        "n": "",
        "u": "http://speakingjs.com/es5/index.html",
        "t": [
            "javascript",
            "books",
            "ebook",
            "learning"
        ],
        "dt": "2015-10-04T04:16:39Z"
    }, etc...
</pre>
<p>After our map function runs, we have create a simplified array of objects that look like this:</p>
<pre>[
    {
        "url": "http://www.elvenware.com/charlie/development/web/JavaScript/"
    },
    {
        "url": "http://speakingjs.com/es5/index.html"
    }, etc...
</pre>
<p>We have converted an array of complex objects with six properties into an array of simple objects with only one property called <strong>url</strong>.</p>
<p>Once you understand the <strong>map</strong> function, it is easy to ceate more maps. For instance, here would be a method that maps both the <strong>u</strong> and the <strong>a</strong> properties of our original object in an object with two properties called <strong>url</strong> and <strong>owner-name</strong>:</p>
<pre>getOwnerNameMap: function() { 'use strict';
    return this.deliciousLinks.map(function(link) {
        return { 'url': link.u, 'owner-name': link.a };
    });
}
</pre>
<p><strong>NOTE</strong>: <em>You can include the above method in <strong>control.js</strong> if you want, but it is not a necessary part of the assignment.</em></p>
<p>The first two records in the array returned by the <strong>getOwnerNameMap</strong> function might look something like this:</p>
<pre>[
    {
        "url": "http://www.elvenware.com/charlie/development/web/JavaScript/",
        "owner-name": "charliecalvert"
    },
    {
        "url": "http://speakingjs.com/es5/index.html",
        "owner-name": "charliecalvert"
    }, etc...
</pre>
<a class="anchor" id="another-example"></a>
<h2>Another Example</h2>
<p>Suppose we had only two members in our array:</p>
<pre>[
    {
        "Year": "2017",
        "Solar (quadrillion Btu)": "0.8045307",
        "Geothermal (quadrillion Btu)": "0.2349284",
        "Other biomass (quadrillion Btu)": "0.50916",
        "Wind power (quadrillion Btu)": "2.202328",
        "Liquid biofuels (quadrillion Btu)": "1.2329197",
        "Wood biomass (quadrillion Btu)": "1.9860924",
        "Hydropower (quadrillion Btu)": "2.5859957"
    },
    {
        "Year": "2016",
        "Solar (quadrillion Btu)": "0.6298938",
        "Geothermal (quadrillion Btu)": "0.232438",
        "Other biomass (quadrillion Btu)": "0.5113525",
        "Wind power (quadrillion Btu)": "2.0395132492",
        "Liquid biofuels (quadrillion Btu)": "1.2406718727",
        "Wood biomass (quadrillion Btu)": "1.9724914",
        "Hydropower (quadrillion Btu)": "2.5965158"
    }
]
</pre>
<p>Here is the method of <strong>RenewablesUtls</strong> that calls the built in JavaScript <strong>map</strong> function:</p>
<pre>this.getYears = function() {
    return renewables.map(function(renewable) {
        return renewable.Year;
    });
};
</pre>
<p>This method pulls our a single field from each member of our array of renewable objects array. In particular, it finds the Year field of each object in our array. The map method then creates an array consisting only of those fields. For instance, s
Our method would return this:</p>
<pre>[2017, 2016]
</pre>
<p>You can also return more complex arrays. For instance, you could return an array that looked like this:</p>
<pre>[
    { wood: "1.9860924" },
    { wood: "1.92724914" }
]
</pre>
<p>This might involve writing code like this:</p>
<pre>this.getWood = function() {
    return renewables.map(function(renewable) {
        return { wood: renewable['Hydropower (quadrillion Btu)'] };
    });
}
</pre>
<p>You could test it something like this:</p>
<pre>it('proves we can get our wood map', function() {
    var woods = scope.renewableUtils.getWood();
    console.log(woods);
    expect(woods.length).toBe(12);
    expect(woods[11]).toEqual({ wood: '2.869035197' });
});
</pre>
</div></body></html>