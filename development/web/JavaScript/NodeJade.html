<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>NodeJade</title><link href="/css/first-style.css" rel="stylesheet"><link rel="shortcut icon" href="/images/favicon.png"><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet"><script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS --><script src="/js/elven-help.js"></script></head><body><nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Elvenware</a></div><div class="navbar-collapse collapse" id="navbar"><ul class="nav navbar-nav"><li class="trigger-collapse" ng-class="{ active: isActive('/')}"><a href="/">Home</a></li><li><a href="/about.html">About</a></li></ul></div></div></nav><div class="container"><figure><img class="elf-normal" alt="Elvenware" src="/images/elvenwarelogo.png"/></figure><h1>NodeJade</h1><p>Welcome to NodeJade</p><ul><!--TOC_Start--><li><a href="#pug-and-jade">Pug and Jade</a></li>
<li><a href="#overview">Overview</a></li>
<li><a href="#clean">Clean</a></li>
<li><a href="#render-basics">Rendering Jade/Pug</a></li>
<li><a href="#input-controls">Input Controls</a></li>
<li><a href="#editors">Editors</a></li>
<li><a href="#loading-pug">Loading Pug</a></li>
<li><a href="#render-examples">Render Examples</a></li>
<li><a href="#unique-names">Use Unique Names</a></li>
<li><a href="#jade-indent">Pug Indent</a></li><!--TOC_End--></ul></div><div class="container"><a class="anchor" id="pug-and-jade"></a>
<h1>Pug and Jade</h1>
<p><a href="https://pugjs.org/api/getting-started.html">Pug</a> is a template library similar to <a href="http://haml.info/">HAML</a> and not totally unlike other popular template libraries such as <a href="http://handlebarsjs.com/">Handlebars</a>. It also is a bit like Markdown, in that it provides a shorthand syntax for composing HTML pages.</p>
<p><strong>NOTE</strong>: <em>The pug library used to be called Jade.</em></p>
<a class="anchor" id="overview"></a>
<h2>Overview</h2>
<p>We will use Pug as a template engine. It allows us to:</p>
<ul>
<li>Use a very readable shorthand for creating HTML</li>
<li>Use JavaScript declared variables in our HTML so we can make a change in one place and see it propagated everywhere</li>
<li>Divide our pages up into composable, reusable modules. For instance, on all our pages we can use a header and footer that we define only once in specific place.</li>
<li>Use Mixins, which are reusable chunks of HTML that can be inserted anywhere in our pages. For instance, a specific kind of customized button.</li>
<li>To understand all this takes time, but it is a very useful skill to develop.</li>
</ul>
<p>There are other templates engines. Which one you use can be a matter of taste or a matter of fitting the right tool to the right use case. We will focus mostly on Pug because it is widely used and well written and well integrated into Express.</p>
<p>Pug used to be called Jade. There was a copyright issue regarding the name, so we now call it pug. I didn&#39;t like the new name at first, but it has grown on me. Certainly, it is short! There may be assignments where I talk about Jade, just remind me to update the assignment, and mentally change the word Jade to Pug.</p>
<a class="anchor" id="clean"></a>
<h2>Clean</h2>
<p>Many developers like to use Pug instead of raw HTML for several reasons:</p>
<ul>
<li>It has a clean easy to read syntax</li>
<li>It is more succinct than HTML</li>
<li>It is also more flexible than HTML. For instance, it allows developers to declare variables and reuse code.</li>
</ul>
<p>Here is an example of how to layout a pug template:</p>
<pre><code class="lang-text">doctype <span class="hljs-selector-tag">html</span>
<span class="hljs-selector-tag">html</span>
    head
        title= title
        link(rel=<span class="hljs-string">'stylesheet'</span>, href=<span class="hljs-string">'/stylesheets/style.css'</span>)
    <span class="hljs-selector-tag">body</span>
        <span class="hljs-selector-tag">nav</span>
            <span class="hljs-selector-tag">ul</span>
                <span class="hljs-selector-tag">li</span>
                    a(href=<span class="hljs-string">"/"</span>) page01
                <span class="hljs-selector-tag">li</span>
                    a(href=<span class="hljs-string">"/page02"</span>) page02
                <span class="hljs-selector-tag">li</span>
                    a(href=<span class="hljs-string">"/page03"</span>) page03
        <span class="hljs-selector-tag">h1</span> #{title}
        block <span class="hljs-attribute">content</span>
</code></pre>
<p>When working with Pug, indentation is crucial. You should indent with either tabs or spaces, but not both. You frequently need to open your file in an editor that allows you to visualize your white space. Then you should count your spaces, and make sure it follows an exact pattern. Suppose, for instance, that you are using tabs for your indentation. In the pseudo code shown below, each hyphen (dash -) represents one tab. Example 1 is like what&#39;s shown above:</p>
<pre><code>doctype html
html
-<span class="ruby"> head
</span>-<span class="ruby"> - title
</span>-<span class="ruby"> - link
</span>-<span class="ruby"> body
</span>-<span class="ruby"> - nav
</span>-<span class="ruby"> - - ul
</span>-<span class="ruby"> - - - li
</span>-<span class="ruby"> - - - li
</span>-<span class="ruby"> - - - li
</span>-<span class="ruby"> - h1
</span>-<span class="ruby"> - block content</span>
</code></pre><p>Example 2 is a common pattern in bootstrap files:</p>
<pre><code>block content
-<span class="ruby"> container
</span>-<span class="ruby"> - header
</span>-<span class="ruby"> - navbar
</span>-<span class="ruby"> - - nav
</span>-<span class="ruby"> - - - ul
</span>-<span class="ruby"> - - - - li
</span>-<span class="ruby"> - - - - li
</span>-<span class="ruby"> - - - - h3
</span>-<span class="ruby"> - - h1
</span>-<span class="ruby"> - - p
</span>-<span class="ruby"> - - h1
</span>-<span class="ruby"> - - div
</span>-<span class="ruby"> - - footer
</span>-<span class="ruby"> - - - p</span>
</code></pre><p>When looking at the pseudo code above, the point is that you can explicitly count how many tabs appear before each HTML element. You want to achieve that level of specificity when working with Pug.</p>
<a class="anchor" id="render-basics"></a>
<h2>Rendering Jade/Pug</h2>
<p>Pug allows us to &quot;pass in&quot; variables (locals) that can be used on the page. This is known as templating.</p>
<p>When Pug is being translated to HTML, the renderer looks at the locals that are passed to it and substitutes these variables for markers on the page.</p>
<p>For instance, in this well-known chunk of code, where the locals have a property called title:</p>
<pre><code class="lang-javascript">router.get(<span class="hljs-string">'/'</span>, routeParamMiddleware, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res, next</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    res.render(<span class="hljs-string">'index'</span>, {
        <span class="hljs-attr">title</span>: <span class="hljs-string">'Week09-SessionBasics'</span>
    });
});
</code></pre>
<p>We can then reference this in our Pug like this:</p>
<pre><code class="lang-text">p Welcome <span class="hljs-keyword">to</span> <span class="hljs-comment">#{title}</span>
For more details <span class="hljs-keyword">on</span> this process, see <span class="hljs-keyword">the</span> overview here:
</code></pre>
<p><a href="https://pugjs.org/api/getting-started.html">https://pugjs.org/api/getting-started.html</a> (Links to an external site.)</p>
<p>Even if all this is clear, it still may not be obvious that the locals can take a complex object like user, and that we can reference the fields of that object in our Pug:</p>
<pre><code class="lang-javascript">response.render(<span class="hljs-string">'account'</span>, {
    title: <span class="hljs-string">'Google Account'</span>,
    <span class="hljs-keyword">user</span>: request.<span class="hljs-keyword">user</span>
});
</code></pre>
<p>And in the Pug:</p>
<pre><code class="lang-text">p DisplayName: #{<span class="ruby">user.displayName}</span>
</code></pre>
<a class="anchor" id="input-controls"></a>
<h2>Input Controls</h2>
<p>Declare a text Input:</p>
<pre><code>input<span class="hljs-function"><span class="hljs-keyword">#</span><span class="hljs-title">dirToWalk</span><span class="hljs-params">(<span class="hljs-variable">type</span>='<span class="hljs-variable">text</span>', <span class="hljs-variable">name</span>='<span class="hljs-variable">dirToWalk</span>')</span></span>
</code></pre><p>Put text in it with jQuery:</p>
<pre><code class="lang-javascript"><span class="hljs-meta">$</span><span class="bash">(<span class="hljs-string">'#dirToWalk'</span>).val(<span class="hljs-string">'/home/charlie/Documents/AllTest'</span>);</span>
</code></pre>
<a class="anchor" id="editors"></a>
<h2>Editors</h2>
<p><strong>HINT</strong>: <em>Here are some ways to turn on visual whitespace in various editors:</em></p>
<ul>
<li>NotePad++: <strong>View | Show Symbol | Show White Space and Tab</strong></li>
<li>Geany: <strong>View | Editor | Show White Space</strong></li>
</ul>
<p>Most programming editors have options like these.</p>
<a class="anchor" id="loading-pug"></a>
<h2>Loading Pug</h2>
<p>While reading this section, you might want to also run the accompanying example program, found in the <a href="https://github.com/charliecalvert/JsObjects/tree/master/JavaScript/NodeCode/JadeRoutes">JadeRoutes</a> program from JsObjects.</p>
<p>In the next few paragraphs I describe how Pug templates get loaded in to our web applications. Much of the code I describe is autogenerated for you when you first create the express application. However, some of the code you have to write yourself. Of course, whether the code is autogenerated, or created automatically, you should be sure that you understand all the pieces and what they do.</p>
<p>In our <strong>app.js</strong> file we link in the views directory and tell express to use Pug. Note that their other ways for express to generate or <strong>render</strong> HTML files. But we are asking it to render HTML from Pug templates. We do so with code like this:</p>
<pre><code>app.<span class="hljs-built_in">set</span>(<span class="hljs-string">'views'</span>, path.<span class="hljs-built_in">join</span>(<span class="hljs-variable">__dirname</span>, <span class="hljs-string">'views'</span>));
app.<span class="hljs-built_in">set</span>(<span class="hljs-string">'view engine'</span>, <span class="hljs-string">'pug'</span>);
</code></pre><p>Once again, this code is found in <strong>app.js</strong>. It is frequently, perhaps even usually, auto-generated by the <strong>express-generator</strong>. But you should understand what it does.</p>
<p>After processing the above code, express knows to look for Pug files in the <strong>views</strong> directory. It also knows to <strong>render</strong> views using the Pug engine.</p>
<p>Our next chore is to tell express where to send requests sent from the browser. The user typically uses HTTP to compose URLs which are sent back to our express server. Depending on the shape of the URL, the express app can handle the request in any number of ways. The following code in <strong>app.js</strong> tells express where to send requests with a particular type of URL. This is known as routing:</p>
<pre><code><span class="hljs-comment">// Link in the index.js file from the routes directory</span>
<span class="hljs-keyword">var</span> routes = <span class="hljs-keyword">require</span>(<span class="hljs-string">'./routes/index'</span>);

<span class="hljs-comment">// Tell the program to send routes of a certain type to **routes/index.js**.</span>
app.<span class="hljs-keyword">use</span>(<span class="hljs-string">'/'</span>, routes.index);
</code></pre><p>The above code tells express the following:</p>
<ul>
<li>If the user types in <strong>http:<a href="http://www.example.com/">www.example.com/</a></strong><ul>
<li>route the request to <strong>routes/index.js</strong>.</li>
</ul>
</li>
<li>If he types in <strong><a href="http://www.example.com/foo">http://www.example.com/foo</a></strong> the code is also routed to <strong>routes/index.js</strong>.</li>
</ul>
<p>In fact, with the code shown above, most requests from the server will end up going to <strong>routes/index.js</strong>. However, we shall see that it is possible to tell the server to route requests of a certain type to another file. For instance, requests to <strong><a href="http://www.example.com/foo">http://www.example.com/foo</a></strong> could be sent to <strong>routes/foo.js</strong>.</p>
<a class="anchor" id="render-examples"></a>
<h2>Render Examples</h2>
<p>When the browser sends a request for an HTML page, express can send the request to <strong>routes/index.js</strong>). Routes found in that file detail how our Pug templates should be rendered.</p>
<p>Here is an example <strong>routes/index.js</strong>. Study it with care:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">var</span> router = express.Router();

<span class="hljs-comment">/* ONE: GET home page. */</span>
router.get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response, next</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    response.render(<span class="hljs-string">'index'</span>, {
        <span class="hljs-attr">author</span>: <span class="hljs-string">'Charlie Calvert'</span>,
        <span class="hljs-attr">title</span>: <span class="hljs-string">'Solar Explorer'</span>
    });
});

<span class="hljs-comment">/* TWO: Energy Types Pug files routed here. The Pug is in the energy-types directory. */</span>
router.get(<span class="hljs-string">'/energy-types/:id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    response.render(<span class="hljs-string">'energy-types/'</span> + request.params.id, {
        <span class="hljs-attr">title</span>: <span class="hljs-string">'Energy Types'</span>
    });
});

<span class="hljs-comment">/* THREE: Renewable Pug files routed here. The Pug is in the renewables directory */</span>
router.get(<span class="hljs-string">'/renewables/:id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response, next</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    response.render(<span class="hljs-string">'renewables/'</span> + request.params.id, {
        <span class="hljs-attr">title</span>: <span class="hljs-string">'Renewable Types'</span>
    });
});

<span class="hljs-comment">/* FOUR: Other Pug files routed here. The Pug is in the views directory. */</span>
router.get(<span class="hljs-string">'/:id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response, next</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    response.render(request.params.id, {
        <span class="hljs-attr">title</span>: <span class="hljs-string">'Random types'</span>
    });
});

<span class="hljs-built_in">module</span>.exports = router;
</code></pre>
<p>Once again, I ask the you study this example carefully. All the routes in this file translate Pug into HTML and send the result to the server using HTTP. I have labeled each method as ONE, TWO, THREE and FOUR.</p>
<ul>
<li>ONE: This is where requests for the home page go. <strong><a href="http://www.example.com">http://www.example.com</a></strong></li>
<li>TWO: This is where requests for energy-types pages go: <strong><a href="http://www.example.com/energy-types/solar-page">http://www.example.com/energy-types/solar-page</a></strong></li>
<li>THREE: This is where requests for renewable pages go: <strong><a href="http://www.example.com/renewables/hydro-page">http://www.example.com/renewables/hydro-page</a></strong></li>
<li>FOUR: This where requests for uncategorized files go: <strong><a href="http://www.example.com/about-page">http://www.example.com/about-page</a></strong></li>
</ul>
<p><strong>NOTE</strong>: <em>We don&#39;t explicitly ask for HTML even though it is HTML that will be sent back to the brower. In other words, instead of writing this: <strong><a href="http://example.com/about.html">http://example.com/about.html</a></strong>, we write this: <strong><a href="http://example.com/about">http://example.com/about</a></strong>. It is a simple matter to teach express to respond properly to either request, but I find it simpler to dismiss with the HTML extension. But this is a matter of taste, and you should feel free to do what seems best to you.</em></p>
<p>Now let&#39;s consider the case where we want requests for anything have to do with renewables to be sent not to <strong>routes/index.js</strong> but to <strong>routes/renewables.js</strong>. We do this in large programs where we don&#39;t want to overload <strong>index.js</strong> with too many methods.</p>
<p>Suppose you create a file called <strong>routes/renewables.js</strong>. To set it up, do this in <strong>app.js</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> renewables = <span class="hljs-keyword">require</span>(<span class="hljs-string">'./routes/renewables'</span>);
<span class="hljs-keyword">var</span> routes = <span class="hljs-keyword">require</span>(<span class="hljs-string">'./routes/index'</span>);

<span class="hljs-comment">// It's usually safest to insert the renewables middleware</span>
<span class="hljs-comment">// before the middleware found in **routes/index.js**</span>
app.<span class="hljs-keyword">use</span>(<span class="hljs-string">'/renewables/'</span>, renewables);
app.<span class="hljs-keyword">use</span>(<span class="hljs-string">'/'</span>, routes);
</code></pre>
<p>In <strong>routes/renewables.js</strong>, add, for now, just one route:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">var</span> router = express.Router();

router.get(<span class="hljs-string">'/:id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    response.render(<span class="hljs-string">'renewables/'</span> + request.params.id, {
        <span class="hljs-attr">title</span>: <span class="hljs-string">'ElfComponent'</span>
    });
});

<span class="hljs-built_in">module</span>.exports = router;
</code></pre>
<p>Now consider where our different URLs lead:</p>
<ul>
<li><strong><a href="http://www.example.com">http://www.example.com</a></strong> =&gt; <strong>routes/index.js</strong></li>
<li><strong><a href="http://www.example.com/energy-types/my-jade-file">http://www.example.com/energy-types/my-jade-file</a></strong> =&gt; <strong>routes/index.js</strong></li>
<li><strong><a href="http://www.example.com/renewables/my-jade-file">http://www.example.com/renewables/my-jade-file</a></strong> =&gt; <strong>routes/renewables.js</strong></li>
<li><strong><a href="http://www.example.com/about">http://www.example.com/about</a></strong> =&gt; <strong>routes/index.js</strong></li>
</ul>
<p>Notice that the third request routes URLs with <strong><a href="http://example.com/renewables/">http://example.com/renewables/</a></strong> in them to the routes found in our <strong>routes/renewables.js</strong> file.</p>
<p>The next logical step would be to create <strong>routes/energy-types.js</strong>. To do so, just follow the template established by the example shown above for <strong>renewables</strong>.</p>
<p>Finally, we can, of course, define other routes in these files that have nothing to do with Pug. For instance, we might define a route in <strong>renewables.js</strong> that loads a JSON file:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">var</span> router = express.Router();

<span class="hljs-comment">/* ONE */</span>
router.get(<span class="hljs-string">'/getRenewables'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    fs.readFile(<span class="hljs-string">'data/renewables.json'</span>, <span class="hljs-string">'utf8'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
        <span class="hljs-keyword">if</span> (err) {
            response.status(<span class="hljs-number">404</span>).send(err);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> jsonAsObject = <span class="hljs-built_in">JSON</span>.parse(data);
            response.send({ <span class="hljs-attr">renewables</span>: jsonAsObject });
        }
    });
});

<span class="hljs-comment">/* TWO */</span>
router.get(<span class="hljs-string">'/:id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    response.render(<span class="hljs-string">'renewables/'</span> + request.params.id, {
        <span class="hljs-attr">title</span>: <span class="hljs-string">'ElfComponent'</span>
    });
});

<span class="hljs-built_in">module</span>.exports = router;
</code></pre>
<p>Looking at the above code, it should be obvious that route ONE has nothing to do with Pug. It is about loading JSON. Route TWO, on the other hand, has to be about Pug, since it calls render. As explained above, we have configured our express program to render Pug as HTML and send it back to the browser via HTTP.</p>
<p>Some resources:</p>
<ul>
<li><a href="http://jade-lang.com/">Home page</a></li>
<li><a href="http://html2pug.com/">HTML to Pug</a></li>
<li><a href="http://html2jade.aaron-powell.com/">HTML to Jade</a></li>
</ul>
<a class="anchor" id="unique-names"></a>
<h2>Use Unique Names</h2>
<p>Don&#39;t define the same name for different tasks. If you have a javascript file called <strong>/public/javascript/renewables.js</strong>, consider avoiding creating entities such as:</p>
<ul>
<li><strong>views/renewables.jade</strong></li>
<li><strong>routes/renewables.js</strong></li>
</ul>
<p>Also consider avoiding creating routes in <strong>routes/renewables.js</strong> that look like this:</p>
<pre><code class="lang-javascript">router.post(<span class="hljs-string">'/renewables'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(request, response)</span> </span>{ ... })
</code></pre>
<p>It is not necessarily an error to do this, but it can cause confusion. Consider instead:</p>
<ul>
<li><strong>views/renewables-page.jade</strong></li>
<li><strong>routes/renewables-routes.js</strong></li>
<li><strong>router.post(&#39;/getRenewables&#39;, function(request, response) { ... })</strong></li>
</ul>
<p>This may not be an idea solution, but it can help you sort out your code. If you don&#39;t like this kind of solution, then just be careful when loading javascript, Pug and calling routes.</p>
<a class="anchor" id="jade-indent"></a>
<h2>Pug Indent</h2>
<p>When thinking about Pug, indentation is crucial. Suppose I write this:</p>
<pre><code><span class="hljs-selector-tag">div</span>
p
</code></pre><p>That creates two separate, unrelated elements, a div and paragraph.</p>
<pre><code><span class="hljs-section">&lt;div&gt;</span><span class="hljs-section">&lt;/div&gt;</span>
<span class="hljs-section">&lt;p&gt;</span><span class="hljs-section">&lt;/p&gt;</span>
</code></pre><p>Suppose I write this:</p>
<pre><code><span class="hljs-selector-tag">div</span>
   p
</code></pre><p>Now the paragraph is part of the div because it is indented to the right beneath it.</p>
<pre><code><span class="hljs-section">&lt;div&gt;</span>
   <span class="hljs-section">&lt;p&gt;</span><span class="hljs-section">&lt;/p&gt;</span>
<span class="hljs-section">&lt;/div&gt;</span>
</code></pre><p>Suppose you create a div and make it your controller:</p>
<pre><code><span class="hljs-function"><span class="hljs-title">div</span><span class="hljs-params">(ngController=<span class="hljs-string">"MyController"</span>)</span></span>
<span class="hljs-selector-tag">p</span> {{firstName}}
</code></pre><p>The above code probably won&#39;t work because the paragraph is not part of the controller and hence <strong>{{firstName}}</strong> is out of scope. To fix it, do this:</p>
<pre><code><span class="hljs-function"><span class="hljs-title">div</span><span class="hljs-params">(ngController=<span class="hljs-string">"MyController"</span>)</span></span>
   <span class="hljs-selector-tag">p</span> {{firstName}}
</code></pre><p>Now the paragraph is part of the controller.</p>
<p>When trying to see exactly what is going on with the spacing in a Pug file, considering opening it in geany and turning on <strong>View | Editor | Show White Space</strong>. Or open it in NotePad++ and choose <strong>View | Show Symbol | Show White Space and Tab</strong>.</p>
<p>In WebStorm, you can also turn on visible white space, I believe it is: <strong>File | Settings | Editor | General | Appearance | White Space</strong>.</p>
</div></body></html>