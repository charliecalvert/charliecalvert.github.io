<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1.0"><title>JsonBasics</title><link rel="shortcut icon" href="/charlie/images/favicon.png"><!-- Latest compiled and minified CSS--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"><!-- Optional theme--><link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css"><!-- link(href='/libs/css/BootstrapIndex.css', rel='stylesheet', type='text/css')--><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="/css/highlight/googlecode.css" rel="stylesheet" type="text/css"><script src="/components/jquery/dist/jquery.js"></script><script src="/components/angular/angular.js"></script><script src="/components/angular-route/angular-route.js"></script><script src="/components/bootstrap/dist/js/bootstrap.min.js"></script><!-- script(src='/libs/scripts/elvenware.js', type='text/javascript')--><script src="/libs/scripts/Control.js"></script><!-- script(src='http://localhost:35729/livereload.js')--></head><body><div class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Elvenware</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a href="/index.html">Home</a></li><li><a href="/about">About</a></li><li class="dropdown"><a href="#/" data-toggle="dropdown" class="dropdown-toggle">Dropdown<b class="caret"></b></a><ul class="dropdown-menu"><li class="dropdown-header">Core Code</li><li><a href="/charlie/development/index.html">Strongly Typed</a></li><li><a href="/charlie/development/web/index.html">Web & Scripts</a></li><li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li><li class="divider"></li><li class="dropdown-header">OS and Tools</li><li><a href="/os/index.html">OS</a></li><li><a href="/charlie/development/database/index.html">Database</a></li><li><a href="/books/index.html">My Writing</a></li><li class="divider"></li><li class="dropdown-header">Art</li><li><a href="/charlie/Art/index.html">Poems & Photos</a></li><li><a href="/books/reading/index.html">Book Reviews</a></li><li><a href="/spirit/index.html">Spiritual</a></li><li class="divider"></li><li class="dropdown-header">Links</li><li><a href="/charlie/links.html">My Links</a></li><li><a href="http://www.github.com/charliecalvert">GitHub</a></li><li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li></ul></li></ul></div><!-- /.nav-collapse--></div></div><div class="container"><figure><img alt="Elvenware" src="/charlie/images/elvenwarelogo.png"/></figure><h1>JsonBasics</h1><p>Welcomes to JsonBasics</p><ul><!--TOC_Start--><li><a href="#overview">Overview</a></li>
<li><a href="#reading-json-with-node">Reading JSON with Node</a></li>
<li><a href="#working">Working with JSON</a></li>
<li><a href="#links">Links</a></li><!--TOC_End--></ul><h2 id="overview">Overview</h2>
<p>JSON, like XML, is a text base sepecification for exchanging data. JSON is
based on JavaScript. In fact, it is a subset of JavaScript. In particular,
it allows you to declare simple JavaScript objects that consist of name
value pairs:</p>
<pre><code class="lang-javascript">{
    "<span class="hljs-attr">firstName</span>": <span class="hljs-string">"George"</span>,
    "<span class="hljs-attr">lastName</span>": <span class="hljs-string">"Washington"</span>
}
</code></pre>
<p>You can also declare simple JavaScript arrays:</p>
<pre><code class="lang-javascript">[a, b, c]
</code></pre>
<p>You can combine the two:</p>
<pre><code class="lang-javascript">[
    {
        "<span class="hljs-attr">firstName</span>": <span class="hljs-string">"George"</span>,
        "<span class="hljs-attr">lastName</span>": <span class="hljs-string">"Washington"</span>
    }, {
        "<span class="hljs-attr">firstName</span>": <span class="hljs-string">"John"</span>,
        "<span class="hljs-attr">lastName</span>": <span class="hljs-string">"Adams"</span>
    }, {
        "<span class="hljs-attr">firstName</span>": <span class="hljs-string">"Thomas"</span>,      
        "<span class="hljs-attr">lastName</span>": <span class="hljs-string">"Jefferson"</span>
    }
]
</code></pre>
<h2 id="reading-json-with-node">Reading JSON with Node</h2>
<p>There is a library called fs (FileSystem) that is built into Node. You can load the library like this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
</code></pre>
<p>Then you can use the library to read in a file:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> json = fs.readFileSync(<span class="hljs-string">'index.json'</span>);
</code></pre>
<p>The code above reads in a text file and puts the contents in the variable of type <strong>string</strong> called <strong>json</strong>.</p>
<p>Here is how to do the same thing asynchronously:</p>
<pre><code class="lang-javascript">fs.readFile('index.json', function(err, <span class="hljs-literal">result</span>) {
    <span class="hljs-keyword">if</span> (err) {
        throw err;
    }
    <span class="hljs-keyword">var</span> json = <span class="hljs-literal">result</span>;
});
</code></pre>
<p>Finally, you can convert that JSON string into a real JavaScript object by writing this code:</p>
<pre><code class="lang-javascript"><span class="hljs-variable"><span class="hljs-keyword">var</span> obj</span> = json.parse(json);
</code></pre>
<p>So your code might look like this:</p>
<pre><code class="lang-javascript">fs.readFile('./index.json', function(err, <span class="hljs-literal">result</span>) {
    <span class="hljs-keyword">if</span> (err) {
        throw err;
    }
    <span class="hljs-keyword">var</span> json = <span class="hljs-type">JSON</span>.parse(<span class="hljs-literal">result</span>);
    <span class="hljs-type">DoSomethingWithTheJson</span>(json);
});
</code></pre>
<h2 id="working">Working with JSON</h2>
<p>This code can go in the head section of your HTML:</p>
<pre><code class="lang-html">&lt;script <span class="hljs-keyword">type</span>=<span class="hljs-string">"textx-handlebars-template"</span> id=<span class="hljs-string">"par01"</span>&gt;
    &lt;p&gt;<span class="hljs-template-variable">{{text}}</span>&lt;<span class="hljs-regexp">/p&gt;
&lt;/script</span>&gt;
</code></pre>
<p>Here is code for using the template:</p>
<pre><code class="lang-javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addItem</span>(<span class="hljs-params">text</span>) </span>{  
<span class="hljs-meta">        'use strict'</span>;  

        <span class="hljs-keyword">var</span> script = \$(<span class="hljs-string">"#par01"</span>).html(),  
        template=Handlebars.compile(script);  

        <span class="hljs-keyword">var</span> result = template({  
            text: text  
        });  

        $(<span class="hljs-string">"#myDiv"</span>).append(result);  
    }

    $.getJSON(<span class="hljs-string">"index.json"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{  
        $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, president</span>) </span>{  
            $(<span class="hljs-string">'#data01'</span>).append(<span class="hljs-string">"&lt;p&gt;"</span> + president.firstName
                + <span class="hljs-string">' '</span> + president.lastName + <span class="hljs-string">"&lt;/p&gt;"</span>);  
        });  
    });
</code></pre>
<p>You can download jQuery from <a href="http://jquery.com">http://jquery.com</a></p>
<h2 id="links">Links</h2>
<ul>
<li><a href="http://www.json.org/">JSON Home Site</a></li>
<li><a href="http://jsonlint.com/">JSON Validator</a></li>
</ul>
</div></body></html>